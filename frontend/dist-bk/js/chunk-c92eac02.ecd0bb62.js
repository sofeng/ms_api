(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c92eac02"],{"0061":function(e,t,s){"use strict";s("59b5")},"03b2":function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"visible-dialog",attrs:{title:e.$t("api_test.automation.scenario_total"),"close-on-click-modal":!1,visible:e.visible,width:"80%","append-to-body":""},on:{"update:visible":function(t){e.visible=t},close:e.close}},[s("fieldset",{staticClass:"ms-fieldset",attrs:{disabled:e.disabled}},[s("el-collapse-transition",{scopedSlots:e._u([{key:"footer",fn:function(){return[s("div",[s("el-button",{attrs:{type:"primary"},on:{click:e.save}},[e._v(e._s(e.$t("commons.confirm")))])],1)]},proxy:!0}])},[s("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[s("el-tab-pane",{attrs:{label:e.$t("api_test.scenario.variables"),name:"variable"}},[s("div",[s("el-row",{staticStyle:{"margin-bottom":"10px"}},[s("div",{staticStyle:{float:"left"}},[s("el-input",{attrs:{placeholder:e.$t("commons.search_by_name"),size:"small"},on:{change:e.filter,keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.filter.apply(null,arguments)}},model:{value:e.selectVariable,callback:function(t){e.selectVariable=t},expression:"selectVariable"}},[s("el-select",{staticStyle:{width:"90px"},attrs:{slot:"prepend",placeholder:e.$t("test_resource_pool.type")},on:{change:e.filter},slot:"prepend",model:{value:e.searchType,callback:function(t){e.searchType=t},expression:"searchType"}},[s("el-option",{attrs:{value:"CONSTANT",label:e.$t("api_test.automation.constant")}}),s("el-option",{attrs:{value:"LIST",label:e.$t("test_track.case.list")}}),s("el-option",{attrs:{value:"CSV",label:"CSV"}}),s("el-option",{attrs:{value:"COUNTER",label:e.$t("api_test.automation.counter")}}),s("el-option",{attrs:{value:"RANDOM",label:e.$t("api_test.automation.random")}})],1)],1)],1),s("div",{staticStyle:{float:"right"}},[s("el-dropdown",{staticStyle:{"margin-left":"10px"},attrs:{"split-button":"",type:"primary",size:"small"},on:{command:e.handleClick,click:function(t){return e.handleClick("CONSTANT")}}},[e._v(" "+e._s(e.$t("commons.add"))+" "),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[s("el-dropdown-item",{attrs:{command:"CONSTANT"}},[e._v(e._s(e.$t("api_test.automation.constant")))]),s("el-dropdown-item",{attrs:{command:"LIST"}},[e._v(e._s(e.$t("test_track.case.list")))]),s("el-dropdown-item",{attrs:{command:"CSV"}},[e._v("CSV")]),s("el-dropdown-item",{attrs:{command:"COUNTER"}},[e._v(e._s(e.$t("api_test.automation.counter")))]),s("el-dropdown-item",{attrs:{command:"RANDOM"}},[e._v(e._s(e.$t("api_test.automation.random")))])],1)],1),s("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small"},on:{click:e.deleteVariable}},[e._v(e._s(e.$t("commons.delete"))+" ")])],1),s("div",{staticStyle:{float:"right","margin-top":"10px"}},[s("el-link",{attrs:{type:"primary",disabled:e.disabled},on:{click:e.batchAddParameter}},[e._v(" "+e._s(e.$t("commons.batch_add"))+" ")])],1)]),s("el-row",[s("el-col",{attrs:{span:12}},[s("div",{staticStyle:{border:"1px #DCDFE6 solid","min-height":"400px","border-radius":"4px",width:"100%"}},[s("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"table",staticClass:"adjust-table",attrs:{border:"",data:e.variables,"row-class-name":e.tableRowClassName,height:"400px"},on:{"select-all":e.select,select:e.select,"row-click":e.edit}},[s("el-table-column",{attrs:{type:"selection",width:"38"}}),s("el-table-column",{attrs:{prop:"num",label:"ID",sortable:"",width:"60"}}),s("el-table-column",{attrs:{prop:"name",label:e.$t("api_test.variable_name"),sortable:"","show-overflow-tooltip":""}}),s("el-table-column",{attrs:{prop:"type",label:e.$t("test_track.case.type"),width:"70"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",[e._v(e._s(e.types.get(t.row.type)))])]}}])}),s("el-table-column",{attrs:{prop:"value",label:e.$t("api_test.value"),"show-overflow-tooltip":""}})],1),s("batch-add-parameter",{ref:"batchAddParameter",on:{batchSave:e.batchSaveParameter}})],1)]),s("el-col",{attrs:{span:12}},["CONSTANT"==e.editData.type?s("ms-edit-constant",{ref:"parameters",attrs:{editData:e.editData},on:{"update:editData":function(t){e.editData=t},"update:edit-data":function(t){e.editData=t}}}):e._e(),"COUNTER"==e.editData.type?s("ms-edit-counter",{ref:"counter",attrs:{editData:e.editData},on:{"update:editData":function(t){e.editData=t},"update:edit-data":function(t){e.editData=t}}}):e._e(),"RANDOM"==e.editData.type?s("ms-edit-random",{ref:"random",attrs:{editData:e.editData},on:{"update:editData":function(t){e.editData=t},"update:edit-data":function(t){e.editData=t}}}):e._e(),"LIST"==e.editData.type?s("ms-edit-list-value",{ref:"listValue",attrs:{editData:e.editData}}):e._e(),"CSV"==e.editData.type?s("ms-edit-csv",{ref:"csv",attrs:{editData:e.editData},on:{"update:editData":function(t){e.editData=t},"update:edit-data":function(t){e.editData=t}}}):e._e()],1)],1)],1)]),s("el-tab-pane",{attrs:{label:e.$t("api_test.scenario.headers"),name:"headers"}},[s("el-tooltip",{staticClass:"item-tabs",attrs:{slot:"label",effect:"dark",content:e.$t("api_test.request.headers"),placement:"top-start"},slot:"label"},[s("span",[e._v(e._s(e.$t("api_test.request.headers"))+" "),e.headers.length>1?s("div",{staticClass:"el-step__icon is-text ms-api-col ms-variable-header"},[s("div",{staticClass:"el-step__icon-inner"},[e._v(e._s(e.headers.length-1))])]):e._e()])]),s("el-row",[s("el-link",{staticClass:"ms-variable-link",attrs:{type:"primary",disabled:e.disabled},on:{click:e.batchAddHeader}},[e._v(" "+e._s(e.$t("commons.batch_add"))+" ")])],1),s("div",{staticStyle:{"min-height":"400px"}},[s("ms-api-key-value",{attrs:{items:e.headers,suggestions:e.headerSuggestions}}),s("batch-add-parameter",{ref:"batchAddHeader",on:{batchSave:e.batchSaveHeader}})],1)],1)],1)],1)],1)])},i=[],n=(s("bb13"),s("89a8"),s("b110"),s("fe35"),s("4c1e"),s("fee8"),s("1a91"),s("8ea3"),s("2788"),s("aa08"),s("10dd"),s("e766"),s("3ef3"),s("993f"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("el-form",{ref:"form",attrs:{model:e.editData,"label-position":"right","label-width":"80px",size:"small",rules:e.rules}},[s("el-form-item",{attrs:{label:e.$t("api_test.variable_name"),prop:"name"}},[s("el-input",{ref:"nameInput",attrs:{placeholder:e.$t("api_test.variable_name")},model:{value:e.editData.name,callback:function(t){e.$set(e.editData,"name",t)},expression:"editData.name"}})],1),s("el-form-item",{attrs:{label:e.$t("commons.description"),prop:"description"}},[s("el-input",{staticClass:"ms-http-textarea",attrs:{type:"textarea",autosize:{minRows:2,maxRows:10},rows:2,size:"small"},model:{value:e.editData.description,callback:function(t){e.$set(e.editData,"description",t)},expression:"editData.description"}})],1),s("el-form-item",{attrs:{label:e.$t("api_test.value"),prop:"value"}},[s("el-col",{staticClass:"item"},[s("el-autocomplete",{staticStyle:{width:"100%"},attrs:{size:"small",placeholder:e.$t("api_test.value"),"value-key":"name","fetch-suggestions":e.funcSearch,"highlight-first-item":""},model:{value:e.editData.value,callback:function(t){e.$set(e.editData,"value",t)},expression:"editData.value"}},[s("i",{staticClass:"el-input__icon el-icon-edit pointer",attrs:{slot:"suffix"},on:{click:e.advanced},slot:"suffix"})])],1)],1)],1),s("ms-api-variable-advance",{ref:"variableAdvance"})],1)}),r=[],o=(s("b3d9"),s("5a05"),s("4abd")),l=s("8bac"),c={name:"MsEditConstant",components:{MsApiVariableAdvance:l["a"]},props:{editData:{}},data:function(){return{rules:{name:[{required:!0,message:this.$t("test_track.case.input_name"),trigger:"blur"}]}}},methods:{advanced:function(){this.$refs.variableAdvance.open()},createFilter:function(e){return function(t){return 0===t.value.toLowerCase().indexOf(e.toLowerCase())}},funcFilter:function(e){return function(t){return t.name.toLowerCase().indexOf(e.toLowerCase())>-1}},funcSearch:function(e,t){var s=o["p"].concat(o["n"]),a=e?s.filter(this.funcFilter(e)):s;t(a)}},created:function(){var e=this;this.$nextTick((function(){e.$refs.nameInput.focus()}))}},u=c,d=s("cba8"),p=Object(d["a"])(u,n,r,!1,null,"412e613c",null),m=p.exports,h=s("15bc"),f=s("10b9"),b=s("59d9"),v=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-form",{ref:"form2",attrs:{model:e.editData,"label-position":"right","label-width":"80px",size:"small",rules:e.rules}},[s("el-form-item",{attrs:{label:e.$t("api_test.variable_name"),prop:"name"}},[s("el-input",{attrs:{placeholder:e.$t("api_test.variable_name")},model:{value:e.editData.name,callback:function(t){e.$set(e.editData,"name",t)},expression:"editData.name"}})],1),s("el-form-item",{attrs:{label:e.$t("commons.description"),prop:"description"}},[s("el-input",{staticClass:"ms-http-textarea",attrs:{type:"textarea",autosize:{minRows:2,maxRows:10},rows:2,size:"small"},model:{value:e.editData.description,callback:function(t){e.$set(e.editData,"description",t)},expression:"editData.description"}})],1),s("el-form-item",{attrs:{label:e.$t("variables.start"),prop:"startNumber"}},[s("el-input-number",{staticStyle:{width:"100%"},attrs:{size:"small",placeholder:"0",max:1e10,min:0},model:{value:e.editData.startNumber,callback:function(t){e.$set(e.editData,"startNumber",t)},expression:"editData.startNumber"}})],1),s("el-form-item",{attrs:{label:e.$t("variables.end"),prop:"endNumber"}},[s("el-input-number",{staticStyle:{width:"100%"},attrs:{size:"small",placeholder:"10",max:1e10,min:0},model:{value:e.editData.endNumber,callback:function(t){e.$set(e.editData,"endNumber",t)},expression:"editData.endNumber"}})],1),s("el-form-item",{attrs:{label:e.$t("variables.increment"),prop:"increment"}},[s("el-input-number",{staticStyle:{width:"100%"},attrs:{size:"small",placeholder:"1",max:1e10,min:0},model:{value:e.editData.increment,callback:function(t){e.$set(e.editData,"increment",t)},expression:"editData.increment"}})],1),s("el-form-item",{attrs:{label:e.$t("variables.format"),prop:"value"}},[s("el-input",{attrs:{placeholder:e.$t("variables.counter_info")},model:{value:e.editData.value,callback:function(t){e.$set(e.editData,"value",t)},expression:"editData.value"}})],1)],1)},g=[],_={name:"MsEditCounter",components:{},props:{editData:{}},data:function(){return{rules:{name:[{required:!0,message:this.$t("test_track.case.input_name"),trigger:"blur"}]}}}},y=_,x=Object(d["a"])(y,v,g,!1,null,"6b2282d5",null),P=x.exports,O=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-form",{ref:"form5",attrs:{model:e.editData,"label-position":"right","label-width":"80px",size:"small",rules:e.rules}},[s("el-form-item",{attrs:{label:e.$t("api_test.variable_name"),prop:"name"}},[s("el-input",{attrs:{placeholder:e.$t("api_test.variable_name")},model:{value:e.editData.name,callback:function(t){e.$set(e.editData,"name",t)},expression:"editData.name"}})],1),s("el-form-item",{attrs:{label:e.$t("commons.description"),prop:"description"}},[s("el-input",{staticClass:"ms-http-textarea",attrs:{type:"textarea",autosize:{minRows:2,maxRows:10},rows:2,size:"small"},model:{value:e.editData.description,callback:function(t){e.$set(e.editData,"description",t)},expression:"editData.description"}})],1),s("el-form-item",{attrs:{label:e.$t("schema.minimum"),prop:"minNumber"}},[s("el-input",{attrs:{size:"small",placeholder:"0"},model:{value:e.editData.minNumber,callback:function(t){e.$set(e.editData,"minNumber",t)},expression:"editData.minNumber"}})],1),s("el-form-item",{attrs:{label:e.$t("schema.maximum"),prop:"maxNumber"}},[s("el-input",{attrs:{size:"small",placeholder:"10"},model:{value:e.editData.maxNumber,callback:function(t){e.$set(e.editData,"maxNumber",t)},expression:"editData.maxNumber"}})],1),s("el-form-item",{attrs:{label:e.$t("variables.format"),prop:"value"}},[s("el-input",{attrs:{placeholder:e.$t("variables.counter_info")},model:{value:e.editData.value,callback:function(t){e.$set(e.editData,"value",t)},expression:"editData.value"}})],1)],1)},C=[],$={name:"MsEditRandom",components:{},props:{editData:{}},data:function(){return{rules:{name:[{required:!0,message:this.$t("test_track.case.input_name"),trigger:"blur"}]}}}},q=$,S=Object(d["a"])(q,O,C,!1,null,"2152484c",null),w=S.exports,k=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-form",{ref:"form4",attrs:{model:e.editData,"label-position":"right","label-width":"80px",size:"small",rules:e.rules}},[s("el-form-item",{attrs:{label:e.$t("api_test.variable_name"),prop:"name"}},[s("el-input",{attrs:{placeholder:e.$t("api_test.variable_name")},model:{value:e.editData.name,callback:function(t){e.$set(e.editData,"name",t)},expression:"editData.name"}})],1),s("el-form-item",{attrs:{label:e.$t("commons.description"),prop:"description"}},[s("el-input",{staticClass:"ms-http-textarea",attrs:{type:"textarea",autosize:{minRows:2,maxRows:10},rows:2,size:"small"},model:{value:e.editData.description,callback:function(t){e.$set(e.editData,"description",t)},expression:"editData.description"}})],1),s("el-form-item",{attrs:{label:e.$t("api_test.value"),prop:"value"}},[s("el-input",{attrs:{placeholder:"列表数据用,分隔"},model:{value:e.editData.value,callback:function(t){e.$set(e.editData,"value",t)},expression:"editData.value"}})],1)],1)},j=[],R={name:"MsEditListValue",components:{},props:{editData:{}},data:function(){return{rules:{name:[{required:!0,message:this.$t("test_track.case.input_name"),trigger:"blur"}]}}}},T=R,E=Object(d["a"])(T,k,j,!1,null,"20c1516a",null),D=E.exports,A=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-form",{ref:"form3",attrs:{model:e.editData,"label-position":"right","label-width":"80px",size:"small",rules:e.rules}},[s("el-form-item",{attrs:{label:e.$t("api_test.variable_name"),prop:"name"}},[s("el-input",{attrs:{placeholder:e.$t("api_test.variable_name")},model:{value:e.editData.name,callback:function(t){e.$set(e.editData,"name",t)},expression:"editData.name"}})],1),s("el-form-item",{attrs:{label:e.$t("commons.description"),prop:"description"}},[s("el-input",{staticClass:"ms-http-textarea",attrs:{type:"textarea",placeholder:e.$t("commons.input_content"),autosize:{minRows:2,maxRows:10},rows:2,size:"small"},model:{value:e.editData.description,callback:function(t){e.$set(e.editData,"description",t)},expression:"editData.description"}})],1),s("el-tabs",{staticStyle:{"margin-left":"40px"},on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[s("el-tab-pane",{attrs:{label:e.$t("variables.config"),name:"config"}},[s("el-row",[s("el-col",{staticStyle:{"margin-top":"5px"},attrs:{span:5}},[s("span",[e._v(e._s(e.$t("variables.add_file")))])]),s("el-col",{attrs:{span:19}},[s("ms-csv-file-upload",{attrs:{parameter:e.editData}})],1)],1),s("el-row",{staticStyle:{"margin-top":"10px"}},[s("el-col",{staticStyle:{"margin-top":"5px"},attrs:{span:5}},[s("span",[e._v("Encoding")])]),s("el-col",{attrs:{span:19}},[s("el-autocomplete",{staticStyle:{width:"100%"},attrs:{size:"small","fetch-suggestions":e.querySearch,placeholder:e.$t("commons.input_content")},model:{value:e.editData.encoding,callback:function(t){e.$set(e.editData,"encoding",t)},expression:"editData.encoding"}})],1)],1),s("el-row",{staticStyle:{"margin-top":"10px"}},[s("el-col",{staticStyle:{"margin-top":"5px"},attrs:{span:5}},[s("span",[e._v(e._s(e.$t("variables.delimiter")))])]),s("el-col",{attrs:{span:19}},[s("el-input",{attrs:{size:"small"},model:{value:e.editData.delimiter,callback:function(t){e.$set(e.editData,"delimiter",t)},expression:"editData.delimiter"}})],1)],1),s("el-row",{staticStyle:{"margin-top":"10px"}},[s("el-col",{staticStyle:{"margin-top":"5px"},attrs:{span:5}},[s("span",[e._v(e._s(e.$t("variables.quoted_data")))])]),s("el-col",{attrs:{span:19}},[s("el-select",{attrs:{size:"small"},model:{value:e.editData.quotedData,callback:function(t){e.$set(e.editData,"quotedData",t)},expression:"editData.quotedData"}},[s("el-option",{attrs:{label:"True",value:!0}}),s("el-option",{attrs:{label:"False",value:!1}})],1)],1)],1)],1),s("el-tab-pane",{attrs:{label:e.$t("schema.preview"),name:"preview"}},[s("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.previewData,height:"240px"}},e._l(e.columns,(function(t,a){return s("el-table-column",{key:a,attrs:{label:e.columns[a],align:"left",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",[e._v(e._s(t.row[a]))])]}}],null,!0)})})),1)],1)],1)],1)},M=[],N=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",[s("el-upload",{ref:"upload",staticClass:"api-body-upload",attrs:{action:"#","list-type":"picture-card","http-request":e.upload,beforeUpload:e.uploadValidate,"file-list":e.parameter.files,limit:1,"on-exceed":e.exceed},scopedSlots:e._u([{key:"file",fn:function(t){var a=t.file;return s("div",{staticClass:"upload-item"},[s("span",[e._v(e._s(a.file?a.file.name:a.name))]),s("span",{staticClass:"el-upload-list__item-actions"},[e.disabled?e._e():s("span",{staticClass:"el-upload-list__item-delete",on:{click:function(t){return e.handleRemove(a)}}},[s("i",{staticClass:"el-icon-delete"})])])])}}])},[s("div",{staticClass:"upload-default"},[s("i",{staticClass:"el-icon-plus"})])])],1)},B=[],I=(s("d1cf"),{name:"MsApiBodyFileUpload",data:function(){return{disabled:!1}},props:{parameter:Object,default:function(){return{}}},methods:{handleRemove:function(e){this.$refs.upload.handleRemove(e);for(var t=0;t<this.parameter.files.length;t++){var s=e.file?e.file.name:e.name,a=this.parameter.files[t].file?this.parameter.files[t].file.name:this.parameter.files[t].name;if(s===a){this.parameter.files.splice(t,1),this.$refs.upload.handleRemove(e);break}}},exceed:function(){this.$warning(this.$t("test_track.case.import.upload_limit_count"))},upload:function(e){this.parameter.files.push(e)},uploadValidate:function(e){return e.size/1024/1024>500?(this.$warning(this.$t("api_test.request.body_upload_limit_size")),!1):!!e.name.endsWith(".csv")||(this.$warning(this.$t("variables.cvs_info")),!1)}},created:function(){this.parameter.files||(this.parameter.files=[])}}),V=I,J=(s("da76"),Object(d["a"])(V,N,B,!1,null,"ab5ebff0",null)),F=J.exports,z={name:"MsEditCsv",components:{MsCsvFileUpload:F},props:{editData:{}},data:function(){return{activeName:"config",visible:!1,loading:!1,editFlag:!1,previewData:[],columns:[],allDatas:[],rules:{name:[{required:!0,message:this.$t("test_track.case.input_name"),trigger:"blur"}]}}},methods:{complete:function(e){e.errors&&e.errors.length>0?this.$error(e.errors):(this.allDatas&&(this.columns=this.allDatas[0],this.allDatas.splice(0,1),this.previewData=this.allDatas),this.loading=!1)},step:function(e,t){this.allDatas.push(e.data)},handleClick:function(){var e=this,t={complete:this.complete,step:this.step,delimiter:this.editData.delimiter?this.editData.delimiter:","};if(this.allDatas=[],this.editData.files&&this.editData.files.length>0&&this.editData.files[0].file&&(this.loading=!0,this.$papa.parse(this.editData.files[0].file,t)),this.editData.files&&this.editData.files.length>0&&!this.editData.files[0].file){var s=this.editData.files[0],a={url:"/api/automation/file/download",method:"post",data:s,responseType:"blob"};this.result=this.$request(a).then((function(s){var a=s.data,i=new Blob([a]);e.loading=!0,e.$papa.parse(i,t)}))}},createFilter:function(e){return function(t){return 0===t.value.toLowerCase().indexOf(e.toLowerCase())}},querySearch:function(e,t){var s=[{value:"UTF-8"},{value:"UTF-16"},{value:"ISO-8859-15"},{value:"US-ASCll"}],a=e?s.filter(this.createFilter(e)):s;t(a)}}},L=z,H=(s("ab46"),Object(d["a"])(L,A,M,!1,null,"3c9cb7f1",null)),U=H.exports,G=s("495f"),X=s("05bc"),Q=s("1095"),Y=s("a70b"),K={name:"MsVariableList",components:{MsEditConstant:m,MsDialogFooter:h["a"],MsTableHeader:f["a"],MsTablePagination:b["a"],MsEditCounter:P,MsEditRandom:w,MsEditListValue:D,MsEditCsv:U,MsApiKeyValue:X["a"],BatchAddParameter:Q["a"]},data:function(){return{variables:[],headers:[],activeName:"variable",searchType:"",selectVariable:"",condition:{},types:new Map([["CONSTANT",this.$t("api_test.automation.constant")],["LIST",this.$t("test_track.case.list")],["CSV","CSV"],["COUNTER",this.$t("api_test.automation.counter")],["RANDOM",this.$t("api_test.automation.random")]]),visible:!1,selection:[],loading:!1,currentPage:1,editData:{},pageSize:10,total:0,headerSuggestions:o["w"],disabled:!1}},methods:{batchAddParameter:function(){this.$refs.batchAddParameter.open()},batchAddHeader:function(){this.$refs.batchAddHeader.open()},_handleBatchVars:function(e){var t=e.split("\n"),s=[];return t.forEach((function(e){var t=e.split(/，|,/),a=!1;"必填"!==t[1]&&"Required"!==t[1]&&"true"!==t[1]||(a=!0),s.push(new Y["v"]({name:t[0],required:a,value:t[2],description:t[3],type:"text",valid:!1,file:!1,encode:!0,enable:!0,contentType:"text/plain"}))})),s},batchSaveHeader:function(e){var t=this;if(e){var s=this._handleBatchVars(e);s.forEach((function(e){t.headers.unshift(e)}))}},batchSaveParameter:function(e){var t=this;if(e){var s=this._handleBatchVars(e);s.forEach((function(e){e.type="CONSTANT",t.addParameters(e)}))}},handleClick:function(e){this.editData={delimiter:",",quotedData:"false"},this.editData.type=e,this.addParameters(this.editData)},edit:function(e){this.$refs.table.clearSelection(),this.$refs.table.toggleRowSelection(e),this.selection=[e.id],this.editData=e},tableRowClassName:function(e){return e.row.hidden?"ms-variable-hidden-row":""},addParameters:function(e){e.id=Object(G["m"])(),"CSV"===e.type&&(e.delimiter=",",e.quotedData=!1),this.variables.push(e);var t=1;this.variables.forEach((function(e){e.num=t,t++}))},select:function(e){this.selection=e.map((function(e){return e.id}))},isSelect:function(e){return this.selection.includes(e.id)},open:function(e,t,s){e&&(this.variables=e),t&&(this.headers=t),this.visible=!0,this.editData={type:"CONSTANT"},this.addParameters(this.editData),this.disabled=s},save:function(){this.visible=!1},close:function(){this.visible=!1;var e=[];this.variables.forEach((function(t){t.hidden=void 0,t.name&&""!=t.name&&e.push(t)})),this.selectVariable="",this.searchType="",this.$emit("setVariables",e,this.headers)},deleteVariable:function(){var e=this,t=Array.from(this.selection);0!=t.length?(t.forEach((function(t){var s=e.variables.findIndex((function(e){return e.id===t}));e.variables.splice(s,1)})),this.selection=[],this.editData={type:"CONSTANT"}):this.$warning("请选择一条数据删除")},filter:function(){var e=this,t=[];this.variables.forEach((function(s){e.searchType&&""!=e.searchType&&e.selectVariable&&""!=e.selectVariable?s.type&&-1==s.type.toLowerCase().indexOf(e.searchType.toLowerCase())||s.name&&-1==s.name.toLowerCase().indexOf(e.selectVariable.toLowerCase())?s.hidden=!0:s.hidden=void 0:e.selectVariable&&""!=e.selectVariable?s.name&&-1==s.name.toLowerCase().indexOf(e.selectVariable.toLowerCase())?s.hidden=!0:s.hidden=void 0:e.searchType&&""!=e.searchType&&s.type&&-1==s.type.toLowerCase().indexOf(e.searchType.toLowerCase())?s.hidden=!0:s.hidden=void 0,t.push(s)})),this.variables=t},createFilter:function(e){return function(t){return t.type&&-1!==t.type.toLowerCase().indexOf(e.toLowerCase())}}}},W=K,Z=(s("b3b1"),Object(d["a"])(W,a,i,!1,null,null,null));t["a"]=Z.exports},"05bc":function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[e.description?s("span",{staticClass:"kv-description"},[e._v(" "+e._s(e.description)+" ")]):e._e(),s("el-row",[!0===e.isShowEnable&&e.items.length>1?s("el-checkbox",{model:{value:e.isSelectAll,callback:function(t){e.isSelectAll=t},expression:"isSelectAll"}}):e._e()],1),e._l(e.items,(function(t,a){return s("div",{key:a,staticClass:"kv-row item"},[s("el-row",{attrs:{type:"flex",gutter:20,justify:"space-between",align:"middle"}},[e.isShowEnable?s("el-col",{staticClass:"kv-checkbox"},[e.isDisable(a)?e._e():s("el-checkbox",{attrs:{disabled:e.isReadOnly},model:{value:t.enable,callback:function(s){e.$set(t,"enable",s)},expression:"item.enable"}})],1):s("span",{staticStyle:{"margin-left":"10px"}}),s("i",{staticClass:"el-icon-top",staticStyle:{cursor:"pointer"},on:{click:function(t){return e.moveTop(a)}}}),s("i",{staticClass:"el-icon-bottom",staticStyle:{cursor:"pointer"},on:{click:function(t){return e.moveBottom(a)}}}),s("el-col",{staticClass:"item"},[e.suggestions?e._e():s("el-input",{attrs:{disabled:e.isReadOnly,size:"small",maxlength:"200",placeholder:e.keyText,"show-word-limit":""},on:{change:e.change},model:{value:t.name,callback:function(s){e.$set(t,"name",s)},expression:"item.name"}}),e.suggestions?s("el-autocomplete",{attrs:{disabled:e.isReadOnly,maxlength:400,size:"small","fetch-suggestions":e.querySearch,placeholder:e.keyText,"show-word-limit":""},on:{change:e.change},model:{value:t.name,callback:function(s){e.$set(t,"name",s)},expression:"item.name"}}):e._e()],1),s("el-col",{staticClass:"item"},[e.needMock?e._e():s("el-input",{attrs:{disabled:e.isReadOnly,size:"small",placeholder:e.valueText,"show-word-limit":""},on:{change:e.change},model:{value:t.value,callback:function(s){e.$set(t,"value",s)},expression:"item.value"}}),e.needMock?s("div",[s("el-autocomplete",{staticStyle:{width:"100%"},attrs:{disabled:e.isReadOnly,placeholder:e.valueText,size:"small","value-key":"name","fetch-suggestions":e.funcSearch,"highlight-first-item":"","show-word-limit":""},on:{change:e.change},model:{value:t.value,callback:function(s){e.$set(t,"value",s)},expression:"item.value"}},[s("i",{staticClass:"el-input__icon el-icon-edit pointer",attrs:{slot:"suffix"},on:{click:function(s){return e.advanced(t)}},slot:"suffix"})])],1):e._e()],1),s("el-col",{staticClass:"item kv-delete"},[s("el-button",{staticClass:"el-icon-delete-solid",attrs:{size:"mini",circle:"",disabled:e.isDisable(a)||e.isReadOnly},on:{click:function(t){return e.remove(a)}}})],1)],1)],1)})),s("ms-api-variable-advance",{ref:"variableAdvance",attrs:{"current-item":e.currentItem,parameters:e.keyValues}})],2)},i=[],n=(s("10dd"),s("b3d9"),s("5a05"),s("89a8"),s("993f"),s("1a91"),s("a70b")),r=s("430a"),o=s("4af26"),l=s("4abd"),c={name:"MsApiKeyValue",components:{MsApiVariableAdvance:o["a"]},props:{keyPlaceholder:String,valuePlaceholder:String,isShowEnable:{type:Boolean},description:String,items:Array,isReadOnly:{type:Boolean,default:!1},suggestions:Array,needMock:{type:Boolean,default:!1}},data:function(){return{keyValues:[],loading:!1,currentItem:{},isSelectAll:!0}},computed:{keyText:function(){return this.keyPlaceholder||this.$t("api_test.key")},valueText:function(){return this.valuePlaceholder||this.$t("api_test.value")}},watch:{isSelectAll:function(e,t){0==t&&1==e?this.selectAll():1==t&&0==e&&this.invertSelect()}},methods:{advanced:function(e){this.currentItem=e,this.$refs.variableAdvance.open()},funcFilter:function(e){return function(t){return t.name.toLowerCase().indexOf(e.toLowerCase())>-1}},funcSearch:function(e,t){var s=l["p"].concat(l["n"]),a=e?s.filter(this.funcFilter(e)):s;t(a)},moveBottom:function(e){if(!(this.items.length<2||e===this.items.length-2)){var t=this.items[e],s=this.items[e+1];r["default"].set(this.items,e+1,t),r["default"].set(this.items,e,s)}},moveTop:function(e){if(0!==e){var t=this.items[e],s=this.items[e-1];r["default"].set(this.items,e-1,t),r["default"].set(this.items,e,s)}},reload:function(){var e=this;this.loading=!0,this.$nextTick((function(){e.loading=!1}))},remove:function(e){this.items.splice(e,1),this.$emit("change",this.items)},change:function(){var e=this,t=!0;this.items.forEach((function(s,a){s.name||s.value||(a!==e.items.length-1&&a,t=!1)})),t&&this.items.push(new n["v"]({enable:!0})),this.$emit("change",this.items)},isDisable:function(e){return this.items.length-1===e},querySearch:function(e,t){var s=this.suggestions,a=e?s.filter(this.createFilter(e)):s;t(a)},createFilter:function(e){return function(t){return 0===t.value.toLowerCase().indexOf(e.toLowerCase())}},selectAll:function(){this.items.forEach((function(e){e.enable=!0}))},invertSelect:function(){this.items.forEach((function(e){e.enable=!1}))}},created:function(){(0===this.items.length||this.items[this.items.length-1].name)&&this.items.push(new n["v"]({enable:!0}))}},u=c,d=(s("7fe9"),s("cba8")),p=Object(d["a"])(u,a,i,!1,null,"13b72686",null);t["a"]=p.exports},"07f7":function(e,t,s){},"09ad":function(e,t,s){"use strict";s("4196")},"09ed":function(e,t,s){"use strict";s("07f7")},"0a96":function(e,t,s){},"0bd5":function(e,t,s){"use strict";s("f232")},"108a":function(e,t,s){"use strict";s.d(t,"a",(function(){return c}));var a=s("e902"),i=s("a018"),n=s("d9ca"),r=s("0590"),o=s("1f4e"),l="PostProcessor",c=function(e){Object(n["a"])(s,e);var t=Object(r["a"])(s);function s(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(i["a"])(this,s),e=t.call(this,a),e.$type=l,e}return Object(a["a"])(s)}(o["a"])},"10ddf":function(e,t,s){},1746:function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("editor",{attrs:{lang:e.mode,theme:e.theme,height:e.height},on:{init:e.editorInit},model:{value:e.formatData,callback:function(t){e.formatData=t},expression:"formatData"}})},i=[],n=(s("51b3"),s("89a8"),s("1a91"),s("1549")),r=s("ac39"),o=s.n(r),l={name:"MsCodeEdit",components:{editor:s("50bc")},data:function(){return{formatData:""}},props:{height:[String,Number],data:{type:String},theme:{type:String,default:function(){return"chrome"}},init:{type:Function},readOnly:{type:Boolean,default:function(){return!1}},mode:{type:String,default:function(){return"text"}},modes:{type:Array,default:function(){return["text","json","xml","html"]}}},mounted:function(){this.format()},watch:{formatData:function(){this.$emit("update:data",this.formatData)},mode:function(){this.format()},data:function(){this.formatData=this.data}},methods:{editorInit:function(e){s("93c6"),this.modes.forEach((function(e){s("c1d1")("./"+e)})),s("07ed")("./"+this.theme),s("55eb"),this.readOnly&&e.setReadOnly(!0),this.init&&this.init(e)},format:function(){switch(this.mode){case"json":this.formatData=Object(n["a"])(this.data);break;case"html":this.formatData=o()(this.data);break;case"xml":this.formatData=Object(n["c"])(this.data);break;default:this.data&&(this.formatData=this.data)}}}},c=l,u=s("cba8"),d=Object(u["a"])(c,a,i,!1,null,"f181b9da",null);t["a"]=d.exports},1978:function(e,t,s){},"1e97":function(e,t,s){},"1f4e":function(e,t,s){"use strict";s.d(t,"a",(function(){return p}));var a=s("a018"),i=s("e902"),n=s("4135"),r=s("5eef"),o=s("d9ca"),l=s("0590"),c=(s("89a8"),s("1a91"),s("c93c"),s("973c")),u=s("f7a9"),d=s("255b"),p=function(e){Object(o["a"])(s,e);var t=Object(l["a"])(s);function s(e){var i,n=e.options,r=e.hashTree;return Object(a["a"])(this,s),i=t.call(this,n),i.props=Object(u["d"])(n.elements),i.comments=i.initStringProp("TestPlan.comments"),r&&(i.hashTree=Object(d["d"])(r)),i}return Object(i["a"])(s,[{key:"clone",value:function(){var e=this.toJson();return Object(d["c"])(e.options,e.hashTree)}},{key:"initIntProp",value:function(e,t){return void 0===this.props[e]&&(this.props[e]=Object(u["e"])(e,t)),this.props[e]}},{key:"initLongProp",value:function(e,t){return void 0===this.props[e]&&(this.props[e]=Object(u["f"])(e,t)),this.props[e]}},{key:"initBoolProp",value:function(e,t){return void 0===this.props[e]&&(this.props[e]=Object(u["a"])(e,t)),this.props[e]}},{key:"initStringProp",value:function(e,t){return void 0===this.props[e]&&(this.props[e]=Object(u["g"])(e,t)),this.props[e]}},{key:"initElementProp",value:function(e,t){return void 0===this.props[e]&&(this.props[e]=Object(u["c"])(e,t)),this.props[e]}},{key:"initCollectionProp",value:function(e){return void 0===this.props[e]&&(this.props[e]=Object(u["b"])(e)),this.props[e]}},{key:"toJson",value:function(){var e=this,t=Object(n["a"])(Object(r["a"])(s.prototype),"toJson",this).call(this);void 0!==this.props&&(t.elements=[],Object.keys(this.props).forEach((function(s){var a=e.props[s].toJson();void 0!==a&&t.elements.push(a)})));var a={type:"element",name:"hashTree"};if(this.hashTree){var i=[];this.hashTree.forEach((function(e){var t=e.toJson();i.push(t.options),i.push(t.hashTree)})),a.elements=i}return{options:t,hashTree:a}}}]),s}(c["a"])},"1fc5":function(e,t,s){"use strict";s("f996")},"20e6":function(e,t,s){"use strict";s("adf1")},"224b":function(e,t,s){"use strict";s("7cd8")},"255b":function(e,t,s){"use strict";s.d(t,"b",(function(){return p})),s.d(t,"c",(function(){return m})),s.d(t,"d",(function(){return h})),s.d(t,"a",(function(){return f}));var a=s("e902"),i=s("a018"),n=s("2a8b"),r=s("045d"),o=s("597f"),l=(s("89a8"),s("8ea3"),s("fe35"),s("10dd"),s("2788"),s("aa08"),s("f0b0")),c=s("4230"),u=s("4a05"),d=c.keys().map((function(e){return c(e).schema})).reduce((function(e,t){return Object(o["a"])(Object(o["a"])({},e),t)})),p=(Object(r["a"])(u.keys().map((function(e){return u(e).default.name}))),function(e){var t=d[e];return t?new t:new l["default"]}),m=function(e,t){if(e.name){var s=d[e.name];return s?new s({options:e,hashTree:t}):new l["default"]({options:e,hashTree:t})}},h=function(e){if(e.elements){for(var t=[],s=0;s<e.elements.length;s+=2){var a=m(e.elements[s],e.elements[s+1]);t.push(a)}return t}},f=Object(a["a"])((function e(){Object(i["a"])(this,e)}));Object(n["a"])(f,"TYPES",{HTTP:"HTTP",DUBBO:"DUBBO",SQL:"SQL",TCP:"TCP"})},2766:function(e,t,s){"use strict";s("e717")},"29a1":function(e,t,s){},"2b14":function(e,t,s){"use strict";s.d(t,"a",(function(){return c}));var a=s("e902"),i=s("a018"),n=s("d9ca"),r=s("0590"),o=s("1f4e"),l="PreProcessor",c=function(e){Object(n["a"])(s,e);var t=Object(r["a"])(s);function s(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(i["a"])(this,s),e=t.call(this,a),e.$type=l,e}return Object(a["a"])(s)}(o["a"])},"2b7d":function(e,t,s){"use strict";s("1978")},"2c01":function(e,t,s){"use strict";s.r(t),s.d(t,"default",(function(){return p})),s.d(t,"schema",(function(){return m}));var a=s("a018"),i=s("e902"),n=s("4135"),r=s("5eef"),o=s("d9ca"),l=s("0590"),c=(s("89a8"),s("1a91"),s("973c")),u=s("255b"),d={type:"element",name:"jmeterTestPlan",attributes:{version:"1.2",properties:"5.0",jmeter:"5.2.1"}},p=function(e){Object(o["a"])(s,e);var t=Object(l["a"])(s);function s(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{options:r},n=i.options,r=void 0===n?d:n;return Object(a["a"])(this,s),e=t.call(this,r),e.hashTree=[],r.elements&&(e.hashTree=Object(u["d"])(r.elements[0])),e}return Object(i["a"])(s,[{key:"toJson",value:function(){var e=Object(n["a"])(Object(r["a"])(s.prototype),"toJson",this).call(this);if(this.hashTree){e.elements=[];var t=[];this.hashTree.forEach((function(e){var s=e.toJson();t.push(s.options),t.push(s.hashTree)}));var a={type:"element",name:"hashTree",elements:t};e.elements.push(a)}return e}}]),s}(c["a"]),m={jmeterTestPlan:p}},"2dda":function(e,t,s){"use strict";s("806a")},"31af":function(e,t,s){"use strict";s.r(t),s.d(t,"default",(function(){return d})),s.d(t,"schema",(function(){return p}));var a=s("e902"),i=s("a018"),n=s("d9ca"),r=s("0590"),o=s("2a8b"),l=s("a18a5"),c=s("a70b"),u={options:{attributes:{guiclass:"DubboSampleGui",testclass:"DubboSampler",testname:"DubboSampler",enabled:"true"}}},d=function(e){Object(n["a"])(s,e);var t=Object(r["a"])(s);function s(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u;return Object(i["a"])(this,s),e=t.call(this,a),e.type="DubboSampler",e.hashTree=[],e.protocol=a.protocol||s.PROTOCOLS.DUBBO,e.interface=a.interface,e.method=a.method,e.configCenter=new c["i"](a.configCenter),e.registryCenter=new c["y"](a.registryCenter),e.consumerAndService=new c["k"](a.consumerAndService),e.args=[],e.attachmentArgs=[],e.dubboConfig=void 0,e.debugReport=void 0,e}return Object(a["a"])(s)}(l["a"]);Object(o["a"])(d,"PROTOCOLS",{DUBBO:"dubbo://",RMI:"rmi://"});var p={DubboSampler:d}},"357d":function(e,t,s){"use strict";s.r(t),s.d(t,"default",(function(){return c})),s.d(t,"schema",(function(){return u}));var a=s("e902"),i=s("a018"),n=s("d9ca"),r=s("0590"),o=s("f844"),l={options:{attributes:{guiclass:"ArgumentsPanel",testclass:"Arguments",testname:"Arguments",enabled:"true"}}},c=function(e){Object(n["a"])(s,e);var t=Object(r["a"])(s);function s(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l;return Object(i["a"])(this,s),e=t.call(this,a),e.arguments=[],e}return Object(a["a"])(s)}(o["a"]),u={Arguments:c}},3865:function(e,t,s){"use strict";s.r(t),s.d(t,"default",(function(){return c})),s.d(t,"schema",(function(){return u}));var a=s("e902"),i=s("a018"),n=s("d9ca"),r=s("0590"),o=s("108a"),l={options:{attributes:{guiclass:"TestBeanGUI",testclass:"JDBCPostProcessor",testname:"JDBC PostProcessor",enabled:"true"}}},c=function(e){Object(n["a"])(s,e);var t=Object(r["a"])(s);function s(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l;return Object(i["a"])(this,s),e=t.call(this,a),e.type="JDBCPostProcessor",e.hashTree=[],e.variables=[],e.environmentId=void 0,e.dataSource=void 0,e.dataSourceId=void 0,e.query=void 0,e.queryType=void 0,e.queryArguments=void 0,e.queryArgumentsTypes=void 0,e.queryTimeout=void 0,e.resultSetHandler=void 0,e.resultSetMaxRows=void 0,e.resultVariable=void 0,e.variableNames=void 0,e.enable=!0,e}return Object(a["a"])(s)}(o["a"]),u={JDBCPostProcessor:c}},4196:function(e,t,s){},4230:function(e,t,s){var a={"./assertions/duration-assertion/index.js":"efcc","./assertions/json-path-assertion/index.js":"88f3","./assertions/response-assertion/index.js":"91ed","./auth-manager/index.js":"edbb","./configurations/arguments/index.js":"357d","./configurations/header-manager/index.js":"809f","./jmeter-test-plan/index.js":"2c01","./post-processors/jdbc-post-processor/index.js":"3865","./post-processors/json-path-extractor/index.js":"7fb9","./post-processors/jsr223-post-processor/index.js":"81fe","./post-processors/regex-extractor/index.js":"eb32","./post-processors/xpath2-extractor/index.js":"d772","./pre-processors/jdbc-pre-processor/index.js":"74df","./pre-processors/jsr223-pre-processor/index.js":"a65b","./result-collector/index.js":"b2ee","./sampler/dubbo-sampler/index.js":"31af","./sampler/http-sampler/index.js":"88ac","./sampler/jdbc-sampler/index.js":"6f03","./sampler/tcp-sampler/index.js":"6174","./test-plan/index.js":"e42f","./thread-group/index.js":"f26c","./unspported-component/index.js":"f0b0"};function i(e){var t=n(e);return s(t)}function n(e){if(!s.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}i.keys=function(){return Object.keys(a)},i.resolve=n,e.exports=i,i.id="4230"},"431d":function(e,t,s){"use strict";s("ab9d")},"496d":function(e,t,s){"use strict";s("9356")},"4a05":function(e,t){function s(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}s.keys=function(){return[]},s.resolve=s,e.exports=s,s.id="4a05"},"4af26":function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-dialog",{staticClass:"advanced-item-value",attrs:{title:e.$t("api_test.request.parameters_advance"),visible:e.itemValueVisible,width:"70%"},on:{"update:visible":function(t){e.itemValueVisible=t}}},[s("el-tabs",{staticStyle:{height:"50vh"},attrs:{"tab-position":"top"},on:{"tab-click":e.selectTab}},[s("el-tab-pane",{attrs:{label:e.$t("api_test.request.parameters_advance_mock")}},[s("el-row",{attrs:{type:"flex",gutter:20}},[s("el-col",{staticClass:"col-height",attrs:{span:6}},[s("div",[s("el-input",{attrs:{size:"small",placeholder:e.$t("api_test.request.parameters_mock_filter_tips")},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}}),s("el-tree",{ref:"tree",staticClass:"filter-tree",attrs:{data:e.mockFuncs,props:e.treeProps,"default-expand-all":"","filter-node-method":e.filterNode},on:{"node-click":e.selectVariable}})],1)]),e._l(e.mockVariableFuncs,(function(t,a){return s("el-col",{key:a,attrs:{span:6}},e._l(e.funcs,(function(i,n){return s("div",{key:a+"-"+n},[s("el-row",[s("el-col",{attrs:{span:12}},[s("el-radio",{attrs:{size:"mini",label:i.name},on:{change:function(s){return e.methodChange(t,i)}},model:{value:t.name,callback:function(s){e.$set(t,"name",s)},expression:"itemFunc.name"}})],1),t.name===i.name?s("el-col",{attrs:{span:12}},e._l(t.params,(function(t,i){return s("div",{key:a+"-"+n+"-"+i},[s("el-input",{attrs:{placeholder:t.name,size:"mini"},on:{change:e.showPreview},model:{value:t.value,callback:function(s){e.$set(t,"value",s)},expression:"p.value"}})],1)})),0):e._e()],1)],1)})),0)}))],2)],1),s("el-tab-pane",{attrs:{label:e.$t("api_test.variable")}},[s("el-row",[s("el-col",{staticClass:"col-height",attrs:{span:6}},[e.environment?s("div",[s("p",[e._v(e._s(e.$t("api_test.environment.environment")))]),s("el-tree",{attrs:{data:e.environmentParams,props:e.treeProps},on:{"node-click":e.selectVariable}})],1):e._e(),e.scenario?s("div",[s("p",[e._v(e._s(e.$t("api_test.scenario.scenario")))]),s("el-tree",{attrs:{data:e.scenarioParams,props:e.treeProps},on:{"node-click":e.selectVariable}})],1):e._e(),e.preRequestParams?s("div",[s("p",[e._v(e._s(e.$t("api_test.request.parameters_pre_request")))]),s("el-tree",{attrs:{data:e.preRequestParams,props:e.treeProps},on:{"node-click":e.selectVariable}})],1):e._e()]),s("el-col",{staticClass:"col-height",attrs:{span:18}},[s("div",[s("h1",[e._v(e._s(e.$t("api_test.request.jmeter_func")))]),s("el-table",{staticClass:"adjust-table table-content",attrs:{border:"",data:e.jmeterFuncs,height:"400"}},[s("el-table-column",{attrs:{prop:"type",label:"Type",width:"150"}}),s("el-table-column",{attrs:{prop:"name",label:"Functions",width:"250"}}),s("el-table-column",{attrs:{prop:"description",label:"Description"}})],1)],1)])],1)],1)],1),s("el-form",[s("el-form-item",[s("el-input",{attrs:{placeholder:e.valueText,size:"small"},model:{value:e.itemValue,callback:function(t){e.itemValue=t},expression:"itemValue"}})],1)],1),s("div",{staticStyle:{"padding-top":"10px"}},[s("el-row",{attrs:{type:"flex",align:"middle"}},[s("el-col",{attrs:{span:12}},[s("el-button",{attrs:{size:"small",type:"primary",plain:""},on:{click:function(t){return e.saveAdvanced()}}},[e._v(" "+e._s(e.$t("commons.save"))+" ")]),0===e.currentTab?s("el-button",{attrs:{size:"small",type:"info",plain:""},on:{click:function(t){return e.addFunc()}}},[e._v(" "+e._s(e.$t("api_test.request.parameters_advance_add_func"))+" ")]):e._e(),0===e.currentTab?s("el-button",{attrs:{size:"small",type:"success",plain:""},on:{click:function(t){return e.showPreview()}}},[e._v(" "+e._s(e.$t("api_test.request.parameters_preview"))+" ")]):e._e()],1),s("el-col",[s("div",[e._v(" "+e._s(e.itemValuePreview))])])],1)],1)],1)},i=[],n=s("045d"),r=(s("8ea3"),s("10dd"),s("5a05"),s("89a8"),s("acc0"),s("1a91"),s("b3d9"),s("cfe5"),s("1926"),s("87d5"),s("a70b")),o=s("4abd"),l={name:"MsApiVariableAdvance",props:{parameters:Array,environment:Object,scenario:r["A"],currentItem:Object},data:function(){return{itemValueVisible:!1,filterText:"",environmentParams:[],scenarioParams:[],preRequests:[],preRequestParams:[],treeProps:{children:"children",label:"name"},currentTab:0,itemValue:null,itemValuePreview:null,funcs:[{name:"md5"},{name:"base64"},{name:"unbase64"},{name:"substr",params:[{name:"start"},{name:"length"}]},{name:"concat",params:[{name:"suffix"}]},{name:"lconcat",params:[{name:"prefix"}]},{name:"sha1"},{name:"sha224"},{name:"sha256"},{name:"sha384"},{name:"sha512"},{name:"lower"},{name:"upper"},{name:"length"},{name:"number"}],mockFuncs:o["p"].map((function(e){return{name:e.name,value:e.name}})),jmeterFuncs:o["n"],mockVariableFuncs:[],jmeterVariableFuncs:[]}},computed:{valueText:function(){return this.valuePlaceholder||this.$t("api_test.value")}},mounted:function(){this.prepareData()},watch:{filterText:function(e){this.$refs.tree.filter(e)}},methods:{open:function(){this.itemValueVisible=!0},prepareData:function(){var e=this;if(this.scenario){var t=this.scenario.variables;if(this.scenarioParams=[{name:this.scenario.name,children:t.filter((function(e){return e.name})).map((function(e){return{name:e.name,value:"${"+e.name+"}"}}))}],this.environment){var s=this.environment.config.commonConfig.variables;this.environmentParams=[{name:this.environment.name,children:s.filter((function(e){return e.name})).map((function(e){return{name:e.name,value:"${"+e.name+"}"}}))}]}var a=this.scenario.requests.indexOf(this.request);this.preRequests=this.scenario.requests.slice(0,a),this.preRequests.forEach((function(t){var s=t.extract.json.map((function(e){return{name:e.variable,value:e.value}})),a=t.extract.xpath.map((function(e){return{name:e.variable,value:e.value}})),i=t.extract.regex.map((function(e){return{name:e.variable,value:e.value}})),r=[].concat(Object(n["a"])(s),Object(n["a"])(a),Object(n["a"])(i));r.length>0&&e.preRequestParams.push({name:t.name,children:r})}))}},filterNode:function(e,t){return!e||-1!==t.name.indexOf(e)},selectVariable:function(e){this.itemValue=e.value},selectTab:function(e){this.currentTab=+e.index,this.itemValue=null,this.itemValuePreview=null},showPreview:function(){var e=this;if(this.itemValue){var t=this.itemValue.indexOf("|");t>-1&&(this.itemValue=this.itemValue.substring(0,t).trim()),this.mockVariableFuncs.forEach((function(t){t.name&&(e.itemValue+="|"+t.name,t.params&&(e.itemValue+=":"+t.params.map((function(e){return e.value})).join(",")))})),this.itemValuePreview=Object(r["D"])(this.itemValue)}},methodChange:function(e,t){var s=this.mockVariableFuncs.indexOf(e);this.mockVariableFuncs=this.mockVariableFuncs.slice(0,s),this.mockVariableFuncs.push(JSON.parse(JSON.stringify(t))),this.showPreview()},addFunc:function(){if(this.mockVariableFuncs.length>4)this.$info(this.$t("api_test.request.parameters_advance_add_func_limit"));else{if(this.mockVariableFuncs.length>0){var e=this.mockVariableFuncs[this.mockVariableFuncs.length-1];if(!e.name)return void this.$warning(this.$t("api_test.request.parameters_advance_add_func_error"));if(e.params)for(var t=0;t<e.params.length;t++)if(!e.params[t].value)return void this.$warning(this.$t("api_test.request.parameters_advance_add_param_error"))}this.mockVariableFuncs.push({name:"",params:[]})}},saveAdvanced:function(){this.currentItem.value=this.itemValue,this.itemValueVisible=!1,this.mockVariableFuncs=[],this.$emit("advancedRefresh",this.itemValue)}}},c=l,u=(s("2766"),s("cba8")),d=Object(u["a"])(c,a,i,!1,null,"5d0dd4c0",null);t["a"]=d.exports},"4ffa":function(e,t,s){"use strict";s("e502")},"51fa":function(e,t,s){"use strict";s.d(t,"a",(function(){return a})),s.d(t,"b",(function(){return i}));s("10dd");function a(e,t,s){if(t.id=e.id,t.path=t.path+"/"+e.name,s.push(t),e.children)for(var i=0;i<e.children.length;i++)a(e.children[i],{path:t.path},s)}function i(e,t){if(t.id=e.id,t.name=e.name,t.path=t.path+"/"+e.name,e.path=t.path,e.children)for(var s=0;s<e.children.length;s++)i(e.children[s],{path:t.path})}},"59b5":function(e,t,s){},"59df":function(e,t,s){"use strict";s.d(t,"a",(function(){return a})),s.d(t,"b",(function(){return i}));s("bb13"),s("89a8"),s("b110"),s("fe35");var a=new Map([["ALL",["scenario","HTTPSamplerProxy","DubboSampler","JDBCSampler","TCPSampler","OT_IMPORT","IfController","TransactionController","LoopController","ConstantTimer","JSR223Processor","CustomizeReq"]],["scenario",["HTTPSamplerProxy","DubboSampler","JDBCSampler","TCPSampler","CASE","OT_IMPORT","IfController","ConstantTimer","JSR223Processor","CustomizeReq"]],["HTTPSamplerProxy",["ConstantTimer","JSR223PreProcessor","JSR223PostProcessor","JDBCPreProcessor","JDBCPostProcessor","Assertions","Extract"]],["DubboSampler",["ConstantTimer","JSR223PreProcessor","JSR223PostProcessor","JDBCPreProcessor","JDBCPostProcessor","Assertions","Extract"]],["JDBCSampler",["ConstantTimer","JSR223PreProcessor","JSR223PostProcessor","JDBCPreProcessor","JDBCPostProcessor","Assertions","Extract"]],["TCPSampler",["ConstantTimer","JSR223PreProcessor","JSR223PostProcessor","JDBCPreProcessor","JDBCPostProcessor","Assertions","Extract"]],["OT_IMPORT",["ConstantTimer","JSR223PreProcessor","JSR223PostProcessor","JDBCPreProcessor","JDBCPostProcessor","Assertions","Extract"]],["IfController",["IfController","LoopController","TransactionController","scenario","HTTPSamplerProxy","DubboSampler","JDBCSampler","TCPSampler","OT_IMPORT","ConstantTimer","JSR223Processor","JSR223PreProcessor","JSR223PostProcessor","JDBCPreProcessor","JDBCPostProcessor","Assertions","Extract","CustomizeReq"]],["TransactionController",["TransactionController","scenario","HTTPSamplerProxy","DubboSampler","JDBCSampler","TCPSampler","OT_IMPORT","ConstantTimer","JSR223Processor","JSR223PreProcessor","JSR223PostProcessor","JDBCPreProcessor","JDBCPostProcessor","Assertions","Extract","CustomizeReq"]],["LoopController",["IfController","TransactionController","scenario","HTTPSamplerProxy","DubboSampler","JDBCSampler","TCPSampler","OT_IMPORT","ConstantTimer","JSR223Processor","JSR223PreProcessor","JSR223PostProcessor","JDBCPreProcessor","JDBCPostProcessor","Assertions","Extract","CustomizeReq"]],["ConstantTimer",[]],["JSR223Processor",["ConstantTimer","JSR223PreProcessor","JSR223PostProcessor","Assertions","Extract"]],["JSR223PreProcessor",[]],["JSR223PostProcessor",[]],["JDBCPreProcessor",[]],["JDBCPostProcessor",[]],["Assertions",[]],["Extract",[]],["JmeterElement",[]],["CustomizeReq",["ConstantTimer","JSR223PreProcessor","JSR223PostProcessor","JDBCPostProcessor","JDBCPreProcessor","Assertions","Extract"]],["MaxSamplerProxy",["JSR223PreProcessor","JSR223PostProcessor","JDBCPreProcessor","JDBCPostProcessor","Assertions","Extract"]],["AllSamplerProxy",["HTTPSamplerProxy","DubboSampler","JDBCSampler","TCPSampler"]],["AllCanExecType",["HTTPSamplerProxy","DubboSampler","JDBCSampler","TCPSampler","JSR223Processor"]]]),i={scenario:"scenario",HTTPSamplerProxy:"HTTPSamplerProxy",OT_IMPORT:"OT_IMPORT",IfController:"IfController",TransactionController:"TransactionController",ConstantTimer:"ConstantTimer",JSR223Processor:"JSR223Processor",JSR223PreProcessor:"JSR223PreProcessor",JSR223PostProcessor:"JSR223PostProcessor",JDBCPostProcessor:"JDBCPostProcessor",JDBCPreProcessor:"JDBCPreProcessor",Assertions:"Assertions",Extract:"Extract",CustomizeReq:"CustomizeReq",LoopController:"LoopController"}},"5c5d":function(e,t,s){"use strict";s("f89d")},6027:function(e,t,s){},6174:function(e,t,s){"use strict";s.r(t),s.d(t,"default",(function(){return u})),s.d(t,"schema",(function(){return d}));var a=s("e902"),i=s("a018"),n=s("d9ca"),r=s("0590"),o=s("2a8b"),l=s("a18a5"),c={options:{attributes:{guiclass:"TCPSamplerGui",testclass:"TCPSampler",testname:"TCPSampler",enabled:"true"}}},u=function(e){Object(n["a"])(s,e);var t=Object(r["a"])(s);function s(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;return Object(i["a"])(this,s),e=t.call(this,a),e.type="TCPSampler",e.classname=a.classname||s.CLASSES[0],e.server=a.server,e.port=a.port,e.ctimeout=a.ctimeout,e.timeout=a.timeout,e.reUseConnection=void 0===a.reUseConnection||a.reUseConnection,e.nodelay=void 0!==a.nodelay&&a.nodelay,e.closeConnection=void 0!==a.closeConnection&&a.closeConnection,e.soLinger=a.soLinger,e.eolByte=a.eolByte,e.username=a.username,e.password=a.password,e.parameters=[],e.hashTree=[],e}return Object(a["a"])(s)}(l["a"]);Object(o["a"])(u,"CLASSES",["TCPClientImpl","BinaryTCPClientImpl","LengthPrefixedBinaryTCPClientImpl"]);var d={TCPSampler:u}},6550:function(e,t,s){},"66e9":function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},"680c":function(e,t,s){},"6b47":function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("api-base-component",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.jsr223Processor,draggable:e.draggable,color:e.color,"is-max":e.isMax,"show-btn":e.showBtn,"background-color":e.backgroundColor,title:e.title},on:{copy:e.copyRow,remove:e.remove,active:e.active}},[s("legend",{staticStyle:{width:"100%"}},[s("jsr233-processor-content",{attrs:{"jsr223-processor":e.jsr223Processor,"is-pre-processor":e.isPreProcessor,node:e.node,"is-read-only":this.jsr223Processor.disabled}})],1)])},i=[],n=s("2278"),r=s("60e1"),o=s("bc5b"),l=s("752c"),c=s("7e5c"),u={name:"MsJsr233Processor",components:{Jsr233ProcessorContent:c["a"],ApiBaseComponent:l["a"],MsDropdown:o["a"],MsInstructionsIcon:r["a"],MsCodeEdit:n["a"]},props:{draggable:{type:Boolean,default:!1},isMax:{type:Boolean,default:!1},showBtn:{type:Boolean,default:!0},isReadOnly:{type:Boolean,default:!1},jsr223Processor:{type:Object},isPreProcessor:{type:Boolean,default:!1},title:String,color:String,backgroundColor:String,node:{}},data:function(){return{loading:!1}},methods:{remove:function(){this.$emit("remove",this.jsr223Processor,this.node)},copyRow:function(){this.$emit("copyRow",this.jsr223Processor,this.node)},reload:function(){var e=this;this.loading=!0,this.$nextTick((function(){e.loading=!1}))},active:function(){this.jsr223Processor.active=!this.jsr223Processor.active,this.reload()}}},d=u,p=(s("4ffa"),s("cba8")),m=Object(p["a"])(d,a,i,!1,null,"bd530bec",null);t["a"]=m.exports},"6df5":function(e,t,s){"use strict";var a=s("e3f7"),i=s("9dd2"),n=s("25ef"),r=s("8e74"),o=s("66e9"),l=s("3ffc"),c=s("ecf4"),u=s("bacb");i("search",(function(e,t,s){return[function(t){var s=r(this),i=void 0==t?void 0:c(t,e);return i?a(i,t,s):new RegExp(t)[e](l(s))},function(e){var a=n(this),i=l(e),r=s(t,a,i);if(r.done)return r.value;var c=a.lastIndex;o(c,0)||(a.lastIndex=0);var d=u(a,i);return o(a.lastIndex,c)||(a.lastIndex=c),null===d?-1:d.index}]}))},"6f03":function(e,t,s){"use strict";s.r(t),s.d(t,"default",(function(){return c})),s.d(t,"schema",(function(){return u}));var a=s("e902"),i=s("a018"),n=s("d9ca"),r=s("0590"),o=s("a18a5"),l={options:{attributes:{guiclass:"TestBeanGUI",testclass:"JDBCSampler",testname:"JDBC Request",enabled:"true"}}},c=function(e){Object(n["a"])(s,e);var t=Object(r["a"])(s);function s(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l;return Object(i["a"])(this,s),e=t.call(this,a),e.type="JDBCSampler",e.hashTree=[],e.variables=[],e.environmentId=void 0,e.dataSource=void 0,e.dataSourceId=void 0,e.query=void 0,e.queryType=void 0,e.queryArguments=void 0,e.queryArgumentsTypes=void 0,e.queryTimeout=void 0,e.resultSetHandler=void 0,e.resultSetMaxRows=void 0,e.resultVariable=void 0,e.variableNames=void 0,e}return Object(a["a"])(s)}(o["a"]),u={JDBCSampler:c}},"6f20":function(e,t,s){},"6fa0":function(e,t,s){},"74df":function(e,t,s){"use strict";s.r(t),s.d(t,"default",(function(){return c})),s.d(t,"schema",(function(){return u}));var a=s("e902"),i=s("a018"),n=s("d9ca"),r=s("0590"),o=s("2b14"),l={options:{attributes:{guiclass:"TestBeanGUI",testclass:"JDBCPreProcessor",testname:"JDBC PreProcessor",enabled:"true"}}},c=function(e){Object(n["a"])(s,e);var t=Object(r["a"])(s);function s(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l;return Object(i["a"])(this,s),e=t.call(this,a),e.type="JDBCPreProcessor",e.hashTree=[],e.variables=[],e.environmentId=void 0,e.dataSource=void 0,e.dataSourceId=void 0,e.query=void 0,e.queryType=void 0,e.queryArguments=void 0,e.queryArgumentsTypes=void 0,e.queryTimeout=void 0,e.resultSetHandler=void 0,e.resultSetMaxRows=void 0,e.resultVariable=void 0,e.variableNames=void 0,e.enable=!0,e}return Object(a["a"])(s)}(o["a"]),u={JDBCPreProcessor:c}},"752c":function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-card",[s("div",{staticClass:"header",on:{click:function(t){return e.active(e.data)}}},[e._t("beforeHeaderLeft",(function(){return[e.data.index?s("div",{staticClass:"el-step__icon is-text",staticStyle:{"margin-right":"10px"},style:{color:e.color,"background-color":e.backgroundColor}},[s("div",{staticClass:"el-step__icon-inner"},[e._v(e._s(e.data.index))])]):e._e(),s("el-tag",{staticClass:"ms-left-btn",style:{color:e.color,"background-color":e.backgroundColor},attrs:{size:"small"}},[e._v(e._s(e.title))]),e.data.method?s("el-tag",{attrs:{size:"mini"}},[e._v(e._s(e.getMethod()))]):e._e()]})),e.isMax?e._e():e._t("behindHeaderLeft"),s("span",[e._t("headerLeft",(function(){return["scenario"==e.data.type||e.isMax?e._e():s("i",{staticClass:"icon el-icon-arrow-right",class:{"is-active":e.data.active},on:{click:[function(t){return e.active(e.data)},function(e){e.stopPropagation()}]}}),e.isShowInput&&e.isShowNameInput?s("span",{on:{click:function(e){e.stopPropagation()}}},[s("el-input",{ref:"nameEdit",staticClass:"name-input",attrs:{draggable:e.draggable,size:"mini",placeholder:e.$t("commons.input_name"),disabled:e.data.disabled},on:{focus:function(t){return e.active(e.data)},blur:function(t){e.isShowInput=!1}},model:{value:e.data.name,callback:function(t){e.$set(e.data,"name",t)},expression:"data.name"}})],1):s("span",{class:e.isMax?"ms-step-name":"scenario-name"},["REF"==e.data.referenced||e.data.disabled?e._e():s("i",{staticClass:"el-icon-edit",staticStyle:{cursor:"pointer"},on:{click:e.editName}}),s("el-tooltip",{attrs:{placement:"top",content:e.data.name}},[s("span",[e._v(e._s(e.data.name))])])],1)]}))],2),s("div",{staticClass:"header-right",on:{click:function(e){e.stopPropagation()}}},[e._t("message"),e._t("debugStepCode"),e.showBtn?s("el-tooltip",{attrs:{content:e.$t("test_resource_pool.enable_disable"),placement:"top"}},[s("el-switch",{staticClass:"enable-switch",staticStyle:{width:"30px"},attrs:{size:"mini",disabled:e.data.disabled&&!e.data.root},model:{value:e.data.enable,callback:function(t){e.$set(e.data,"enable",t)},expression:"data.enable"}})],1):e._e(),e._t("button"),s("el-tooltip",{attrs:{content:"Copy",placement:"top"}},[s("el-button",{staticStyle:{padding:"5px"},attrs:{size:"mini",icon:"el-icon-copy-document",circle:"",disabled:e.data.disabled&&!e.data.root},on:{click:e.copyRow}})],1),!e.showBtn||e.data.disabled&&!e.data.root?e._e():s("step-extend-btns",{staticStyle:{display:"contents"},attrs:{data:e.data},on:{copy:e.copyRow,remove:e.remove,openScenario:e.openScenario}})],2)],2),e.isMax?e._e():s("div",{staticClass:"header"},[s("el-collapse-transition",[e.data.active&&e.showCollapse?s("div",{attrs:{draggable:e.draggable}},[s("el-divider"),s("fieldset",{staticClass:"ms-fieldset",attrs:{disabled:e.data.disabled}},[e._t("request"),e._t("default")],2),e._t("result")],2):e._e()])],1)])},i=[],n=(s("10dd"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("el-dropdown",{staticClass:"scenario-ext-btn",on:{command:e.handleCommand}},[s("el-link",{attrs:{type:"primary",underline:!1}},[s("el-icon",{staticClass:"el-icon-more"})],1),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[s("el-dropdown-item",{attrs:{command:"remove"}},[e._v(e._s(this.$t("api_test.automation.delete_step")))]),"scenario"===e.data.type?s("el-dropdown-item",{attrs:{command:"scenarioVar"}},[e._v(" "+e._s(this.$t("api_test.automation.view_scene_variables"))+" ")]):e._e(),"scenario"===e.data.type&&"REF"===e.data.referenced?s("el-dropdown-item",{attrs:{command:"openScenario"}},[e._v(" "+e._s(this.$t("api_test.automation.open_scene"))+" ")]):e._e(),-1==e.allSamplers.indexOf(e.data.type)||void 0!==e.data.referenced&&"Created"!==e.data.referenced?e._e():s("el-dropdown-item",{attrs:{command:"saveAs"}},[e._v(" "+e._s(this.$t("api_test.automation.save_as_api"))+" ")])],1)],1),s("ms-variable-list",{ref:"scenarioParameters"}),s("ms-add-basis-api",{ref:"api",attrs:{currentProtocol:e.currentProtocol}})],1)}),r=[],o=s("59df"),l=s("03b2"),c=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-dialog",{attrs:{"close-on-click-modal":!1,title:e.$t("api_test.definition.request.title"),visible:e.httpVisible,width:"45%","destroy-on-close":!0,"append-to-body":""},on:{"update:visible":function(t){e.httpVisible=t}},scopedSlots:e._u([{key:"footer",fn:function(){return[s("ms-dialog-footer",{directives:[{name:"prevent-re-click",rawName:"v-prevent-re-click"}],on:{cancel:function(t){e.httpVisible=!1},confirm:e.saveApi}})]},proxy:!0}])},[e.loading?e._e():s("el-form",{ref:"httpForm",attrs:{model:e.httpForm,"label-position":"right","label-width":"80px",size:"small",rules:e.rule}},[s("el-form-item",{attrs:{label:e.$t("commons.name"),prop:"name"}},[s("el-input",{attrs:{autocomplete:"off",placeholder:e.$t("commons.name")},model:{value:e.httpForm.name,callback:function(t){e.$set(e.httpForm,"name",t)},expression:"httpForm.name"}})],1),"HTTP"===e.currentProtocol?s("el-form-item",{attrs:{label:e.$t("api_report.request"),prop:"path"}},[s("el-input",{staticClass:"ms-http-input",attrs:{placeholder:e.$t("api_test.definition.request.path_info"),size:"small"},model:{value:e.httpForm.path,callback:function(t){e.$set(e.httpForm,"path",t)},expression:"httpForm.path"}},[s("el-select",{staticStyle:{width:"100px"},attrs:{slot:"prepend",size:"small"},slot:"prepend",model:{value:e.httpForm.method,callback:function(t){e.$set(e.httpForm,"method",t)},expression:"httpForm.method"}},e._l(e.options,(function(e){return s("el-option",{key:e.id,attrs:{label:e.label,value:e.id}})})),1)],1)],1):e._e(),s("el-form-item",{attrs:{label:e.$t("api_test.definition.request.responsible"),prop:"userId"}},[s("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:e.$t("api_test.definition.request.responsible"),filterable:"",size:"small"},model:{value:e.httpForm.userId,callback:function(t){e.$set(e.httpForm,"userId",t)},expression:"httpForm.userId"}},e._l(e.maintainerOptions,(function(e){return s("el-option",{key:e.id,attrs:{label:e.id+" ("+e.name+")",value:e.id}})})),1)],1),s("el-form-item",{attrs:{label:e.$t("test_track.module.module"),prop:"moduleId"}},[s("ms-select-tree",{attrs:{size:"small",data:e.moduleOptions,defaultKey:e.httpForm.moduleId,obj:e.moduleObj,clearable:"",checkStrictly:""},on:{getValue:e.setModule}})],1),s("el-form-item",{staticStyle:{"margin-bottom":"29px"},attrs:{label:e.$t("commons.description"),prop:"description"}},[s("el-input",{staticClass:"ms-http-textarea",attrs:{type:"textarea",autosize:{minRows:2,maxRows:10},rows:2,size:"small"},model:{value:e.httpForm.description,callback:function(t){e.$set(e.httpForm,"description",t)},expression:"httpForm.description"}})],1),s("el-form-item",{staticClass:"create-tip"},[e._v(" "+e._s(e.$t("api_test.definition.create_tip"))+" ")])],1)],1)},u=[],d=(s("ba4e"),s("4c1e"),s("a5db"),s("89a8"),s("1a91"),s("87d5"),s("15bc")),p=(s("4abd"),s("a88e")),m=s("495f"),h=s("255b"),f=s("9539"),b=s("51fa"),v={name:"MsAddBasisApi",components:{MsDialogFooter:d["a"],MsSelectTree:f["a"]},props:{currentProtocol:{type:String,default:"HTTP"}},data:function(){var e=this,t=function(t,s,a){e.httpForm.path.startsWith("/")&&null==e.httpForm.path.match(/\s/)||a(e.$t("api_test.definition.request.path_valid_info")),a()};return{httpForm:{environmentId:"",moduleId:"default-module"},moduleOptions:[],httpVisible:!1,currentModule:{},maintainerOptions:[],loading:!1,moduleObj:{id:"id",label:"name"},rule:{name:[{required:!0,message:this.$t("test_track.case.input_name"),trigger:"blur"},{max:100,message:this.$t("test_track.length_less_than")+"100",trigger:"blur"}],path:[{required:!0,message:this.$t("api_test.definition.request.path_info"),trigger:"blur"},{validator:t,trigger:"blur"}],userId:[{required:!0,message:this.$t("test_track.case.input_maintainer"),trigger:"change"}]},value:p["i"][0].id,options:p["i"]}},methods:{saveApi:function(){var e=this;this.$refs["httpForm"].validate((function(t){return!!t&&(e.httpForm.path&&null!=e.httpForm.path.match(/\s/)?(e.$error(e.$t("api_test.definition.request.path_valid_info")),!1):void e.save(e.httpForm))}))},save:function(e){var t=this;this.setParameters(e);var s=this.getBodyUploadFiles(e);this.$fileUpload("/api/definition/create",null,s,e,(function(){t.saveCase(e)}))},saveCase:function(e){var t=this,s={apiDefinitionId:e.id,name:e.name,priority:"P0",active:!0,uuid:Object(m["m"])(),request:e.request};s.projectId=Object(m["g"])(),s.id=s.uuid;var a="/api/testcase/create",i=this.getBodyUploadFiles(s);this.$fileUpload(a,null,i,s,(function(e){t.$success(t.$t("commons.save_success")),t.httpVisible=!1}))},setParameters:function(e){e.projectId=Object(m["g"])(),e.request.name=e.name,"DUBBO"!==e.protocol&&"dubbo://"!==e.protocol||(e.request.protocol="dubbo://"),e.id=e.request.id,e.method||(e.method=e.protocol)},getBodyUploadFiles:function(e){var t=[];e.bodyUploadIds=[];var s=e.request;return s.body&&(s.body.kvs&&s.body.kvs.forEach((function(s){s.files&&s.files.forEach((function(s){if(s.file){var a=Object(m["m"])().substring(0,8);s.name=s.file.name,s.id=a,e.bodyUploadIds.push(a),t.push(s.file)}}))})),s.body.binary&&s.body.binary.forEach((function(s){s.files&&s.files.forEach((function(s){if(s.file){var a=Object(m["m"])().substring(0,8);s.name=s.file.name,s.id=a,e.bodyUploadIds.push(a),t.push(s.file)}}))}))),t},setParameter:function(){switch(this.currentProtocol){case h["a"].TYPES.SQL:this.initSQL();break;case h["a"].TYPES.DUBBO:this.initDUBBO();break;case h["a"].TYPES.TCP:this.initTCP();break;default:this.initHTTP();break}this.httpForm.bodyUploadIds=[],this.httpForm.projectId=Object(m["g"])(),this.httpForm.id=this.httpForm.request.id,this.httpForm.protocol=this.currentProtocol,this.httpForm.request.name=this.httpForm.name,this.httpForm.request.protocol=this.currentProtocol,"HTTP"===this.currentProtocol&&(this.httpForm.request.method=this.httpForm.method,this.httpForm.request.path=this.httpForm.path),null!=this.currentModule&&(this.httpForm.modulePath=void 0!=this.currentModule.method?this.currentModule.method:null,this.httpForm.moduleId=this.currentModule.id)},initHTTP:function(){var e=Object(h["b"])("HTTPSamplerProxy");e.path=this.httpForm.path,this.httpForm.request=e},initSQL:function(){this.httpForm.method=h["a"].TYPES.SQL,this.httpForm.request=Object(h["b"])("JDBCSampler")},initTCP:function(){this.httpForm.method=h["a"].TYPES.TCP,this.httpForm.request=Object(h["b"])("TCPSampler")},initDUBBO:function(){this.httpForm.method="dubbo://",this.httpForm.request=Object(h["b"])("DubboSampler")},getMaintainerOptions:function(){var e=this;this.$post("/user/project/member/tester/list",{projectId:Object(m["g"])()},(function(t){e.maintainerOptions=t.data}))},list:function(e){var t=this;"dubbo://"===e.protocol&&(e.protocol="DUBBO");var s="/api/module/list/"+Object(m["g"])()+"/"+e.protocol;this.result=this.$get(s,(function(e){void 0!=e.data&&null!=e.data&&(t.moduleOptions=e.data,t.moduleOptions.forEach((function(e){Object(b["b"])(e,{path:""})})))}))},setModule:function(e,t){this.httpForm.moduleId=e,this.httpForm.modulePath=t.path},reload:function(){var e=this;this.loading=!0,this.$nextTick((function(){e.loading=!1}))},open:function(e){if(e){var t=JSON.parse(JSON.stringify(e));"dubbo://"===t.protocol&&(t.protocol="DUBBO"),t.id=Object(m["m"])(),this.httpForm={id:t.id,name:t.name,protocol:t.protocol,path:t.path,method:e.method,userId:Object(m["h"])().id,request:t,moduleId:"default-module"},this.getMaintainerOptions(),this.list(t),this.httpVisible=!0}}}},g=v,_=(s("86fe"),s("cba8")),y=Object(_["a"])(g,c,u,!1,null,"6db84cf9",null),x=y.exports,P={name:"StepExtendBtns",components:{ELEMENTS:o["a"],MsVariableList:l["a"],MsAddBasisApi:x},props:{data:Object},data:function(){return{allSamplers:o["a"].get("AllSamplerProxy"),currentProtocol:"HTTP"}},methods:{handleCommand:function(e){switch(e){case"copy":this.$emit("copy");break;case"remove":this.$emit("remove");break;case"scenarioVar":this.$refs.scenarioParameters.open(this.data.variables,this.data.headers,"REF"===this.data.referenced);break;case"openScenario":this.getScenario();break;case"saveAs":this.saveAsApi();break}},getScenario:function(){var e=this;this.result=this.$get("/api/automation/getApiScenario/"+this.data.id,(function(t){t.data?e.$emit("openScenario",t.data):e.$error("引用场景已经被删除")}))},saveAsApi:function(){this.currentProtocol=this.data.protocol,this.$refs.api.open(this.data)}}},O=P,C=(s("f865"),Object(_["a"])(O,n,r,!1,null,"311828d2",null)),$=C.exports,q={name:"ApiBaseComponent",components:{StepExtendBtns:$},data:function(){return{isShowInput:!1}},props:{draggable:Boolean,isMax:{type:Boolean,default:!1},showBtn:{type:Boolean,default:!0},data:{type:Object,default:function(){return{}}},color:{type:String,default:function(){return"#B8741A"}},backgroundColor:{type:String,default:function(){return"#F9F1EA"}},showCollapse:{type:Boolean,default:function(){return!0}},isShowNameInput:{type:Boolean,default:function(){return!0}},title:String},created:function(){var e=this;this.data.name||(this.isShowInput=!0),this.$refs.nameEdit&&this.$nextTick((function(){e.$refs.nameEdit.focus()})),this.data&&-1!=o["a"].get("AllSamplerProxy").indexOf(this.data.type)&&(this.data.method||(this.data.method=this.data.protocol))},methods:{active:function(){this.$emit("active")},getMethod:function(){return"HTTP"===this.data.protocol?this.data.method:"dubbo://"===this.data.protocol?"DUBBO":this.data.protocol},copyRow:function(){this.$emit("copy")},remove:function(){this.$emit("remove")},openScenario:function(e){this.$emit("openScenario",e)},editName:function(){var e=this;this.isShowInput=!0,this.$nextTick((function(){e.$refs.nameEdit.focus()}))}}},S=q,w=(s("e376"),Object(_["a"])(S,a,i,!1,null,"19b60d33",null));t["a"]=w.exports},7631:function(e,t,s){"use strict";s("d76f")},"77db":function(e,t,s){"use strict";s("9208")},"7cd8":function(e,t,s){},"7cec":function(e,t,s){"use strict";s("9306")},"7e5c":function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("el-row",[s("el-col",{staticClass:"script-content",attrs:{span:20}},[e.isCodeEditAlive?s("ms-code-edit",{ref:"codeEdit",attrs:{mode:e.codeEditModeMap[e.jsr223ProcessorData.scriptLanguage],"read-only":e.isReadOnly,data:e.jsr223ProcessorData.script,theme:"eclipse",modes:["java","python"]},on:{"update:data":function(t){return e.$set(e.jsr223ProcessorData,"script",t)}}}):e._e()],1),s("el-col",{staticClass:"script-index",attrs:{span:4}},[s("ms-dropdown",{attrs:{"default-command":e.jsr223ProcessorData.scriptLanguage,commands:e.languages},on:{command:e.languageChange}}),s("div",{staticClass:"template-title"},[e._v(e._s(e.$t("api_test.request.processor.code_template")))]),e._l(e.codeTemplates,(function(t,a){return s("div",{key:a,staticClass:"code-template"},[s("el-link",{attrs:{disabled:t.disabled},on:{click:function(s){return e.addTemplate(t)}}},[e._v(e._s(t.title))])],1)})),s("el-link",{staticStyle:{"margin-top":"10px"},attrs:{href:"https://jmeter.apache.org/usermanual/component_reference.html#BeanShell_PostProcessor",target:"componentReferenceDoc",type:"primary"}},[e._v(e._s(e.$t("commons.reference_documentation"))+" ")])],2)],1)],1)},i=[],n=s("1746"),r=s("bc5b"),o={name:"Jsr233ProcessorContent",components:{MsDropdown:r["a"],MsCodeEdit:n["a"]},data:function(){return{jsr223ProcessorData:{},codeTemplates:[{title:this.$t("api_test.request.processor.code_template_get_variable"),value:'vars.get("variable_name")'},{title:this.$t("api_test.request.processor.code_template_set_variable"),value:'vars.put("variable_name", "variable_value")'},{title:this.$t("api_test.request.processor.param_environment_set_global_variable"),value:'vars.put(${__metersphere_env_id}+"key","value");\nvars.put("key","value")'},{title:this.$t("api_test.request.processor.code_add_report_length"),value:'String report = ctx.getCurrentSampler().getRequestData();\nif(report!=null){\n    //补足8位长度，前置补0\n    String reportlengthStr = String.format("%08d",report.length());\n    report = reportlengthStr+report;\n    ctx.getCurrentSampler().setRequestData(report);\n}'},{title:this.$t("api_test.request.processor.code_template_get_response_header"),value:"prev.getResponseHeaders()",disabled:this.isPreProcessor},{title:this.$t("api_test.request.processor.code_template_get_response_code"),value:"prev.getResponseCode()",disabled:this.isPreProcessor},{title:this.$t("api_test.request.processor.code_template_get_response_result"),value:"prev.getResponseDataAsString()",disabled:this.isPreProcessor},{title:this.$t("api_test.request.processor.code_hide_report_length"),value:'//Get response data\nString returnData = prev.getResponseDataAsString();\nif(returnData!=null&&returnData.length()>8){\n//remove 8 report length \n    String subStringData = returnData.substring(8,returnData.length());\n    if(subStringData.startsWith("<")){\n        returnData = subStringData;\n        prev.setResponseData(returnData);\n    }\n}',disabled:this.isPreProcessor}],isCodeEditAlive:!0,languages:["beanshell","python","groovy","nashornScript","rhinoScript"],codeEditModeMap:{beanshell:"java",python:"python",groovy:"java",nashornScript:"javascript",rhinoScript:"javascript"}}},created:function(){this.jsr223ProcessorData=this.jsr223Processor},props:{isReadOnly:{type:Boolean,default:!1},jsr223Processor:{type:Object},isPreProcessor:{type:Boolean,default:!1},node:{}},watch:{jsr223Processor:function(){this.reload()}},methods:{addTemplate:function(e){this.jsr223ProcessorData.script||(this.jsr223ProcessorData.script=""),this.jsr223ProcessorData.script+=e.value,"beanshell"===this.jsr223ProcessorData.scriptLanguage&&(this.jsr223ProcessorData.script+=";"),this.reload()},reload:function(){var e=this;this.isCodeEditAlive=!1,this.$nextTick((function(){return e.isCodeEditAlive=!0}))},languageChange:function(e){this.jsr223ProcessorData.scriptLanguage=e,this.$emit("languageChange")}}},l=o,c=(s("7f5e"),s("cba8")),u=Object(c["a"])(l,a,i,!1,null,"16df10d4",null);t["a"]=u.exports},"7f4a":function(e,t,s){"use strict";s.d(t,"a",(function(){return c}));var a=s("e902"),i=s("a018"),n=s("d9ca"),r=s("0590"),o=s("1f4e"),l="Assertion",c=function(e){Object(n["a"])(s,e);var t=Object(r["a"])(s);function s(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(i["a"])(this,s),e=t.call(this,a),e.$type=l,e}return Object(a["a"])(s)}(o["a"])},"7f5e":function(e,t,s){"use strict";s("c8d3")},"7fb9":function(e,t,s){"use strict";s.r(t),s.d(t,"default",(function(){return c})),s.d(t,"schema",(function(){return u}));var a=s("e902"),i=s("a018"),n=s("d9ca"),r=s("0590"),o=s("108a"),l={options:{attributes:{guiclass:"JSONPostProcessorGui",testclass:"JSONPostProcessor",testname:"JSONPostProcessor",enabled:"true"}}},c=function(e){Object(n["a"])(s,e);var t=Object(r["a"])(s);function s(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l;return Object(i["a"])(this,s),e=t.call(this,a),e.scope=e.initStringProp("Sample.scope"),e.variable=e.initStringProp("Scope.variable"),e.referenceNames=e.initStringProp("JSONPostProcessor.referenceNames"),e.jsonPathExprs=e.initStringProp("JSONPostProcessor.jsonPathExprs"),e.matchNumber=e.initStringProp("JSONPostProcessor.match_number"),e.defaultValues=e.initStringProp("JSONPostProcessor.defaultValues"),e.computeConcat=e.initBoolProp("JSONPostProcessor.compute_concat"),e}return Object(a["a"])(s)}(o["a"]),u={JSONPostProcessor:c}},"7fe9":function(e,t,s){"use strict";s("e8d7")},"806a":function(e,t,s){},"809f":function(e,t,s){"use strict";s.r(t),s.d(t,"default",(function(){return c})),s.d(t,"schema",(function(){return u}));var a=s("e902"),i=s("a018"),n=s("d9ca"),r=s("0590"),o=s("f844"),l={options:{attributes:{guiclass:"HeaderPanel",testclass:"HeaderManager",testname:"HeaderManager",enabled:"true"}}},c=function(e){Object(n["a"])(s,e);var t=Object(r["a"])(s);function s(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l;return Object(i["a"])(this,s),e=t.call(this,a),e.type="HeaderManager",e.headers=[],e}return Object(a["a"])(s)}(o["a"]),u={HeaderManager:c}},"81c6":function(e,t,s){"use strict";s("ac76")},"81fe":function(e,t,s){"use strict";s.r(t),s.d(t,"default",(function(){return c})),s.d(t,"schema",(function(){return u}));var a=s("e902"),i=s("a018"),n=s("d9ca"),r=s("0590"),o=s("108a"),l={options:{attributes:{guiclass:"TestBeanGUI",testclass:"JSR223PostProcessor",testname:"JSR223 PostProcessor",enabled:"true"}}},c=function(e){Object(n["a"])(s,e);var t=Object(r["a"])(s);function s(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l;return Object(i["a"])(this,s),e=t.call(this,a),e.type="JSR223PostProcessor",e.scriptLanguage="beanshell",e.parameters=[],e.filename=void 0,e.cacheKey=!0,e.enable=!0,e.script=void 0,e}return Object(a["a"])(s)}(o["a"]),u={JSR223PostProcessor:c}},8264:function(e,t,s){},"86fb":function(e,t,s){},"86fe":function(e,t,s){"use strict";s("b238")},"88ac":function(e,t,s){"use strict";s.r(t),s.d(t,"default",(function(){return u})),s.d(t,"schema",(function(){return d}));var a=s("e902"),i=s("a018"),n=s("d9ca"),r=s("0590"),o=s("a18a5"),l=s("a70b"),c={options:{attributes:{guiclass:"HttpTestSampleGui",testclass:"HTTPSamplerProxy",testname:"HTTPSamplerProxy",enabled:"true"}}},u=function(e){Object(n["a"])(s,e);var t=Object(r["a"])(s);function s(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;return Object(i["a"])(this,s),e=t.call(this,a),e.type="HTTPSamplerProxy",e.protocol="HTTP",e.domain=void 0,e.port=void 0,e.method=void 0,e.path=void 0,e.contentEncoding=void 0,e.autoRedirects=!1,e.followRedirects=!0,e.useKeepalive=!0,e.postBodyRaw=void 0,e.doMultipartPost=!1,e.browserCompatibleMultipart=void 0,e.embeddedUrlRe=void 0,e.connectTimeout=6e4,e.responseTimeout=6e4,e.body=new l["h"],e.arguments=[],e.rest=[],e.files=[],e.headers=[],e.hashTree=[],e}return Object(a["a"])(s)}(o["a"]),d={HTTPSamplerProxy:u}},"88f3":function(e,t,s){"use strict";s.r(t),s.d(t,"default",(function(){return c})),s.d(t,"schema",(function(){return u}));var a=s("e902"),i=s("a018"),n=s("d9ca"),r=s("0590"),o=s("7f4a"),l={options:{attributes:{guiclass:"JSONPathAssertionGui",testclass:"JSONPathAssertion",testname:"JSONPath Assertion",enabled:"true"}}},c=function(e){Object(n["a"])(s,e);var t=Object(r["a"])(s);function s(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l;return Object(i["a"])(this,s),e=t.call(this,a),e.jsonPath=e.initStringProp("JSON_PATH"),e.jsonValidation=e.initBoolProp("JSONVALIDATION",!1),e.isRegex=e.initBoolProp("ISREGEX",!0),e.expectedValue=e.initStringProp("EXPECTED_VALUE"),e.expectNull=e.initBoolProp("EXPECT_NULL",!1),e.invert=e.initBoolProp("INVERT",!1),e}return Object(a["a"])(s)}(o["a"]),u={JSONPathAssertion:c}},"8aff":function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-container",[s("el-aside",{staticClass:"scenario-aside"},[s("div",{staticClass:"scenario-list"},[s("ms-api-collapse",{on:{change:e.handleChange},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[s("draggable",{staticClass:"scenario-draggable",attrs:{list:e.scenarios,group:"Scenario","ghost-class":"scenario-ghost"}},e._l(e.scenarios,(function(t,a){return s("ms-api-collapse-item",{key:a,class:{"disable-scenario":!t.isEnable()},attrs:{title:t.name,name:a}},[s("template",{slot:"title"},[s("div",{staticClass:"scenario-name"},[t.isReference()?s("el-tag",{attrs:{type:"info",size:"small"}},[e._v(e._s(e.$t("api_test.scenario.reference"))+" ")]):e._e(),e._v(" "+e._s(t.name)+" "),t.name?e._e():s("span",{attrs:{id:"hint"}},[e._v(" "+e._s(e.$t("api_test.scenario.config"))+" ")])],1),s("el-dropdown",{attrs:{trigger:"click"},on:{command:e.handleCommand}},[s("span",{staticClass:"el-dropdown-link el-icon-more scenario-btn"}),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[s("el-dropdown-item",{attrs:{disabled:e.isReadOnly,command:{type:"copy",index:a}}},[e._v(" "+e._s(e.$t("api_test.scenario.copy"))+" ")]),s("el-dropdown-item",{attrs:{disabled:e.isReadOnly,command:{type:"delete",index:a}}},[e._v(" "+e._s(e.$t("api_test.scenario.delete"))+" ")]),t.isEnable()?s("el-dropdown-item",{attrs:{disabled:e.isReadOnly,command:{type:"disable",index:a}}},[e._v(" "+e._s(e.$t("api_test.scenario.disable"))+" ")]):e._e(),t.isEnable()?e._e():s("el-dropdown-item",{attrs:{disabled:e.isReadOnly,command:{type:"enable",index:a}}},[e._v(" "+e._s(e.$t("api_test.scenario.enable"))+" ")])],1)],1)],1),s("ms-api-request-config",{attrs:{"is-read-only":e.disable,scenario:t},on:{select:e.select}})],2)})),1)],1)],1),s("el-popover",{attrs:{placement:"top"},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[s("el-radio-group",{on:{change:e.createScenario},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}},[s("el-radio",{attrs:{label:e.types.CREATE}},[e._v(e._s(e.$t("api_test.scenario.create_scenario")))]),s("el-radio",{attrs:{label:e.types.SELECT}},[e._v(e._s(e.$t("api_test.scenario.select_scenario")))])],1),s("el-button",{staticClass:"scenario-create",attrs:{slot:"reference",disabled:e.isReadOnly,type:"primary",size:"mini",icon:"el-icon-plus",plain:""},slot:"reference"})],1),s("ms-horizontal-drag-bar")],1),s("el-main",{staticClass:"scenario-main"},[s("div",{staticClass:"scenario-form"},[e.isScenario?s("ms-api-scenario-form",{attrs:{"is-read-only":e.disable,scenario:e.selected,"project-id":e.projectId}}):e._e(),e.isRequest?s("ms-api-request-form",{attrs:{"debug-report-id":e.debugReportId,"is-read-only":e.disable,request:e.selected,scenario:e.currentScenario},on:{runDebug:e.runDebug}}):e._e()],1)]),s("ms-api-scenario-select",{ref:"selectDialog",attrs:{"exclude-id":e.test.id,"project-id":e.test.projectId},on:{select:e.selectScenario}})],1)},i=[],n=s("ebb4"),r=(s("89a8"),s("1a91"),s("5a05"),s("993f"),s("bb13"),s("b110"),s("fe35"),s("0c0d")),o=s("4725"),l=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"request-container"},[s("draggable",{staticClass:"request-draggable",attrs:{list:this.scenario.requests,group:"Request","ghost-class":"request-ghost",disabled:e.isReference}},e._l(this.scenario.requests,(function(t,a){return s("div",{key:a,staticClass:"request-item",class:{selected:e.isSelected(t),"disable-request":e.isEnable(t)},on:{click:function(s){return e.select(t)}}},[s("ms-condition-label",{attrs:{request:t}}),s("el-row",{attrs:{type:"flex",align:"middle"}},[s("div",{staticClass:"request-type"},[e._v(" "+e._s(t.showType())+" ")]),s("div",{staticClass:"request-method",style:{color:e.getColor(t.enable,t.showMethod())}},[e._v(" "+e._s(t.showMethod())+" ")]),s("div",{staticClass:"request-name"},[e._v(" "+e._s(t.name)+" ")]),s("div",{staticClass:"request-btn"},[s("el-dropdown",{attrs:{trigger:"click"},on:{command:e.handleCommand}},[s("span",{staticClass:"el-dropdown-link el-icon-more"}),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[s("el-dropdown-item",{attrs:{disabled:e.isReadOnly,command:{type:"copy",index:a}}},[e._v(" "+e._s(e.$t("api_test.request.copy"))+" ")]),s("el-dropdown-item",{attrs:{disabled:e.isReadOnly,command:{type:"delete",index:a}}},[e._v(" "+e._s(e.$t("api_test.request.delete"))+" ")]),t.enable?s("el-dropdown-item",{attrs:{disabled:e.isReadOnly,command:{type:"disable",index:a}}},[e._v(" "+e._s(e.$t("api_test.scenario.disable"))+" ")]):e._e(),t.enable?e._e():s("el-dropdown-item",{attrs:{disabled:e.isReadOnly,command:{type:"enable",index:a}}},[e._v(" "+e._s(e.$t("api_test.scenario.enable"))+" ")]),s("el-dropdown-item",{attrs:{disabled:e.isReadOnly,command:{type:"controller",index:a}}},[e._v(" "+e._s(e.$t("api_test.request.condition"))+" ")]),s("el-dropdown-item",{attrs:{disabled:e.isReadOnly,command:{type:"wait",index:a}}},[e._v(" "+e._s(e.$t("api_test.request.wait"))+" ")])],1)],1)],1)])],1)})),0),s("el-popover",{attrs:{placement:"top"},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[s("el-radio-group",{on:{change:e.createRequest},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}},[s("el-radio",{attrs:{label:e.types.HTTP}},[e._v("HTTP")]),s("el-radio",{attrs:{label:e.types.DUBBO}},[e._v("DUBBO")]),s("el-radio",{attrs:{label:e.types.SQL}},[e._v("SQL")]),s("el-radio",{attrs:{label:e.types.TCP}},[e._v("TCP")])],1),s("el-button",{staticClass:"request-create",attrs:{slot:"reference",disabled:e.isReadOnly,type:"primary",size:"mini",icon:"el-icon-plus",plain:""},slot:"reference"})],1),s("ms-if-controller",{ref:"controller"}),s("ms-constant-timer",{ref:"timer"})],1)},c=[],u=s("4dd5"),d=s("3335"),p=s.n(d),m=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-dialog",{attrs:{visible:e.visible,width:"800px"},on:{"update:visible":function(t){e.visible=t},close:e.close}},[s("el-row",{attrs:{gutter:10,type:"flex",align:"middle"}},[s("el-col",{attrs:{span:1}},[e._v("If")]),s("el-col",{attrs:{span:6}},[s("el-input",{attrs:{size:"small",placeholder:e.$t("api_test.request.condition_variable")},model:{value:e.controller.variable,callback:function(t){e.$set(e.controller,"variable",t)},expression:"controller.variable"}})],1),s("el-col",{attrs:{span:5}},[s("el-select",{attrs:{placeholder:e.$t("commons.please_select"),size:"small"},on:{change:e.change},model:{value:e.controller.operator,callback:function(t){e.$set(e.controller,"operator",t)},expression:"controller.operator"}},e._l(e.operators,(function(t){return s("el-option",{key:t.value,attrs:{label:e.$t(t.label),value:t.value}})})),1)],1),s("el-col",{attrs:{span:6}},[e.hasEmptyOperator?e._e():s("el-input",{attrs:{size:"small",placeholder:e.$t("api_test.value")},model:{value:e.controller.value,callback:function(t){e.$set(e.controller,"value",t)},expression:"controller.value"}})],1),s("el-col",{attrs:{span:4}},[s("el-switch",{attrs:{"inactive-text":e.$t("api_test.scenario.enable_disable")},model:{value:e.controller.enable,callback:function(t){e.$set(e.controller,"enable",t)},expression:"controller.enable"}})],1),s("el-col",{attrs:{span:2}},[s("el-button",{attrs:{size:"mini",type:"danger",icon:"el-icon-delete",circle:""},on:{click:e.remove}})],1)],1)],1)},h=[],f={name:"MsIfController",data:function(){return{request:{},controller:new u["t"],visible:!1,operators:{EQ:{label:"commons.adv_search.operators.equals",value:"=="},NE:{label:"commons.adv_search.operators.not_equals",value:"!="},LIKE:{label:"commons.adv_search.operators.like",value:"=~"},NOT_LIKE:{label:"commons.adv_search.operators.not_like",value:"!~"},GT:{label:"commons.adv_search.operators.gt",value:">"},LT:{label:"commons.adv_search.operators.lt",value:"<"},IS_EMPTY:{label:"commons.adv_search.operators.is_empty",value:"is empty"},IS_NOT_EMPTY:{label:"commons.adv_search.operators.is_not_empty",value:"is not empty"}}}},methods:{open:function(e){this.request=e,this.controller=new u["t"](e.controller),this.controller.operator||(this.controller.operator=this.operators.EQ.value),this.visible=!0},close:function(){this.request.controller=this.controller,this.visible=!1},remove:function(){this.controller=new u["t"],this.visible=!1},change:function(e){e.indexOf("empty")>0&&this.controller.value&&(this.controller.value="")}},computed:{hasEmptyOperator:function(){return!!this.controller.operator&&this.controller.operator.indexOf("empty")>0}}},b=f,v=s("cba8"),g=Object(v["a"])(b,m,h,!1,null,"36686698",null),_=g.exports,y=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-dialog",{attrs:{visible:e.visible,width:"600px"},on:{"update:visible":function(t){e.visible=t},close:e.close}},[s("el-row",{attrs:{gutter:10,type:"flex",align:"middle"}},[s("el-col",{attrs:{span:2}},[e._v(e._s(e.$t("api_test.request.wait")))]),s("el-col",{attrs:{span:10}},[s("el-input-number",{staticClass:"width-100",attrs:{size:"small",min:0,step:1e3},model:{value:e.timer.delay,callback:function(t){e.$set(e.timer,"delay",t)},expression:"timer.delay"}})],1),s("el-col",{attrs:{span:2}},[e._v("ms")]),s("el-col",{attrs:{span:8}},[s("el-switch",{attrs:{"inactive-text":e.$t("api_test.scenario.enable_disable")},model:{value:e.timer.enable,callback:function(t){e.$set(e.timer,"enable",t)},expression:"timer.enable"}})],1),s("el-col",{attrs:{span:2}},[s("el-button",{attrs:{size:"mini",type:"danger",icon:"el-icon-delete",circle:""},on:{click:e.remove}})],1)],1)],1)},x=[],P={name:"MsConstantTimer",data:function(){return{request:{},timer:new u["j"],visible:!1}},methods:{open:function(e){this.request=e,this.timer=new u["j"](e.timer),this.visible=!0},close:function(){this.request.timer=this.timer,this.visible=!1},remove:function(){this.timer=new u["j"],this.visible=!1}}},O=P,C=(s("bcfc"),Object(v["a"])(O,y,x,!1,null,"9c10b7bc",null)),$=C.exports,q=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",[e.request.controller&&e.request.controller.isValid()?s("el-button",{staticClass:"condition",class:e.controllerClass,attrs:{size:"mini"},on:{click:e.openController}},[s("el-row",{attrs:{type:"flex",align:"middle"}},[s("font-awesome-icon",{attrs:{icon:["fas","random"]}}),s("div",{staticClass:"condition-label"},[e._v(e._s(e.request.controller.getLabel()))])],1)],1):e._e()],1),s("div",[e.request.timer&&e.request.timer.isValid()?s("el-button",{staticClass:"condition",class:e.timerClass,attrs:{size:"mini"},on:{click:e.openTimer}},[s("el-row",{attrs:{type:"flex",align:"middle"}},[s("font-awesome-icon",{attrs:{icon:["fas","clock"]}}),s("div",{staticClass:"condition-label"},[e._v(e._s(e.request.timer&&e.request.timer.getLabel()))])],1)],1):e._e()],1),s("ms-if-controller",{ref:"controller"}),s("ms-constant-timer",{ref:"timer"})],1)},S=[],w={name:"MsConditionLabel",components:{MsConstantTimer:$,MsIfController:_},props:{request:u["z"]},methods:{openController:function(){this.$refs.controller.open(this.request)},openTimer:function(){this.$refs.timer.open(this.request)}},computed:{controllerClass:function(){var e=!1===this.request.controller.enable;return{"is-disabled":e,"click-cursor":e}},timerClass:function(){var e=!1===this.request.timer.enable;return{"is-disabled":e,"click-cursor":e}}}},k=w,j=(s("9492"),Object(v["a"])(k,q,S,!1,null,"6a92c628",null)),R=j.exports,T={name:"MsApiRequestConfig",components:{MsConditionLabel:R,MsConstantTimer:$,MsIfController:_,draggable:p.a},props:{scenario:Object,isReadOnly:{type:Boolean,default:!1}},data:function(){return{selected:0,visible:!1,types:u["A"].TYPES,type:"",methodColorMap:new Map([["GET","#61AFFE"],["POST","#49CC90"],["PUT","#fca130"],["PATCH","#E2EE11"],["DELETE","#f93e3d"],["OPTIONS","#0EF5DA"],["HEAD","#8E58E7"],["CONNECT","#90AFAE"],["DUBBO","#C36EEF"],["SQL","#0AEAD4"],["TCP","#0A52DF"]])}},computed:{isSelected:function(){return function(e){return this.selected===e}},isReference:function(){return this.scenario.isReference()}},methods:{createRequest:function(e){var t=new u["A"]({type:e});this.scenario.environmentId&&(t.useEnvironment=!0),this.scenario.requests.push(t),this.type="",this.visible=!1},copyRequest:function(e){var t=this.scenario.requests[e],s=new u["A"](t);s.body&&s.body.kvs&&s.body.kvs.forEach((function(e){var t=[];e.files&&e.files.forEach((function(e){var s={};Object.assign(s,e),t.push(s)})),e.files=t})),this.scenario.requests.push(s)},disableRequest:function(e){this.scenario.requests[e].enable=!1},enableRequest:function(e){this.scenario.requests[e].enable=!0},deleteRequest:function(e){this.scenario.requests.splice(e,1),0===this.scenario.requests.length&&this.createRequest()},addController:function(e){var t=this.scenario.requests[e];this.$refs.controller.open(t)},addTimer:function(e){var t=this.scenario.requests[e];this.$refs.timer.open(t)},handleCommand:function(e){switch(e.type){case"copy":this.copyRequest(e.index);break;case"delete":this.deleteRequest(e.index);break;case"disable":this.disableRequest(e.index);break;case"enable":this.enableRequest(e.index);break;case"controller":this.addController(e.index);break;case"wait":this.addTimer(e.index);break}},getColor:function(e,t){return this.scenario.enable&&e?this.methodColorMap.get(t):"#909399"},select:function(e){e&&(e.environment=this.scenario.environment,e.useEnvironment||(e.useEnvironment=!1),e.dubboConfig=this.scenario.dubboConfig,this.selected=e,this.$emit("select",e,this.scenario))},isEnable:function(e){return!e.enable||!this.scenario.isEnable()}},created:function(){this.select(this.scenario.requests[0])}},E=T,D=(s("7631"),Object(v["a"])(E,l,c,!1,null,"55e1e5ce",null)),A=D.exports,M=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"request-form"},[s(e.component,{tag:"component",attrs:{"is-read-only":e.isReadOnly,request:e.request,scenario:e.scenario},on:{runDebug:e.runDebug}}),e.isCompleted?s("el-divider"):e._e(),e.isCompleted?s("ms-request-result-tail",{directives:[{name:"loading",rawName:"v-loading",value:e.debugReportLoading,expression:"debugReportLoading"}],ref:"msDebugResult",attrs:{requestType:e.request.type,request:e.request.debugRequestResult?e.request.debugRequestResult:{responseResult:{},subRequestResults:[]},"scenario-name":e.request.debugScenario?e.request.debugScenario.name:""}}):e._e()],1)},N=[],B=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-form",{ref:"request",attrs:{model:e.request,rules:e.rules,"label-width":"100px",disabled:e.isReadOnly}},[s("el-form-item",{attrs:{label:e.$t("api_test.request.name"),prop:"name"}},[s("el-input",{attrs:{disabled:e.isReadOnly,maxlength:"300","show-word-limit":""},model:{value:e.request.name,callback:function(t){e.$set(e.request,"name",t)},expression:"request.name"}})],1),e.request.useEnvironment?e._e():s("el-form-item",{staticClass:"adjust-margin-bottom",attrs:{label:e.$t("api_test.request.url"),prop:"url"}},[s("el-input",{attrs:{disabled:e.isReadOnly,maxlength:"500",placeholder:e.$t("api_test.request.url_description"),clearable:""},on:{change:e.urlChange},scopedSlots:e._u([{key:"prepend",fn:function(){return[s("ApiRequestMethodSelect",{attrs:{"is-read-only":e.isReadOnly,request:e.request},on:{change:e.methodChange}})]},proxy:!0}],null,!1,2413209600),model:{value:e.request.url,callback:function(t){e.$set(e.request,"url",t)},expression:"request.url"}})],1),e.request.useEnvironment?s("el-form-item",{attrs:{label:e.$t("api_test.request.path"),prop:"path"}},[s("el-input",{attrs:{disabled:e.isReadOnly,maxlength:"500",placeholder:e.$t("api_test.request.path_description"),clearable:""},on:{change:e.pathChange},scopedSlots:e._u([{key:"prepend",fn:function(){return[s("ApiRequestMethodSelect",{attrs:{"is-read-only":e.isReadOnly,request:e.request},on:{change:e.methodChange}})]},proxy:!0}],null,!1,2413209600),model:{value:e.request.path,callback:function(t){e.$set(e.request,"path",t)},expression:"request.path"}})],1):e._e(),e.request.useEnvironment?s("el-form-item",{staticClass:"adjust-margin-bottom",attrs:{label:e.$t("api_test.request.address")}},[s("el-tag",{staticClass:"environment-display"},[s("span",{staticClass:"environment-name"},[e._v(e._s(e.scenario.environment?e.scenario.environment.name+": ":""))]),s("span",{staticClass:"environment-url"},[e._v(e._s(e.displayUrl))]),e.displayUrl?e._e():s("span",{staticClass:"environment-url-tip"},[e._v(e._s(e.$t("api_test.request.please_configure_socket_in_environment")))])])],1):e._e(),s("el-form-item",[s("el-switch",{attrs:{"active-text":e.$t("api_test.request.refer_to_environment")},on:{change:e.useEnvironmentChange},model:{value:e.request.useEnvironment,callback:function(t){e.$set(e.request,"useEnvironment",t)},expression:"request.useEnvironment"}}),s("el-checkbox",{staticClass:"follow-redirects-item",model:{value:e.request.followRedirects,callback:function(t){e.$set(e.request,"followRedirects",t)},expression:"request.followRedirects"}},[e._v(e._s(e.$t("api_test.request.follow_redirects")))]),s("el-checkbox",{staticClass:"do-multipart-post",model:{value:e.request.doMultipartPost,callback:function(t){e.$set(e.request,"doMultipartPost",t)},expression:"request.doMultipartPost"}},[e._v(e._s(e.$t("api_test.request.do_multipart_post")))])],1),s("el-button",{staticClass:"debug-button",attrs:{disabled:!e.request.enable||!e.scenario.enable||e.isReadOnly,size:"small",type:"primary"},on:{click:e.runDebug}},[e._v(e._s(e.$t("api_test.request.debug"))+" ")]),s("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[s("el-tab-pane",{attrs:{label:e.$t("api_test.request.parameters"),name:"parameters"}},[s("ms-api-variable",{attrs:{"is-read-only":e.isReadOnly,parameters:e.request.parameters,environment:e.scenario.environment,scenario:e.scenario,extract:e.request.extract,description:e.$t("api_test.request.parameters_desc")}})],1),s("el-tab-pane",{attrs:{label:e.$t("api_test.request.headers"),name:"headers"}},[s("ms-api-key-value",{attrs:{"is-read-only":e.isReadOnly,isShowEnable:!0,suggestions:e.headerSuggestions,items:e.request.headers}})],1),s("el-tab-pane",{attrs:{label:e.$t("api_test.request.body"),name:"body"}},[s("ms-api-body",{attrs:{"is-read-only":e.isReadOnly,body:e.request.body,scenario:e.scenario,extract:e.request.extract,environment:e.scenario.environment}})],1),s("el-tab-pane",{attrs:{label:e.$t("api_test.request.assertions.label"),name:"assertions"}},[s("ms-api-assertions",{attrs:{request:e.request,"is-read-only":e.isReadOnly,assertions:e.request.assertions}})],1),s("el-tab-pane",{attrs:{label:e.$t("api_test.request.extract.label"),name:"extract"}},[s("ms-api-extract",{attrs:{"is-read-only":e.isReadOnly,extract:e.request.extract}})],1),s("el-tab-pane",{attrs:{label:e.$t("api_test.request.processor.pre_exec_script"),name:"jsr223PreProcessor"}},[s("ms-jsr233-processor",{attrs:{"is-read-only":e.isReadOnly,"jsr223-processor":e.request.jsr223PreProcessor}})],1),s("el-tab-pane",{attrs:{label:e.$t("api_test.request.processor.post_exec_script"),name:"jsr223PostProcessor"}},[s("ms-jsr233-processor",{attrs:{"is-read-only":e.isReadOnly,"jsr223-processor":e.request.jsr223PostProcessor}})],1),s("el-tab-pane",{attrs:{label:e.$t("api_test.request.timeout_config"),name:"advancedConfig"}},[s("ms-api-advanced-config",{attrs:{"is-read-only":e.isReadOnly,request:e.request}})],1)],1)],1)},I=[],V=(s("7216"),s("609b"),s("ba4e"),s("87b9")),J=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("el-radio-group",{attrs:{size:"mini"},model:{value:e.body.type,callback:function(t){e.$set(e.body,"type",t)},expression:"body.type"}},[s("el-radio-button",{attrs:{disabled:e.isReadOnly,label:e.type.KV}},[e._v(" "+e._s(e.$t("api_test.request.body_kv"))+" ")]),s("el-radio-button",{attrs:{disabled:e.isReadOnly,label:e.type.RAW}},[e._v(" "+e._s(e.$t("api_test.request.body_text"))+" ")])],1),"Raw"==e.body.type?s("ms-dropdown",{attrs:{"default-command":e.body.format,commands:e.modes},on:{command:e.modeChange}}):e._e(),e.body.isKV()?s("ms-api-variable",{attrs:{"is-read-only":e.isReadOnly,parameters:e.body.kvs,environment:e.environment,scenario:e.scenario,extract:e.extract,type:"body"}}):e._e(),"Raw"==e.body.type?s("div",{staticClass:"body-raw"},[e.isCodeEditAlive?s("ms-code-edit",{ref:"codeEdit",attrs:{mode:e.body.format,"read-only":e.isReadOnly,data:e.body.raw,modes:e.modes},on:{"update:data":function(t){return e.$set(e.body,"raw",t)}}}):e._e()],1):e._e()],1)},F=[],z=s("2278"),L=s("bc5b"),H=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e.description?s("span",{staticClass:"kv-description"},[e._v(" "+e._s(e.description)+" ")]):e._e(),e._l(e.parameters,(function(t,a){return s("div",{key:a,staticClass:"kv-row"},[s("el-row",{attrs:{type:"flex",gutter:20,justify:"space-between",align:"middle"}},[s("el-col",{staticClass:"kv-checkbox"},[e.isDisable(a)?e._e():s("input",{directives:[{name:"model",rawName:"v-model",value:t.enable,expression:"item.enable"}],attrs:{type:"checkbox",disabled:e.isReadOnly},domProps:{checked:Array.isArray(t.enable)?e._i(t.enable,null)>-1:t.enable},on:{change:function(s){var a=t.enable,i=s.target,n=!!i.checked;if(Array.isArray(a)){var r=null,o=e._i(a,r);i.checked?o<0&&e.$set(t,"enable",a.concat([r])):o>-1&&e.$set(t,"enable",a.slice(0,o).concat(a.slice(o+1)))}else e.$set(t,"enable",n)}}})]),s("el-col",[e.suggestions?e._e():s("el-input",{attrs:{disabled:e.isReadOnly,size:"small",maxlength:"200",placeholder:e.keyText,"show-word-limit":""},on:{change:e.change},scopedSlots:e._u([{key:"prepend",fn:function(){return["body"===e.type?s("el-select",{staticClass:"kv-type",attrs:{disabled:e.isReadOnly},on:{change:function(s){return e.typeChange(t)}},model:{value:t.type,callback:function(s){e.$set(t,"type",s)},expression:"item.type"}},[s("el-option",{attrs:{value:"text"}}),s("el-option",{attrs:{value:"file"}})],1):e._e()]},proxy:!0}],null,!0),model:{value:t.name,callback:function(s){e.$set(t,"name",s)},expression:"item.name"}}),e.suggestions?s("el-autocomplete",{attrs:{disabled:e.isReadOnly,size:"small","fetch-suggestions":e.querySearch,placeholder:e.keyText,"show-word-limit":""},on:{change:e.change},model:{value:t.name,callback:function(s){e.$set(t,"name",s)},expression:"item.name"}}):e._e()],1),"file"!==t.type?s("el-col",[s("el-autocomplete",{staticClass:"input-with-autocomplete",attrs:{disabled:e.isReadOnly,size:"small","fetch-suggestions":e.funcSearch,placeholder:e.valueText,"value-key":"name","highlight-first-item":""},on:{select:e.change},model:{value:t.value,callback:function(s){e.$set(t,"value",s)},expression:"item.value"}},[s("i",{staticClass:"el-input__icon el-icon-edit pointer",attrs:{slot:"suffix"},on:{click:function(s){return e.advanced(t)}},slot:"suffix"})])],1):e._e(),"file"===t.type?s("el-col",[s("ms-api-body-file-upload",{attrs:{parameter:t}})],1):e._e(),"body"===e.type?s("el-col",[s("el-input",{attrs:{disabled:e.isReadOnly,size:"small",maxlength:"100",placeholder:e.$t("api_test.request.content_type"),"show-word-limit":""},on:{change:e.change},model:{value:t.contentType,callback:function(s){e.$set(t,"contentType",s)},expression:"item.contentType"}})],1):e._e(),s("el-col",{staticClass:"kv-delete"},[s("el-button",{staticClass:"el-icon-delete-solid",attrs:{size:"mini",circle:"",disabled:e.isDisable(a)||e.isReadOnly},on:{click:function(t){return e.remove(a)}}})],1)],1)],1)})),s("ms-api-variable-advance",{ref:"variableAdvance",attrs:{environment:e.environment,scenario:e.scenario,parameters:e.parameters,"current-item":e.currentItem}})],2)},U=[],G=(s("10dd"),s("b3d9"),s("d5ee"),s("4abd")),X=s("8bac"),Q=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",[s("el-upload",{ref:"upload",staticClass:"api-body-upload",attrs:{action:"#","list-type":"picture-card","http-request":e.upload,beforeUpload:e.uploadValidate,"file-list":e.parameter.files},scopedSlots:e._u([{key:"file",fn:function(t){var a=t.file;return s("div",{staticClass:"upload-item"},[s("span",[e._v(e._s(a.file?a.file.name:a.name))]),s("span",{staticClass:"el-upload-list__item-actions"},[e.disabled?e._e():s("span",{staticClass:"el-upload-list__item-delete",on:{click:function(t){return e.handleRemove(a)}}},[s("i",{staticClass:"el-icon-delete"})])])])}}])},[s("div",{staticClass:"upload-default"},[s("i",{staticClass:"el-icon-plus"})])])],1)},Y=[],K={name:"MsApiBodyFileUpload",data:function(){return{disabled:!1}},props:{parameter:Object,default:function(){return{}}},methods:{handleRemove:function(e){this.$refs.upload.handleRemove(e);for(var t=0;t<this.parameter.files.length;t++){var s=e.file?e.file.name:e.name,a=this.parameter.files[t].file?this.parameter.files[t].file.name:this.parameter.files[t].name;if(s===a){this.parameter.files.splice(t,1),this.$refs.upload.handleRemove(e);break}}},upload:function(e){this.parameter.files.push(e)},uploadValidate:function(e){return!(e.size/1024/1024>500)||(this.$warning(this.$t("api_test.request.body_upload_limit_size")),!1)}},created:function(){this.parameter.files||(this.parameter.files=[])}},W=K,Z=(s("77db"),Object(v["a"])(W,Q,Y,!1,null,"862b7c24",null)),ee=Z.exports,te={name:"MsApiVariable",components:{MsApiBodyFileUpload:ee,MsApiVariableAdvance:X["a"]},props:{keyPlaceholder:String,valuePlaceholder:String,description:String,parameters:Array,environment:Object,scenario:u["B"],type:{type:String,default:""},isReadOnly:{type:Boolean,default:!1},suggestions:Array},data:function(){return{currentItem:null}},computed:{keyText:function(){return this.keyPlaceholder||this.$t("api_test.key")},valueText:function(){return this.valuePlaceholder||this.$t("api_test.value")}},methods:{remove:function(e){this.parameters.splice(e,1),this.$emit("change",this.parameters)},change:function(){var e=this,t=!0;this.parameters.forEach((function(s,a){s.name||s.value||(a!==e.parameters.length-1&&a,t=!1)})),t&&this.parameters.push(new u["w"]({type:"text",enable:!0,uuid:this.uuid(),contentType:"text/plain"})),this.$emit("change",this.parameters)},isDisable:function(e){return this.parameters.length-1===e},querySearch:function(e,t){var s=this.suggestions,a=e?s.filter(this.createFilter(e)):s;t(a)},createFilter:function(e){return function(t){return 0===t.value.toLowerCase().indexOf(e.toLowerCase())}},funcSearch:function(e,t){var s=G["p"].concat(G["n"]),a=e?s.filter(this.funcFilter(e)):s;t(a)},funcFilter:function(e){return function(t){return t.name.toLowerCase().indexOf(e.toLowerCase())>-1}},uuid:function(){return(1048576*(1+Math.random())|0).toString(16).substring(1)},advanced:function(e){this.$refs.variableAdvance.open(),this.currentItem=e},typeChange:function(e){"file"===e.type?e.contentType="application/octet-stream":e.contentType="text/plain"}},created:function(){(0===this.parameters.length||this.parameters[this.parameters.length-1].name)&&this.parameters.push(new u["w"]({type:"text",enable:!0,uuid:this.uuid(),contentType:"text/plain"}))}},se=te,ae=(s("a7e6"),Object(v["a"])(se,H,U,!1,null,"2b054181",null)),ie=ae.exports,ne={name:"MsApiBody",components:{MsApiVariable:ie,MsDropdown:L["a"],MsCodeEdit:z["a"],MsApiKeyValue:V["a"]},props:{body:u["h"],scenario:u["B"],environment:Object,extract:Object,isReadOnly:{type:Boolean,default:!1}},data:function(){return{type:u["f"],modes:["text","json","xml","html"],isCodeEditAlive:!0}},methods:{modeChange:function(e){this.body.format=e,this.reload()},reload:function(){var e=this;this.isCodeEditAlive=!1,this.$nextTick((function(){return e.isCodeEditAlive=!0}))}},created:function(){this.body.type||(this.body.type=u["f"].KV),this.body.format||(this.body.format=u["e"].TEXT),this.body.kvs.forEach((function(e){e.type||(e.type="text")}))}},re=ne,oe=(s("81c6"),Object(v["a"])(re,J,F,!1,null,"417d2cfc",null)),le=oe.exports,ce=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"assertion-add"},[s("el-row",{attrs:{gutter:10}},[s("el-col",{attrs:{span:4}},[s("el-select",{staticClass:"assertion-item",attrs:{disabled:e.isReadOnly,placeholder:e.$t("api_test.request.assertions.select_type"),size:"small"},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}},[s("el-option",{attrs:{label:e.$t("api_test.request.assertions.text"),value:e.options.TEXT}}),s("el-option",{attrs:{label:e.$t("api_test.request.assertions.regex"),value:e.options.REGEX}}),s("el-option",{attrs:{label:"JSONPath",value:e.options.JSON_PATH}}),s("el-option",{attrs:{label:"XPath",value:e.options.XPATH2}}),s("el-option",{attrs:{label:e.$t("api_test.request.assertions.response_time"),value:e.options.DURATION}}),s("el-option",{attrs:{label:e.$t("api_test.request.assertions.jsr223"),value:e.options.JSR223}})],1)],1),s("el-col",{attrs:{span:20}},[e.type===e.options.TEXT?s("ms-api-assertion-text",{attrs:{"is-read-only":e.isReadOnly,list:e.assertions.regex,callback:e.after}}):e._e(),e.type===e.options.REGEX?s("ms-api-assertion-regex",{attrs:{"is-read-only":e.isReadOnly,list:e.assertions.regex,callback:e.after}}):e._e(),e.type===e.options.JSON_PATH?s("ms-api-assertion-json-path",{attrs:{"is-read-only":e.isReadOnly,list:e.assertions.jsonPath,callback:e.after}}):e._e(),e.type===e.options.XPATH2?s("ms-api-assertion-x-path2",{attrs:{"is-read-only":e.isReadOnly,list:e.assertions.xpath2,callback:e.after}}):e._e(),e.type===e.options.DURATION?s("ms-api-assertion-duration",{attrs:{"is-read-only":e.isReadOnly,duration:e.assertions.duration,callback:e.after},model:{value:e.time,callback:function(t){e.time=t},expression:"time"}}):e._e(),e.type===e.options.JSR223?s("ms-api-assertion-jsr223",{attrs:{"is-read-only":e.isReadOnly,list:e.assertions.jsr223,callback:e.after}}):e._e(),e.type?e._e():s("el-button",{attrs:{disabled:!0,type:"primary",size:"small"}},[e._v(" "+e._s(e.$t("api_test.request.assertions.add"))+" ")])],1)],1)],1),e.scenario?e._e():s("div",[s("el-row",{staticClass:"json-path-suggest-button",attrs:{gutter:10}},[s("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.suggestJsonOpen}},[e._v(" "+e._s(e.$t("api_test.request.assertions.json_path_suggest"))+" ")]),s("el-button",{attrs:{size:"small",type:"danger"},on:{click:e.clearJson}},[e._v(" "+e._s(e.$t("api_test.request.assertions.json_path_clear"))+" ")])],1)],1),s("ms-api-jsonpath-suggest-list",{ref:"jsonpathSuggestList",attrs:{request:e.request},on:{addJsonpathSuggest:e.addJsonpathSuggest}}),s("ms-api-assertions-edit",{attrs:{"is-read-only":e.isReadOnly,assertions:e.assertions}})],1)},ue=[],de=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("el-row",{attrs:{gutter:10,type:"flex",justify:"space-between",align:"middle"}},[s("el-col",{staticClass:"assertion-select"},[s("el-select",{staticClass:"assertion-item",attrs:{disabled:e.isReadOnly,size:"small",placeholder:e.$t("api_test.request.assertions.select_subject")},model:{value:e.subject,callback:function(t){e.subject=t},expression:"subject"}},[s("el-option",{attrs:{label:"Response Code",value:e.subjects.RESPONSE_CODE}}),s("el-option",{attrs:{label:"Response Headers",value:e.subjects.RESPONSE_HEADERS}}),s("el-option",{attrs:{label:"Response Data",value:e.subjects.RESPONSE_DATA}})],1)],1),s("el-col",{staticClass:"assertion-select"},[s("el-select",{staticClass:"assertion-item",attrs:{disabled:e.isReadOnly,size:"small",placeholder:e.$t("api_test.request.assertions.select_condition")},model:{value:e.condition,callback:function(t){e.condition=t},expression:"condition"}},[s("el-option",{attrs:{label:e.$t("api_test.request.assertions.contains"),value:"CONTAINS"}}),s("el-option",{attrs:{label:e.$t("api_test.request.assertions.not_contains"),value:"NOT_CONTAINS"}}),s("el-option",{attrs:{label:e.$t("api_test.request.assertions.equals"),value:"EQUALS"}}),s("el-option",{attrs:{label:e.$t("api_test.request.assertions.start_with"),value:"START_WITH"}}),s("el-option",{attrs:{label:e.$t("api_test.request.assertions.end_with"),value:"END_WITH"}})],1)],1),s("el-col",[s("el-input",{attrs:{disabled:e.isReadOnly,maxlength:"200",size:"small","show-word-limit":"",placeholder:e.$t("api_test.request.assertions.value")},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1),s("el-col",{staticClass:"assertion-checkbox"},[s("el-checkbox",{attrs:{disabled:e.isReadOnly},model:{value:e.assumeSuccess,callback:function(t){e.assumeSuccess=t},expression:"assumeSuccess"}},[e._v(" "+e._s(e.$t("api_test.request.assertions.ignore_status"))+" ")])],1),s("el-col",{staticClass:"assertion-btn"},[s("el-button",{attrs:{disabled:e.isReadOnly,type:"primary",size:"small"},on:{click:e.add}},[e._v(" "+e._s(e.$t("api_test.request.assertions.add"))+" ")])],1)],1)],1)},pe=[],me={name:"MsApiAssertionText",props:{list:Array,callback:Function,isReadOnly:{type:Boolean,default:!1}},data:function(){return{subjects:u["a"],subject:"",condition:"",assumeSuccess:!1,value:""}},methods:{add:function(){this.list.push(this.toRegex()),this.callback()},toRegex:function(){var e="",t=this.subject;switch(this.condition){case"CONTAINS":e=".*"+this.value+".*",t+=" contains: "+this.value;break;case"NOT_CONTAINS":e="(?s)^((?!"+this.value+").)*$",t+=" not contains: "+this.value;break;case"EQUALS":e="^"+this.value+"$",t+=" equals: "+this.value;break;case"START_WITH":e="^"+this.value,t+=" start with: "+this.value;break;case"END_WITH":e=this.value+"$",t+=" end with: "+this.value;break}return new u["x"]({subject:this.subject,expression:e,description:t,assumeSuccess:this.assumeSuccess})}}},he=me,fe=(s("9a64"),Object(v["a"])(he,de,pe,!1,null,"4a84c688",null)),be=fe.exports,ve=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("el-row",{attrs:{gutter:10,type:"flex",justify:"space-between",align:"middle"}},[s("el-col",{staticClass:"assertion-select"},[s("el-select",{staticClass:"assertion-item",attrs:{disabled:e.isReadOnly,size:"small",placeholder:e.$t("api_test.request.assertions.select_subject")},model:{value:e.regex.subject,callback:function(t){e.$set(e.regex,"subject",t)},expression:"regex.subject"}},[s("el-option",{attrs:{label:"Response Code",value:e.subjects.RESPONSE_CODE}}),s("el-option",{attrs:{label:"Response Headers",value:e.subjects.RESPONSE_HEADERS}}),s("el-option",{attrs:{label:"Response Data",value:e.subjects.RESPONSE_DATA}})],1)],1),s("el-col",[s("el-input",{attrs:{disabled:e.isReadOnly,size:"small","show-word-limit":"",placeholder:e.$t("api_test.request.assertions.expression")},model:{value:e.regex.expression,callback:function(t){e.$set(e.regex,"expression",t)},expression:"regex.expression"}})],1),s("el-col",{staticClass:"assertion-checkbox"},[s("el-checkbox",{attrs:{disabled:e.isReadOnly},model:{value:e.regex.assumeSuccess,callback:function(t){e.$set(e.regex,"assumeSuccess",t)},expression:"regex.assumeSuccess"}},[e._v(" "+e._s(e.$t("api_test.request.assertions.ignore_status"))+" ")])],1),s("el-col",{staticClass:"assertion-btn"},[e.edit?s("el-button",{attrs:{disabled:e.isReadOnly,type:"danger",size:"mini",icon:"el-icon-delete",circle:""},on:{click:e.remove}}):s("el-button",{attrs:{disabled:e.isReadOnly,type:"primary",size:"small"},on:{click:e.add}},[e._v(" "+e._s(e.$t("api_test.request.assertions.add"))+" ")])],1)],1)],1)},ge=[],_e=(s("51b3"),s("304d"),s("f257"),{name:"MsApiAssertionRegex",props:{regex:{type:u["x"],default:function(){return new u["x"]}},edit:{type:Boolean,default:!1},index:Number,list:Array,callback:Function,isReadOnly:{type:Boolean,default:!1}},data:function(){return{subjects:u["a"]}},watch:{"regex.subject":function(){this.setRegexDescription()},"regex.expression":function(){this.setRegexDescription()}},methods:{add:function(){this.list.push(this.getRegex()),this.callback()},remove:function(){this.list.splice(this.index,1)},getRegex:function(){var e=new u["x"](this.regex);return e.description=e.subject+" has: "+e.expression,e},setRegexDescription:function(){this.regex.description=this.regex.subject+" has: "+this.regex.expression}}}),ye=_e,xe=(s("09ad"),Object(v["a"])(ye,ve,ge,!1,null,"2487548a",null)),Pe=xe.exports,Oe=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("el-row",{attrs:{gutter:10,type:"flex",justify:"space-between",align:"middle"}},[s("el-col",[s("el-input",e._b({attrs:{disabled:e.isReadOnly,value:e.value,step:"100",size:"small",type:"number",min:0,placeholder:e.$t("api_test.request.assertions.response_in_time")},on:{change:e.change,input:e.input}},"el-input",e.$attrs,!1))],1),s("el-col",{staticClass:"assertion-btn"},[e.edit?s("el-button",{attrs:{disabled:e.isReadOnly,type:"danger",size:"mini",icon:"el-icon-delete",circle:""},on:{click:e.remove}}):s("el-button",{attrs:{disabled:e.isReadOnly,type:"primary",size:"small"},on:{click:e.add}},[e._v(" "+e._s(e.$t("api_test.request.assertions.add"))+" ")])],1)],1)],1)},Ce=[],$e={name:"MsApiAssertionDuration",props:{duration:u["n"],value:[Number,String],edit:Boolean,callback:Function,isReadOnly:{type:Boolean,default:!1}},methods:{add:function(){this.validate()&&(this.duration.value=this.value,this.callback())},remove:function(){this.duration.value=void 0},change:function(e){this.validate()&&this.$emit("change",e)},input:function(e){this.$emit("input",e)},validate:function(){return!(Number(this.value)<0||""==this.value)||(this.$error(this.$t("commons.formatErr")),!1)}}},qe=$e,Se=(s("2b7d"),Object(v["a"])(qe,Oe,Ce,!1,null,"5857a976",null)),we=Se.exports,ke=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e.assertions.regex.length>0?s("div",{staticClass:"assertion-item-editing regex"},[s("div",[e._v(" "+e._s(e.$t("api_test.request.assertions.regex"))+" ")]),e._l(e.assertions.regex,(function(t,a){return s("div",{key:a,staticClass:"regex-item"},[s("ms-api-assertion-regex",{attrs:{"is-read-only":e.isReadOnly,list:e.assertions.regex,regex:t,edit:!0,index:a}})],1)}))],2):e._e(),e.assertions.jsonPath.length>0?s("div",{staticClass:"assertion-item-editing json_path"},[s("div",[e._v(" "+e._s("JSONPath")+" ")]),e._l(e.assertions.jsonPath,(function(t,a){return s("div",{key:a,staticClass:"regex-item"},[s("ms-api-assertion-json-path",{attrs:{"is-read-only":e.isReadOnly,list:e.assertions.jsonPath,"json-path":t,edit:!0,index:a}})],1)}))],2):e._e(),e.assertions.xpath2.length>0?s("div",{staticClass:"assertion-item-editing x_path"},[s("div",[e._v(" "+e._s("XPath")+" ")]),e._l(e.assertions.xpath2,(function(t,a){return s("div",{key:a,staticClass:"regex-item"},[s("ms-api-assertion-x-path2",{attrs:{"is-read-only":e.isReadOnly,list:e.assertions.xpath2,"x-path2":t,edit:!0,index:a}})],1)}))],2):e._e(),e.assertions.jsr223.length>0?s("div",{staticClass:"assertion-item-editing jsr223"},[s("div",[e._v(" "+e._s(e.$t("api_test.request.assertions.script"))+" ")]),e._l(e.assertions.jsr223,(function(t,a){return s("div",{key:a,staticClass:"regex-item"},[s("ms-api-assertion-jsr223",{attrs:{"is-read-only":e.isReadOnly,list:e.assertions.jsr223,assertion:t,edit:!0,index:a}})],1)}))],2):e._e(),e.isShow?s("div",{staticClass:"assertion-item-editing response-time"},[s("div",[e._v(" "+e._s(e.$t("api_test.request.assertions.response_time"))+" ")]),s("ms-api-assertion-duration",{attrs:{"is-read-only":e.isReadOnly,duration:e.assertions.duration,edit:!0},model:{value:e.assertions.duration.value,callback:function(t){e.$set(e.assertions.duration,"value",t)},expression:"assertions.duration.value"}})],1):e._e()])},je=[],Re=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("el-row",{attrs:{gutter:10,type:"flex",justify:"space-between",align:"middle"}},[s("el-col",[s("el-input",{attrs:{disabled:e.isReadOnly,maxlength:"200",size:"small","show-word-limit":"",placeholder:e.$t("api_test.request.extract.json_path_expression")},model:{value:e.jsonPath.expression,callback:function(t){e.$set(e.jsonPath,"expression",t)},expression:"jsonPath.expression"}})],1),s("el-col",[s("el-input",{attrs:{disabled:e.isReadOnly,size:"small","show-word-limit":"",placeholder:e.$t("api_test.request.assertions.expect")},model:{value:e.jsonPath.expect,callback:function(t){e.$set(e.jsonPath,"expect",t)},expression:"jsonPath.expect"}})],1),s("el-col",{staticClass:"assertion-btn"},[e.edit?s("el-button",{attrs:{disabled:e.isReadOnly,type:"danger",size:"mini",icon:"el-icon-delete",circle:""},on:{click:e.remove}}):s("el-button",{attrs:{disabled:e.isReadOnly,type:"primary",size:"small"},on:{click:e.add}},[e._v(" "+e._s(e.$t("api_test.request.assertions.add"))+" ")])],1)],1)],1)},Te=[],Ee={name:"MsApiAssertionJsonPath",props:{jsonPath:{type:u["u"],default:function(){return new u["u"]}},edit:{type:Boolean,default:!1},index:Number,list:Array,callback:Function,isReadOnly:{type:Boolean,default:!1}},data:function(){return{}},watch:{"jsonPath.expect":function(){this.setJSONPathDescription()},"jsonPath.expression":function(){this.setJSONPathDescription()}},methods:{add:function(){this.list.push(this.getJSONPath()),this.callback()},remove:function(){this.list.splice(this.index,1)},getJSONPath:function(){var e=new u["u"](this.jsonPath);return e.description=e.expression+" expect: "+(e.expect?e.expect:""),e},setJSONPathDescription:function(){this.jsonPath.description=this.jsonPath.expression+" expect: "+(this.jsonPath.expect?this.jsonPath.expect:"")}}},De=Ee,Ae=(s("a751"),Object(v["a"])(De,Re,Te,!1,null,"e5ba379a",null)),Me=Ae.exports,Ne=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e.edit?s("el-row",{attrs:{type:"flex",justify:"space-between",align:"middle"}},[s("div",{staticClass:"assertion-item label"},[e._v(" "+e._s(e.assertion.desc)+" ")]),s("div",{staticClass:"assertion-item btn circle"},[s("el-button",{attrs:{disabled:e.isReadOnly,type:"success",size:"mini",icon:"el-icon-edit",circle:""},on:{click:e.detail}}),s("el-button",{attrs:{disabled:e.isReadOnly,type:"danger",size:"mini",icon:"el-icon-delete",circle:""},on:{click:e.remove}})],1)]):s("el-row",{attrs:{type:"flex",align:"middle"}},[s("div",{staticClass:"assertion-item label"},[e._v(" "+e._s(e.assertion.desc)+" ")]),s("div",{staticClass:"assertion-item btn"},[s("el-button",{attrs:{disabled:e.isReadOnly,type:"success",size:"small"},on:{click:e.detail}},[e._v(" "+e._s(e.$t("commons.edit"))+" ")]),s("el-button",{attrs:{disabled:e.isReadOnly,type:"primary",size:"small"},on:{click:e.add}},[e._v(" "+e._s(e.$t("api_test.request.assertions.add"))+" ")])],1)]),s("el-dialog",{attrs:{title:e.$t("api_test.request.assertions.script"),visible:e.visible,width:"900px"},on:{"update:visible":function(t){e.visible=t}},scopedSlots:e._u([e.edit?null:{key:"footer",fn:function(){return[s("ms-dialog-footer",{on:{cancel:e.close,confirm:e.confirm}})]},proxy:!0}],null,!0)},[s("el-row",{staticClass:"quick-script-block",attrs:{type:"flex",justify:"space-between",align:"middle"}},[s("div",{staticClass:"assertion-item input"},[s("el-input",{attrs:{size:"small",placeholder:e.$t("api_test.request.assertions.variable_name")},on:{change:e.quickScript},model:{value:e.assertion.variable,callback:function(t){e.$set(e.assertion,"variable",t)},expression:"assertion.variable"}})],1),s("div",{staticClass:"assertion-item select"},[s("el-select",{attrs:{placeholder:e.$t("commons.please_select"),size:"small"},on:{change:e.changeOperator},model:{value:e.assertion.operator,callback:function(t){e.$set(e.assertion,"operator",t)},expression:"assertion.operator"}},e._l(e.operators,(function(t){return s("el-option",{key:t.value,attrs:{label:e.$t(t.label),value:t.value}})})),1)],1),s("div",{staticClass:"assertion-item input"},[e.hasEmptyOperator?e._e():s("el-input",{attrs:{size:"small",placeholder:e.$t("api_test.value")},on:{change:e.quickScript},model:{value:e.assertion.value,callback:function(t){e.$set(e.assertion,"value",t)},expression:"assertion.value"}})],1)]),s("el-input",{staticClass:"quick-script-block",attrs:{size:"small",placeholder:e.$t("api_test.request.assertions.script_name")},model:{value:e.assertion.desc,callback:function(t){e.$set(e.assertion,"desc",t)},expression:"assertion.desc"}}),s("ms-jsr233-processor",{ref:"jsr233",attrs:{"is-read-only":e.isReadOnly,"jsr223-processor":e.assertion,templates:e.templates,height:300}})],1)],1)},Be=[],Ie=s("15bc"),Ve=s("6b47"),Je={name:"MsApiAssertionJsr223",components:{MsJsr233Processor:Ve["a"],MsDialogFooter:Ie["a"]},props:{assertion:{type:u["c"],default:function(){return new u["c"]}},edit:{type:Boolean,default:!1},index:Number,list:Array,callback:Function,isReadOnly:{type:Boolean,default:!1}},data:function(){return{visible:!1,operators:{EQ:{label:"commons.adv_search.operators.equals",value:"=="},NE:{label:"commons.adv_search.operators.not_equals",value:"!="},CONTAINS:{label:"commons.adv_search.operators.like",value:"contains"},NOT_CONTAINS:{label:"commons.adv_search.operators.not_like",value:"not contains"},GT:{label:"commons.adv_search.operators.gt",value:">"},LT:{label:"commons.adv_search.operators.lt",value:"<"},IS_EMPTY:{label:"commons.adv_search.operators.is_empty",value:"is empty"},IS_NOT_EMPTY:{label:"commons.adv_search.operators.is_not_empty",value:"is not empty"}},templates:[{title:this.$t("api_test.request.assertions.set_failure_status"),value:"AssertionResult.setFailure(true)"},{title:this.$t("api_test.request.assertions.set_failure_msg"),value:'AssertionResult.setFailureMessage("msg")'}]}},methods:{add:function(){this.list.push(new u["c"](this.assertion)),this.callback()},remove:function(){this.list.splice(this.index,1)},changeOperator:function(e){e.indexOf("empty")>0&&this.assertion.value&&(this.assertion.value=""),this.quickScript()},quickScript:function(){if(this.assertion.variable&&this.assertion.operator){var e=this.assertion.variable,t=this.assertion.operator,s=this.assertion.value||"",a="${"+e+"} "+t+" '"+s+"'",i='value = vars.get("'+e+'");\n';switch(this.assertion.operator){case"==":i+='result = "'+s+'".equals(value);\n';break;case"!=":i+='result = !"'+s+'".equals(value);\n';break;case"contains":i+='result = value.contains("'+s+'");\n';break;case"not contains":i+='result = !value.contains("'+s+'");\n';break;case">":a="${"+e+"} "+t+" "+s,i+="number = Integer.parseInt(value);\nresult = number > "+s+";\n";break;case"<":a="${"+e+"} "+t+" "+s,i+="number = Integer.parseInt(value);\nresult = number < "+s+";\n";break;case"is empty":a="${"+e+"} "+t,i+="result = value == void || value.length() == 0;\n";break;case"is not empty":a="${"+e+"} "+t,i+="result = value != void && value.length() > 0;\n";break}var n="assertion ["+a+"]: false;";i+='if (!result){\n\tmsg = "'+n+'";\n\tAssertionResult.setFailureMessage(msg);\n\tAssertionResult.setFailure(true);\n}',this.assertion.desc=a,this.assertion.script=i,this.$refs.jsr233.reload()}},detail:function(){this.visible=!0},close:function(){this.visible=!1},confirm:function(){this.edit||this.add(),this.assertion.desc||(this.assertion.desc=this.assertion.script),this.close()}},computed:{hasEmptyOperator:function(){return!!this.assertion.operator&&this.assertion.operator.indexOf("empty")>0}}},Fe=Je,ze=(s("2dda"),Object(v["a"])(Fe,Ne,Be,!1,null,"b0291b1e",null)),Le=ze.exports,He=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("el-row",{attrs:{gutter:10,type:"flex",justify:"space-between",align:"middle"}},[s("el-col",[s("el-input",{attrs:{disabled:e.isReadOnly,maxlength:"200",size:"small","show-word-limit":"",placeholder:e.$t("api_test.request.extract.xpath_expression")},model:{value:e.xPath2.expression,callback:function(t){e.$set(e.xPath2,"expression",t)},expression:"xPath2.expression"}})],1),s("el-col",{staticClass:"assertion-btn"},[e.edit?s("el-button",{attrs:{disabled:e.isReadOnly,type:"danger",size:"mini",icon:"el-icon-delete",circle:""},on:{click:e.remove}}):s("el-button",{attrs:{disabled:e.isReadOnly,type:"primary",size:"small"},on:{click:e.add}},[e._v(" "+e._s(e.$t("api_test.request.assertions.add"))+" ")])],1)],1)],1)},Ue=[],Ge={name:"MsApiAssertionXPath2",props:{xPath2:{type:u["G"],default:function(){return new u["G"]}},edit:{type:Boolean,default:!1},index:Number,list:Array,callback:Function,isReadOnly:{type:Boolean,default:!1}},methods:{add:function(){this.list.push(this.getXPath2()),this.callback()},remove:function(){this.list.splice(this.index,1)},getXPath2:function(){return new u["G"](this.xPath2)}}},Xe=Ge,Qe=(s("20e6"),Object(v["a"])(Xe,He,Ue,!1,null,"53274378",null)),Ye=Qe.exports,Ke={name:"MsApiAssertionsEdit",components:{MsApiAssertionXPath2:Ye,MsApiAssertionJsr223:Le,MsApiAssertionJsonPath:Me,MsApiAssertionDuration:we,MsApiAssertionRegex:Pe},props:{assertions:u["d"],isReadOnly:{type:Boolean,default:!1}},computed:{isShow:function(){var e=this.assertions.duration;return void 0!==e.value}}},We=Ke,Ze=(s("09ed"),Object(v["a"])(We,ke,je,!1,null,"555b63fd",null)),et=Ze.exports,tt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:e.result.loading,expression:"result.loading"}],attrs:{title:e.$t("api_test.request.assertions.json_path_add"),visible:e.dialogFormVisible,width:"60%","close-on-click-modal":!1,top:"50px"},on:{"update:visible":function(t){e.dialogFormVisible=t},close:e.close},scopedSlots:e._u([{key:"footer",fn:function(){return[s("ms-dialog-footer",{on:{cancel:function(t){e.dialogFormVisible=!1},confirm:e.commit}})]},proxy:!0}])},[s("el-container",{staticClass:"main-content"},[s("el-container",[s("el-main",{staticClass:"case-content"},[s("el-table",{ref:"table",attrs:{data:e.jsonPathList,"row-key":"id",height:"50vh"},on:{"select-all":e.handleSelectAll,select:e.handleSelectionChange}},[s("el-table-column",{attrs:{type:"selection"}}),s("el-table-column",{staticStyle:{width:"100%"},attrs:{prop:"name",label:e.$t("api_test.request.extract.json_path_expression")},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.json_path)+" ")]}}])}),s("el-table-column",{staticStyle:{width:"100%"},attrs:{prop:"name",label:e.$t("api_test.request.assertions.value")},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.json_value)+" ")]}}])})],1)],1)],1)],1)],1)},st=[],at=(s("d25d"),{name:"MsApiJsonpathSuggestList",components:{MsDialogFooter:Ie["a"]},data:function(){return{result:{},dialogFormVisible:!1,isCheckAll:!1,selectItems:new Set,jsonPathList:[]}},props:{request:u["s"]},methods:{close:function(){this.selectItems.clear()},open:function(){this.getJsonPaths()},getJsonPaths:function(){var e=this;if(this.request.debugRequestResult){var t={jsonPath:this.request.debugRequestResult.responseResult.body};this.result=this.$post("/api/getJsonPaths",t).then((function(t){e.jsonPathList=t.data.data,e.dialogFormVisible=!0})).catch((function(){e.$warning(e.$t("api_test.request.assertions.json_path_err")),e.dialogFormVisible=!1}))}},handleSelectAll:function(e){e.length>0?this.selectItems=new Set(this.jsonPathList):this.selectItems=new Set},handleSelectionChange:function(e,t){this.selectItems.has(t)?this.selectItems.delete(t):this.selectItems.add(t)},commit:function(){this.$emit("addJsonpathSuggest",this.selectItems),this.dialogFormVisible=!1}}}),it=at,nt=Object(v["a"])(it,tt,st,!1,null,"02a0a040",null),rt=nt.exports,ot={name:"MsApiAssertions",components:{MsApiAssertionXPath2:Ye,MsApiAssertionJsr223:Le,MsApiJsonpathSuggestList:rt,MsApiAssertionJsonPath:Me,MsApiAssertionsEdit:et,MsApiAssertionDuration:we,MsApiAssertionRegex:Pe,MsApiAssertionText:be},props:{assertions:u["d"],request:u["s"],scenario:u["B"],isReadOnly:{type:Boolean,default:!1}},data:function(){return{options:u["b"],time:"",type:""}},methods:{after:function(){this.type=""},suggestJsonOpen:function(){this.request.debugRequestResult?this.$refs.jsonpathSuggestList.open():this.$message(this.$t("api_test.request.assertions.debug_first"))},addJsonpathSuggest:function(e){var t=this;e.forEach((function(e){var s=new u["u"];s.expression=e.json_path,s.expect=e.regular_expression,s.setJSONPathDescription(),t.assertions.jsonPath.push(s)}))},clearJson:function(){this.assertions.jsonPath=[]}}},lt=ot,ct=(s("ce41"),Object(v["a"])(lt,ce,ue,!1,null,"2cd4512c",null)),ut=ct.exports,dt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"extract-description"},[e._v(" "+e._s(e.$t("api_test.request.extract.description"))+" ")]),s("div",{staticClass:"extract-add"},[s("el-row",{attrs:{gutter:10}},[s("el-col",{attrs:{span:2}},[s("el-select",{staticClass:"extract-item",attrs:{disabled:e.isReadOnly,placeholder:e.$t("api_test.request.extract.select_type"),size:"small"},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}},[s("el-option",{attrs:{label:e.$t("api_test.request.extract.regex"),value:e.options.REGEX}}),s("el-option",{attrs:{label:"JSONPath",value:e.options.JSON_PATH}}),s("el-option",{attrs:{label:"XPath",value:e.options.XPATH}})],1)],1),s("el-col",{attrs:{span:22}},[e.type?s("ms-api-extract-common",{attrs:{"is-read-only":e.isReadOnly,"extract-type":e.type,list:e.list,callback:e.after}}):e._e()],1),e.type?e._e():s("el-button",{attrs:{disabled:!0,type:"primary",size:"small"}},[e._v("Add")])],1)],1),s("ms-api-extract-edit",{attrs:{"is-read-only":e.isReadOnly,extract:e.extract}})],1)},pt=[],mt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e.extract.regex.length>0?s("div",{staticClass:"extract-item-editing regex"},[s("div",[e._v(" "+e._s(e.$t("api_test.request.extract.regex"))+" ")]),e._l(e.extract.regex,(function(t,a){return s("div",{key:a,staticClass:"regex-item"},[s("ms-api-extract-common",{attrs:{"is-read-only":e.isReadOnly,"extract-type":e.type.REGEX,list:e.extract.regex,common:t,edit:!0,index:a}})],1)}))],2):e._e(),e.extract.json.length>0?s("div",{staticClass:"extract-item-editing json"},[s("div",[e._v(" JSONPath ")]),e._l(e.extract.json,(function(t,a){return s("div",{key:a,staticClass:"regex-item"},[s("ms-api-extract-common",{attrs:{"is-read-only":e.isReadOnly,"extract-type":e.type.JSON_PATH,list:e.extract.json,common:t,edit:!0,index:a}})],1)}))],2):e._e(),e.extract.xpath.length>0?s("div",{staticClass:"extract-item-editing xpath"},[s("div",[e._v(" XPath ")]),e._l(e.extract.xpath,(function(t,a){return s("div",{key:a,staticClass:"regex-item"},[s("ms-api-extract-common",{attrs:{"is-read-only":e.isReadOnly,"extract-type":e.type.XPATH,list:e.extract.xpath,common:t,edit:!0,index:a}})],1)}))],2):e._e()])},ht=[],ft=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("el-row",{attrs:{gutter:10,type:"flex",justify:"space-between",align:"middle"}},["Regex"===e.extractType?s("el-col",{attrs:{span:5}},[s("el-select",{staticClass:"extract-item",attrs:{disabled:e.isReadOnly,placeholder:e.$t("api_test.request.assertions.select_subject"),size:"small"},model:{value:e.common.useHeaders,callback:function(t){e.$set(e.common,"useHeaders",t)},expression:"common.useHeaders"}},e._l(e.useHeadersOption,(function(e){return s("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1):e._e(),s("el-col",[s("ms-api-variable-input",{attrs:{"is-read-only":e.isReadOnly,size:"small",maxlength:"60","show-copy-tip-with-multiple":e.common.multipleMatching,"show-word-limit":"",placeholder:e.$t("api_test.variable_name")},on:{change:e.change},model:{value:e.common.variable,callback:function(t){e.$set(e.common,"variable",t)},expression:"common.variable"}})],1),s("el-col",[s("el-input",{attrs:{disabled:e.isReadOnly,size:"small","show-word-limit":"",placeholder:e.expression},model:{value:e.common.expression,callback:function(t){e.$set(e.common,"expression",t)},expression:"common.expression"}})],1),s("el-col",{staticClass:"multiple_checkbox"},[s("el-checkbox",{attrs:{disabled:e.isReadOnly},model:{value:e.common.multipleMatching,callback:function(t){e.$set(e.common,"multipleMatching",t)},expression:"common.multipleMatching"}},[e._v(" "+e._s(e.$t("api_test.request.extract.multiple_matching"))+" ")])],1),s("el-col",{staticClass:"extract-btn"},[e.edit?s("el-button",{attrs:{disabled:e.isReadOnly,type:"danger",size:"mini",icon:"el-icon-delete",circle:""},on:{click:e.remove}}):s("el-button",{attrs:{disabled:e.isReadOnly,type:"primary",size:"small"},on:{click:e.add}},[e._v("Add")])],1)],1)],1)},bt=[],vt=s("4af2"),gt={name:"MsApiExtractCommon",components:{MsApiVariableInput:vt["a"]},props:{extractType:{type:String,validator:function(e){return-1!==[u["o"].XPATH,u["o"].JSON_PATH,u["o"].REGEX].indexOf(e)}},common:{type:u["q"],default:function(){return new u["q"]}},edit:{type:Boolean,default:!1},index:Number,list:Array,callback:Function,isReadOnly:{type:Boolean,default:!1}},data:function(){return{visible:!1,useHeadersOption:[{label:"Body",value:"false"},{label:"Request Headers",value:"request_headers"},{label:"Body (unescaped)",value:"unescaped"},{label:"Body as a Document",value:"as_document"},{label:"Response Headers",value:"true"},{label:"URL",value:"URL"},{label:"Response Code",value:"code"},{label:"Response Message",value:"message"}]}},methods:{add:function(){this.common.type=this.extractType,this.list.push(new u["q"](this.extractType,this.common)),this.clear(),this.callback()},change:function(e){this.common.value="${"+e+"}"},remove:function(){this.list.splice(this.index,1)},clear:function(){this.common.variable=null,this.common.expression=null,this.common.value=null},copy:function(){var e=this,t=document.createElement("input");document.body.appendChild(t),t.value=this.common.value,t.select(),t.setSelectionRange&&t.setSelectionRange(0,t.value.length),document.execCommand("copy"),document.body.removeChild(t),this.visible=!0,setTimeout((function(){e.visible=!1}),1e3)}},computed:{expression:function(){switch(this.extractType){case u["o"].REGEX:return this.$t("api_test.request.extract.regex_expression");case u["o"].JSON_PATH:return this.$t("api_test.request.extract.json_path_expression");case u["o"].XPATH:return this.$t("api_test.request.extract.xpath_expression");default:return""}}}},_t=gt,yt=(s("cab6"),Object(v["a"])(_t,ft,bt,!1,null,"7343b2cf",null)),xt=yt.exports,Pt={name:"MsApiExtractEdit",components:{MsApiExtractCommon:xt},props:{extract:u["p"],isReadOnly:{type:Boolean,default:!1}},data:function(){return{type:u["o"]}}},Ot=Pt,Ct=(s("c69e"),Object(v["a"])(Ot,mt,ht,!1,null,"14dd879f",null)),$t=Ct.exports,qt={name:"MsApiExtract",components:{MsApiExtractCommon:xt,MsApiExtractEdit:$t},props:{extract:u["p"],isReadOnly:{type:Boolean,default:!1}},data:function(){return{options:u["o"],type:""}},methods:{after:function(){this.type=""}},computed:{list:function(){switch(this.type){case u["o"].REGEX:return this.extract.regex;case u["o"].JSON_PATH:return this.extract.json;case u["o"].XPATH:return this.extract.xpath;default:return[]}}}},St=qt,wt=(s("8ff5"),Object(v["a"])(St,dt,pt,!1,null,"302ecefa",null)),kt=wt.exports,jt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-select",{staticClass:"request-method-select",attrs:{disabled:e.isReadOnly},on:{change:e.change},model:{value:e.request.method,callback:function(t){e.$set(e.request,"method",t)},expression:"request.method"}},[s("el-option",{attrs:{label:"GET",value:"GET"}}),s("el-option",{attrs:{label:"POST",value:"POST"}}),s("el-option",{attrs:{label:"PUT",value:"PUT"}}),s("el-option",{attrs:{label:"PATCH",value:"PATCH"}}),s("el-option",{attrs:{label:"DELETE",value:"DELETE"}}),s("el-option",{attrs:{label:"OPTIONS",value:"OPTIONS"}}),s("el-option",{attrs:{label:"HEAD",value:"HEAD"}}),s("el-option",{attrs:{label:"CONNECT",value:"CONNECT"}})],1)},Rt=[],Tt={name:"ApiRequestMethodSelect",props:["isReadOnly","request"],methods:{change:function(e){this.$emit("change",e)}}},Et=Tt,Dt=(s("224b"),Object(v["a"])(Et,jt,Rt,!1,null,"ceb05dfc",null)),At=Dt.exports,Mt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("el-form",{ref:"request",attrs:{model:e.request,"label-width":"100px"}},[s("el-form-item",{attrs:{label:e.$t("api_test.request.connect_timeout"),prop:"connectTimeout"}},[s("el-input-number",{attrs:{size:"small",disabled:e.isReadOnly,placeholder:e.$t("commons.millisecond"),max:1e10,min:0},model:{value:e.request.connectTimeout,callback:function(t){e.$set(e.request,"connectTimeout",t)},expression:"request.connectTimeout"}})],1),s("el-form-item",{attrs:{label:e.$t("api_test.request.response_timeout"),prop:"responseTimeout"}},[s("el-input-number",{attrs:{size:"small",disabled:e.isReadOnly,placeholder:e.$t("commons.millisecond"),max:1e10,min:0},model:{value:e.request.responseTimeout,callback:function(t){e.$set(e.request,"responseTimeout",t)},expression:"request.responseTimeout"}})],1)],1)],1)},Nt=[],Bt={name:"MsApiAdvancedConfig",props:{request:Object,isReadOnly:{type:Boolean,default:!1}}},It=Bt,Vt=Object(v["a"])(It,Mt,Nt,!1,null,"23e1a557",null),Jt=Vt.exports,Ft=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("el-row",[s("el-col",{attrs:{span:20}},[e.isCodeEditAlive?s("ms-code-edit",{ref:"codeEdit",attrs:{mode:e.codeEditModeMap[e.jsr223Processor.language],"read-only":e.isReadOnly,data:e.jsr223Processor.script,theme:"eclipse",modes:["java","python"],height:e.height},on:{"update:data":function(t){return e.$set(e.jsr223Processor,"script",t)}}}):e._e()],1),s("el-col",{staticClass:"script-index",attrs:{span:4}},[s("ms-dropdown",{attrs:{"default-command":e.jsr223Processor.language,commands:e.languages},on:{command:e.languageChange}}),s("div",{staticClass:"template-title"},[e._v(e._s(e.$t("api_test.request.processor.code_template")))]),e._l(e.codeTemplates,(function(t,a){return s("div",{key:a,staticClass:"code-template"},[s("el-link",{attrs:{disabled:t.disabled},on:{click:function(s){return e.addTemplate(t)}}},[e._v(e._s(t.title))])],1)})),s("div",{staticClass:"document-url"},[s("el-link",{attrs:{href:"https://jmeter.apache.org/usermanual/component_reference.html#BeanShell_PostProcessor",type:"primary"}},[e._v(e._s(e.$t("commons.reference_documentation"))+" ")]),s("ms-instructions-icon",{attrs:{content:e.$t("api_test.request.processor.bean_shell_processor_tip")}})],1)],2)],1)],1)},zt=[],Lt=s("045d"),Ht=s("60e1"),Ut={name:"MsJsr233Processor",components:{MsDropdown:L["a"],MsInstructionsIcon:Ht["a"],MsCodeEdit:z["a"]},props:{type:{type:String},isReadOnly:{type:Boolean,default:!1},jsr223Processor:{type:Object},isPreProcessor:{type:Boolean,default:!1},templates:{type:Array,default:function(){return[]}},height:{type:[String,Number],default:230}},data:function(){return{codeTemplates:[{title:this.$t("api_test.request.processor.code_template_get_variable"),value:'vars.get("variable_name")'},{title:this.$t("api_test.request.processor.code_template_set_variable"),value:'vars.put("variable_name", "variable_value")'},{title:this.$t("api_test.request.processor.code_template_get_response_header"),value:"prev.getResponseHeaders()",disabled:this.isPreProcessor},{title:this.$t("api_test.request.processor.code_template_get_response_code"),value:"prev.getResponseCode()",disabled:this.isPreProcessor},{title:this.$t("api_test.request.processor.code_template_get_response_result"),value:"prev.getResponseDataAsString()",disabled:this.isPreProcessor}].concat(Object(Lt["a"])(this.templates)),isCodeEditAlive:!0,languages:["beanshell","python","groovy","javascript"],codeEditModeMap:{beanshell:"java",python:"python",groovy:"java",javascript:"javascript"}}},watch:{jsr223Processor:function(){this.reload()}},methods:{addTemplate:function(e){this.jsr223Processor.script||(this.jsr223Processor.script=""),this.jsr223Processor.script+=e.value,"beanshell"===this.jsr223Processor.language&&(this.jsr223Processor.script+=";"),this.reload()},reload:function(){var e=this;this.isCodeEditAlive=!1,this.$nextTick((function(){return e.isCodeEditAlive=!0}))},languageChange:function(e){this.jsr223Processor.language=e}}},Gt=Ut,Xt=(s("a6e0"),Object(v["a"])(Gt,Ft,zt,!1,null,"8ce3ea0e",null)),Qt=Xt.exports,Yt={name:"MsApiHttpRequestForm",components:{MsJsr233Processor:Qt,MsApiAdvancedConfig:Jt,MsApiVariable:ie,ApiRequestMethodSelect:At,MsApiExtract:kt,MsApiAssertions:ut,MsApiBody:le,MsApiKeyValue:V["a"]},props:{request:u["s"],jsonPathList:Array,scenario:u["B"],isReadOnly:{type:Boolean,default:!1}},data:function(){var e=this,t=function(t,s,a){try{new URL(e.addProtocol(e.request.url))}catch(i){a(e.$t("api_test.request.url_invalid"))}};return{activeName:"parameters",rules:{name:[{max:300,message:this.$t("commons.input_limit",[1,300]),trigger:"blur"}],url:[{max:500,required:!0,message:this.$t("commons.input_limit",[1,500]),trigger:"blur"},{validator:t,trigger:"blur"}],path:[{max:500,message:this.$t("commons.input_limit",[0,500]),trigger:"blur"}]},headerSuggestions:G["w"]}},methods:{urlChange:function(){if(this.request.url){var e=this.getURL(this.addProtocol(this.request.url));e&&(this.request.url=decodeURIComponent(e.origin+e.pathname))}},pathChange:function(){if(this.request.path){var e=this.getURL(this.displayUrl),t=e.origin+e.pathname,s=this.scenario.environment.config.httpConfig.protocol+"://"+this.scenario.environment.config.httpConfig.socket;this.request.path=decodeURIComponent(t.substring(s.length,t.length))}},getURL:function(e){var t=this;try{var s=new URL(e);return s.searchParams.forEach((function(e,s){s&&e&&t.request.parameters.splice(0,0,new u["w"]({name:s,value:e}))})),s}catch(a){this.$error(this.$t("api_test.request.url_invalid"),2e3)}},methodChange:function(e){"GET"===e&&"body"===this.activeName&&(this.activeName="parameters")},useEnvironmentChange:function(e){e&&!this.scenario.environment&&(this.$error(this.$t("api_test.request.please_add_environment_to_scenario"),2e3),this.request.useEnvironment=!1),this.$refs["request"].clearValidate()},addProtocol:function(e){return!e||e.toLowerCase().startsWith("https")||e.toLowerCase().startsWith("http")?e:"https://"+e},runDebug:function(){this.$emit("runDebug")}},computed:{displayUrl:function(){var e=null;if(this.scenario.environment&&this.scenario.environment.config.httpConfig&&this.scenario.environment.config.httpConfig.conditions&&this.scenario.environment.config.httpConfig.conditions.length>0)for(var t in this.scenario.environment.config.httpConfig.conditions)if(this.scenario.environment.config.httpConfig.conditions[t]){var s=this.scenario.environment.config.httpConfig.conditions[t];"NONE"===s.type&&(e=s.protocol+"://"+s.socket+(this.request.path?this.request.path:""))}return null===e&&(e=this.scenario.environment&&this.scenario.environment.config.httpConfig.socket?this.scenario.environment.config.httpConfig.protocol+"://"+this.scenario.environment.config.httpConfig.socket+(this.request.path?this.request.path:""):""),e}}},Kt=Yt,Wt=(s("431d"),Object(v["a"])(Kt,B,I,!1,null,"3266121c",null)),Zt=Wt.exports,es=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-form",{ref:"request",staticClass:"tcp",attrs:{model:e.request,rules:e.rules,"label-width":"auto",disabled:e.isReadOnly}},[s("el-form-item",{attrs:{label:e.$t("api_test.request.name"),prop:"name"}},[s("el-input",{attrs:{maxlength:"300","show-word-limit":""},model:{value:e.request.name,callback:function(t){e.$set(e.request,"name",t)},expression:"request.name"}})],1),s("el-form-item",{attrs:{label:"TCPClient",prop:"classname"}},[s("el-select",{staticStyle:{width:"100%"},model:{value:e.request.classname,callback:function(t){e.$set(e.request,"classname",t)},expression:"request.classname"}},e._l(e.classes,(function(e){return s("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1),s("el-row",{attrs:{gutter:10}},[s("el-col",{attrs:{span:16}},[s("el-form-item",{attrs:{label:e.$t("api_test.request.tcp.server"),prop:"server"}},[s("el-input",{attrs:{maxlength:"300","show-word-limit":""},model:{value:e.request.server,callback:function(t){e.$set(e.request,"server",t)},expression:"request.server"}})],1)],1),s("el-col",{attrs:{span:8}},[s("el-form-item",{attrs:{label:e.$t("api_test.request.tcp.port"),prop:"port","label-width":"60px"}},[s("el-input-number",{attrs:{"controls-position":"right",min:0,max:65535},model:{value:e.request.port,callback:function(t){e.$set(e.request,"port",t)},expression:"request.port"}})],1)],1)],1),s("el-row",{attrs:{gutter:10}},[s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:e.$t("api_test.request.tcp.connect"),prop:"ctimeout"}},[s("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:e.request.ctimeout,callback:function(t){e.$set(e.request,"ctimeout",t)},expression:"request.ctimeout"}})],1)],1),s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:e.$t("api_test.request.tcp.response"),prop:"timeout"}},[s("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:e.request.timeout,callback:function(t){e.$set(e.request,"timeout",t)},expression:"request.timeout"}})],1)],1),s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:e.$t("api_test.request.tcp.so_linger"),prop:"soLinger"}},[s("el-input",{model:{value:e.request.soLinger,callback:function(t){e.$set(e.request,"soLinger",t)},expression:"request.soLinger"}})],1)],1),s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:e.$t("api_test.request.tcp.eol_byte"),prop:"eolByte"}},[s("el-input",{model:{value:e.request.eolByte,callback:function(t){e.$set(e.request,"eolByte",t)},expression:"request.eolByte"}})],1)],1)],1),s("el-row",{attrs:{gutter:10}},[s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:e.$t("api_test.request.refer_to_environment")}},[s("el-switch",{on:{change:e.useEnvironmentChange},model:{value:e.request.useEnvironment,callback:function(t){e.$set(e.request,"useEnvironment",t)},expression:"request.useEnvironment"}})],1)],1),s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:e.$t("api_test.request.tcp.re_use_connection")}},[s("el-checkbox",{model:{value:e.request.reUseConnection,callback:function(t){e.$set(e.request,"reUseConnection",t)},expression:"request.reUseConnection"}})],1)],1),s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:e.$t("api_test.request.tcp.close_connection")}},[s("el-checkbox",{model:{value:e.request.closeConnection,callback:function(t){e.$set(e.request,"closeConnection",t)},expression:"request.closeConnection"}})],1)],1),s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:e.$t("api_test.request.tcp.no_delay")}},[s("el-checkbox",{model:{value:e.request.nodelay,callback:function(t){e.$set(e.request,"nodelay",t)},expression:"request.nodelay"}})],1)],1)],1),s("el-form-item",{attrs:{label:e.$t("api_test.request.tcp.request"),prop:"request"}},[s("div",{staticClass:"send-request"},[s("ms-code-edit",{attrs:{mode:"text","read-only":e.isReadOnly,data:e.request.request,modes:["text","json","xml","html"],theme:"eclipse"},on:{"update:data":function(t){return e.$set(e.request,"request",t)}}})],1)]),s("el-row",{attrs:{gutter:10}},[s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{label:e.$t("api_test.request.tcp.username"),prop:"username"}},[s("el-input",{attrs:{maxlength:"100","show-word-limit":""},model:{value:e.request.username,callback:function(t){e.$set(e.request,"username",t)},expression:"request.username"}})],1)],1),s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{label:e.$t("api_test.request.tcp.password"),prop:"password"}},[s("el-input",{attrs:{maxlength:"30","show-word-limit":"","show-password":"",autocomplete:"new-password"},model:{value:e.request.password,callback:function(t){e.$set(e.request,"password",t)},expression:"request.password"}})],1)],1)],1),s("el-button",{staticClass:"debug-button",attrs:{disabled:!e.request.enable||!e.scenario.enable||e.isReadOnly,size:"small",type:"primary"},on:{click:e.runDebug}},[e._v(e._s(e.$t("api_test.request.debug"))+" ")]),s("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[s("el-tab-pane",{attrs:{label:e.$t("api_test.request.assertions.label"),name:"assertions"}},[s("ms-api-assertions",{attrs:{"is-read-only":e.isReadOnly,assertions:e.request.assertions}})],1),s("el-tab-pane",{attrs:{label:e.$t("api_test.request.extract.label"),name:"extract"}},[s("ms-api-extract",{attrs:{"is-read-only":e.isReadOnly,extract:e.request.extract}})],1),s("el-tab-pane",{attrs:{label:e.$t("api_test.request.processor.pre_exec_script"),name:"beanShellPreProcessor"}},[s("ms-jsr233-processor",{attrs:{"is-read-only":e.isReadOnly,"jsr223-processor":e.request.jsr223PreProcessor}})],1),s("el-tab-pane",{attrs:{label:e.$t("api_test.request.processor.post_exec_script"),name:"beanShellPostProcessor"}},[s("ms-jsr233-processor",{attrs:{"is-read-only":e.isReadOnly,"jsr223-processor":e.request.jsr223PostProcessor}})],1)],1)],1)},ts=[],ss={name:"MsApiTcpRequestForm",components:{MsJsr233Processor:Qt,MsCodeEdit:z["a"],MsApiExtract:kt,MsApiAssertions:ut},props:{request:u["E"],scenario:u["B"],isReadOnly:{type:Boolean,default:!1}},data:function(){return{activeName:"assertions",classes:u["D"].CLASSES,rules:{}}},methods:{useEnvironmentChange:function(e){e&&!this.request.environment&&(this.$error(this.$t("api_test.request.please_add_environment_to_scenario"),2e3),this.request.useEnvironment=!1),this.$refs["request"].clearValidate()},runDebug:function(){this.$emit("runDebug")}}},as=ss,is=(s("0061"),Object(v["a"])(as,es,ts,!1,null,"0d971138",null)),ns=is.exports,rs=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-form",{ref:"request",attrs:{model:e.request,rules:e.rules,"label-width":"100px",disabled:e.isReadOnly}},[s("el-form-item",{attrs:{label:e.$t("api_test.request.name"),prop:"name"}},[s("el-input",{attrs:{maxlength:"300","show-word-limit":""},model:{value:e.request.name,callback:function(t){e.$set(e.request,"name",t)},expression:"request.name"}})],1),s("el-form-item",{attrs:{label:e.$t("api_test.request.dubbo.protocol"),prop:"protocol"}},[s("el-select",{model:{value:e.request.protocol,callback:function(t){e.$set(e.request,"protocol",t)},expression:"request.protocol"}},[s("el-option",{attrs:{label:"dubbo://",value:e.protocols.DUBBO}})],1)],1),s("el-button",{staticClass:"debug-button",attrs:{disabled:!e.request.enable||!e.scenario.enable||e.isReadOnly,size:"small",type:"primary"},on:{click:e.runDebug}},[e._v(e._s(e.$t("api_test.request.debug")))]),s("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[s("el-tab-pane",{attrs:{label:"Interface",name:"interface"}},[s("ms-dubbo-interface",{attrs:{request:e.request,"is-read-only":e.isReadOnly}})],1),s("el-tab-pane",{attrs:{label:"Config Center",name:"config"}},[s("ms-dubbo-config-center",{attrs:{config:e.request.configCenter,"is-read-only":e.isReadOnly,description:e.$t("api_test.request.dubbo.form_description")}})],1),s("el-tab-pane",{attrs:{label:"Registry Center",name:"registry"}},[s("ms-dubbo-registry-center",{attrs:{registry:e.request.registryCenter,"is-read-only":e.isReadOnly,description:e.$t("api_test.request.dubbo.form_description")}})],1),s("el-tab-pane",{attrs:{label:"Consumer & Service",name:"consumer"}},[s("ms-dubbo-consumer-service",{attrs:{consumer:e.request.consumerAndService,"is-read-only":e.isReadOnly,description:e.$t("api_test.request.dubbo.form_description")}})],1)],1),s("el-tabs",{model:{value:e.activeName2,callback:function(t){e.activeName2=t},expression:"activeName2"}},[s("el-tab-pane",{attrs:{label:"Args",name:"args"}},[s("ms-api-key-value",{attrs:{"is-read-only":e.isReadOnly,items:e.request.args,"key-placeholder":"Param Type","value-placeholder":"Param Value"}})],1),s("el-tab-pane",{attrs:{label:"Attachment Args",name:"attachment"}},[s("ms-api-key-value",{attrs:{"is-read-only":e.isReadOnly,items:e.request.attachmentArgs}})],1),s("el-tab-pane",{attrs:{label:e.$t("api_test.request.assertions.label"),name:"assertions"}},[s("ms-api-assertions",{attrs:{"is-read-only":e.isReadOnly,assertions:e.request.assertions}})],1),s("el-tab-pane",{attrs:{label:e.$t("api_test.request.extract.label"),name:"extract"}},[s("ms-api-extract",{attrs:{"is-read-only":e.isReadOnly,extract:e.request.extract}})],1),s("el-tab-pane",{attrs:{label:e.$t("api_test.request.processor.pre_exec_script"),name:"beanShellPreProcessor"}},[s("ms-jsr233-processor",{attrs:{"is-read-only":e.isReadOnly,"jsr223-processor":e.request.jsr223PreProcessor}})],1),s("el-tab-pane",{attrs:{label:e.$t("api_test.request.processor.post_exec_script"),name:"beanShellPostProcessor"}},[s("ms-jsr233-processor",{attrs:{"is-read-only":e.isReadOnly,"jsr223-processor":e.request.jsr223PostProcessor}})],1)],1)],1)},os=[],ls=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"request",attrs:{model:e.request,rules:e.rules,"label-width":"100px",size:"small",disabled:e.isReadOnly}},[s("el-button",{staticClass:"get-provider",attrs:{type:"primary",size:"small"},on:{click:e.getProviderList}},[e._v("Get Provider List")]),s("el-row",[s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{label:"Interfaces",prop:"interfaces"}},[s("el-select",{staticClass:"select-100",attrs:{disabled:e.isDisable},on:{change:e.changeInterface},model:{value:e.serviceInterface,callback:function(t){e.serviceInterface=t},expression:"serviceInterface"}},e._l(e.interfaces,(function(e){return s("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{label:"Methods",prop:"methods"}},[s("el-select",{staticClass:"select-100",attrs:{disabled:e.isDisable},on:{change:e.changeMethod},model:{value:e.method,callback:function(t){e.method=t},expression:"method"}},e._l(e.methods,(function(e){return s("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1)],1)],1),s("el-row",[s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{label:"Interface",prop:"interface"}},[s("el-input",{attrs:{maxlength:"300","show-word-limit":"",placeholder:e.$t("commons.input_content")},model:{value:e.request.interface,callback:function(t){e.$set(e.request,"interface",t)},expression:"request.interface"}})],1)],1),s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{label:"Method",prop:"method"}},[s("el-input",{attrs:{maxlength:"300","show-word-limit":"",placeholder:e.$t("commons.input_content")},model:{value:e.request.method,callback:function(t){e.$set(e.request,"method",t)},expression:"request.method"}})],1)],1)],1)],1)},cs=[],us={name:"MsDubboInterface",props:{request:u["m"],registryCenter:u["y"],isReadOnly:{type:Boolean,default:!1}},data:function(){return{loading:!1,providerMap:{},serviceInterface:"",method:"",interfaces:[],methods:[],rules:{interface:[{max:300,message:this.$t("commons.input_limit",[1,300]),trigger:"blur"}],method:[{max:300,message:this.$t("commons.input_limit",[1,300]),trigger:"blur"}]}}},methods:{changeInterface:function(e){this.methods=this.providerMap[e].methods,this.request.interface=e,this.request.consumerAndService.version=this.providerMap[e].version},changeMethod:function(e){this.request.method=e},getProviderList:function(){var e=this,t={protocol:this.request.registryCenter.protocol||this.request.dubboConfig.registryCenter.protocol,address:this.request.registryCenter.address||this.request.dubboConfig.registryCenter.address,group:this.request.registryCenter.group||this.request.dubboConfig.registryCenter.group};this.loading=!0,this.$post("/api/dubbo/providers",t).then((function(t){e.methodMap={},e.interfaces=[],t.data.data.forEach((function(t){e.providerMap[t.serviceInterface]=t,e.interfaces.push({label:t.service,value:t.serviceInterface})})),e.methodMap[e.request.interface]&&(e.methods=e.methodMap[e.request.interface].methods),e.loading=!1,e.$success(e.$t("api_test.request.dubbo.get_provider_success"))})).catch((function(){e.loading=!1,e.$warning(e.$t("api_test.request.dubbo.check_registry_center"))}))}},computed:{isDisable:function(){return 0===this.interfaces.length}}},ds=us,ps=(s("dd53"),Object(v["a"])(ds,ls,cs,!1,null,"72a47ac1",null)),ms=ps.exports,hs=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-form",{ref:"registry",attrs:{model:e.registry,rules:e.rules,"label-width":"100px",size:"small",disabled:e.isReadOnly}},[e.description?s("div",{staticClass:"dubbo-form-description"},[e._v(" "+e._s(e.description)+" ")]):e._e(),s("el-form-item",{staticClass:"dubbo-form-item",attrs:{label:"Protocol",prop:"protocol"}},[s("el-select",{staticClass:"select-100",attrs:{clearable:""},model:{value:e.registry.protocol,callback:function(t){e.$set(e.registry,"protocol",t)},expression:"registry.protocol"}},e._l(e.protocols,(function(e){return s("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1),s("el-form-item",{staticClass:"dubbo-form-item",attrs:{label:"Group",prop:"group"}},[s("el-input",{attrs:{maxlength:"300","show-word-limit":"",placeholder:e.$t("commons.input_content")},model:{value:e.registry.group,callback:function(t){e.$set(e.registry,"group",t)},expression:"registry.group"}})],1),s("el-form-item",{staticClass:"dubbo-form-item",attrs:{label:"UserName",prop:"username"}},[s("el-input",{attrs:{maxlength:"100","show-word-limit":"",placeholder:e.$t("commons.input_content")},model:{value:e.registry.username,callback:function(t){e.$set(e.registry,"username",t)},expression:"registry.username"}})],1),s("el-form-item",{staticClass:"dubbo-form-item",attrs:{label:"Password",prop:"password"}},[s("el-input",{attrs:{maxlength:"30","show-word-limit":"","show-password":"",autocomplete:"new-password",placeholder:e.$t("commons.input_content")},model:{value:e.registry.password,callback:function(t){e.$set(e.registry,"password",t)},expression:"registry.password"}})],1),s("el-form-item",{staticClass:"dubbo-form-item-long",attrs:{label:"Address",prop:"address"}},[s("el-input",{attrs:{maxlength:"300","show-word-limit":"",placeholder:e.$t("commons.input_content")},model:{value:e.registry.address,callback:function(t){e.$set(e.registry,"address",t)},expression:"registry.address"}})],1),s("el-form-item",{staticClass:"dubbo-form-item",attrs:{label:"Timeout",prop:"timeout"}},[s("el-input",{attrs:{type:"number",placeholder:e.$t("commons.input_content")},model:{value:e.registry.timeout,callback:function(t){e.$set(e.registry,"timeout",t)},expression:"registry.timeout"}})],1)],1)},fs=[],bs=(s("e70b"),{name:"MsDubboRegistryCenter",props:{description:String,registry:u["y"],isReadOnly:{type:Boolean,default:!1}},data:function(){return{protocols:u["y"].PROTOCOLS,methods:[],rules:{group:[{max:300,message:this.$t("commons.input_limit",[0,300]),trigger:"blur"}],username:[{max:300,message:this.$t("commons.input_limit",[0,300]),trigger:"blur"}],password:[{max:30,message:this.$t("commons.input_limit",[0,30]),trigger:"blur"}],address:[{max:300,message:this.$t("commons.input_limit",[0,300]),trigger:"blur"}]}}}}),vs=bs,gs=Object(v["a"])(vs,hs,fs,!1,null,null,null),_s=gs.exports,ys=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-form",{ref:"config",attrs:{model:e.config,rules:e.rules,"label-width":"100px",size:"small",disabled:e.isReadOnly}},[e.description?s("div",{staticClass:"dubbo-form-description"},[e._v(" "+e._s(e.description)+" ")]):e._e(),s("el-form-item",{staticClass:"dubbo-form-item",attrs:{label:"Protocol",prop:"protocol"}},[s("el-select",{staticClass:"select-100",attrs:{clearable:""},model:{value:e.config.protocol,callback:function(t){e.$set(e.config,"protocol",t)},expression:"config.protocol"}},e._l(e.protocols,(function(e){return s("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1),s("el-form-item",{staticClass:"dubbo-form-item",attrs:{label:"Group",prop:"group"}},[s("el-input",{attrs:{maxlength:"300","show-word-limit":"",placeholder:e.$t("commons.input_content")},model:{value:e.config.group,callback:function(t){e.$set(e.config,"group",t)},expression:"config.group"}})],1),s("el-form-item",{staticClass:"dubbo-form-item",attrs:{label:"Namespace",prop:"namespace"}},[s("el-input",{attrs:{maxlength:"300","show-word-limit":"",placeholder:e.$t("commons.input_content")},model:{value:e.config.namespace,callback:function(t){e.$set(e.config,"namespace",t)},expression:"config.namespace"}})],1),s("el-form-item",{staticClass:"dubbo-form-item",attrs:{label:"Timeout",prop:"timeout"}},[s("el-input",{attrs:{type:"number",placeholder:e.$t("commons.input_content")},model:{value:e.config.timeout,callback:function(t){e.$set(e.config,"timeout",t)},expression:"config.timeout"}})],1),s("el-form-item",{staticClass:"dubbo-form-item-long",attrs:{label:"Address",prop:"address"}},[s("el-input",{attrs:{maxlength:"300","show-word-limit":"",placeholder:e.$t("commons.input_content")},model:{value:e.config.address,callback:function(t){e.$set(e.config,"address",t)},expression:"config.address"}})],1),s("el-form-item",{staticClass:"dubbo-form-item",attrs:{label:"UserName",prop:"username"}},[s("el-input",{attrs:{maxlength:"100","show-word-limit":"",placeholder:e.$t("commons.input_content")},model:{value:e.config.username,callback:function(t){e.$set(e.config,"username",t)},expression:"config.username"}})],1),s("el-form-item",{staticClass:"dubbo-form-item",attrs:{label:"Password",prop:"password"}},[s("el-input",{attrs:{maxlength:"30","show-word-limit":"","show-password":"",autocomplete:"new-password",placeholder:e.$t("commons.input_content")},model:{value:e.config.password,callback:function(t){e.$set(e.config,"password",t)},expression:"config.password"}})],1)],1)},xs=[],Ps={name:"MsDubboConfigCenter",props:{description:String,config:u["i"],isReadOnly:{type:Boolean,default:!1}},data:function(){return{protocols:u["i"].PROTOCOLS,methods:[],rules:{group:[{max:300,message:this.$t("commons.input_limit",[0,300]),trigger:"blur"}],namespace:[{max:300,message:this.$t("commons.input_limit",[0,300]),trigger:"blur"}],username:[{max:100,message:this.$t("commons.input_limit",[0,300]),trigger:"blur"}],password:[{max:30,message:this.$t("commons.input_limit",[0,300]),trigger:"blur"}],address:[{max:300,message:this.$t("commons.input_limit",[0,300]),trigger:"blur"}]}}}},Os=Ps,Cs=Object(v["a"])(Os,ys,xs,!1,null,null,null),$s=Cs.exports,qs=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-form",{ref:"consumer",attrs:{model:e.consumer,rules:e.rules,"label-width":"100px",size:"small",disabled:e.isReadOnly}},[e.description?s("div",{staticClass:"dubbo-form-description"},[e._v(" "+e._s(e.description)+" ")]):e._e(),s("el-form-item",{staticClass:"dubbo-form-item",attrs:{label:"Timeout",prop:"timeout"}},[s("el-input",{attrs:{type:"number",placeholder:e.$t("commons.input_content")},model:{value:e.consumer.timeout,callback:function(t){e.$set(e.consumer,"timeout",t)},expression:"consumer.timeout"}})],1),s("el-form-item",{staticClass:"dubbo-form-item",attrs:{label:"Version",prop:"version"}},[s("el-input",{attrs:{maxlength:"30","show-word-limit":"",placeholder:e.$t("commons.input_content")},model:{value:e.consumer.version,callback:function(t){e.$set(e.consumer,"version",t)},expression:"consumer.version"}})],1),s("el-form-item",{staticClass:"dubbo-form-item",attrs:{label:"Retries",prop:"retries"}},[s("el-input",{attrs:{type:"number",placeholder:e.$t("commons.input_content")},model:{value:e.consumer.retries,callback:function(t){e.$set(e.consumer,"retries",t)},expression:"consumer.retries"}})],1),s("el-form-item",{staticClass:"dubbo-form-item",attrs:{label:"Cluster",prop:"cluster"}},[s("el-input",{attrs:{maxlength:"300","show-word-limit":"",placeholder:e.$t("commons.input_content")},model:{value:e.consumer.cluster,callback:function(t){e.$set(e.consumer,"cluster",t)},expression:"consumer.cluster"}})],1),s("el-form-item",{staticClass:"dubbo-form-item",attrs:{label:"Group",prop:"group"}},[s("el-input",{attrs:{maxlength:"300","show-word-limit":"",placeholder:e.$t("commons.input_content")},model:{value:e.consumer.group,callback:function(t){e.$set(e.consumer,"group",t)},expression:"consumer.group"}})],1),s("el-form-item",{staticClass:"dubbo-form-item",attrs:{label:"Connections",prop:"connections"}},[s("el-input",{attrs:{type:"number",placeholder:e.$t("commons.input_content")},model:{value:e.consumer.connections,callback:function(t){e.$set(e.consumer,"connections",t)},expression:"consumer.connections"}})],1),s("el-form-item",{staticClass:"dubbo-form-item",attrs:{label:"Async",prop:"async"}},[s("el-select",{staticClass:"select-100",attrs:{clearable:""},model:{value:e.consumer.async,callback:function(t){e.$set(e.consumer,"async",t)},expression:"consumer.async"}},e._l(e.asyncOptions,(function(e){return s("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1),s("el-form-item",{staticClass:"dubbo-form-item",attrs:{label:"LoadBalance",prop:"loadBalance"}},[s("el-select",{staticClass:"select-100",attrs:{clearable:""},model:{value:e.consumer.loadBalance,callback:function(t){e.$set(e.consumer,"loadBalance",t)},expression:"consumer.loadBalance"}},e._l(e.loadBalances,(function(e){return s("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1)],1)},Ss=[],ws={name:"MsDubboConsumerService",props:{description:String,consumer:u["k"],isReadOnly:{type:Boolean,default:!1}},data:function(){return{asyncOptions:u["k"].ASYNC_OPTIONS,loadBalances:u["k"].LOAD_BALANCE_OPTIONS,methods:[],rules:{version:[{max:30,message:this.$t("commons.input_limit",[0,30]),trigger:"blur"}],cluster:[{max:300,message:this.$t("commons.input_limit",[0,300]),trigger:"blur"}],group:[{max:300,message:this.$t("commons.input_limit",[0,300]),trigger:"blur"}]}}}},ks=ws,js=Object(v["a"])(ks,qs,Ss,!1,null,null,null),Rs=js.exports,Ts={name:"MsApiDubboRequestForm",components:{MsJsr233Processor:Qt,MsDubboConsumerService:Rs,MsDubboConfigCenter:$s,MsDubboRegistryCenter:_s,MsDubboInterface:ms,ApiRequestMethodSelect:At,MsApiExtract:kt,MsApiAssertions:ut,MsApiBody:le,MsApiKeyValue:V["a"]},props:{request:u["m"],scenario:u["B"],isReadOnly:{type:Boolean,default:!1}},data:function(){return{activeName:"interface",activeName2:"args",protocols:u["m"].PROTOCOLS,rules:{name:[{max:300,message:this.$t("commons.input_limit",[1,300]),trigger:"blur"}]}}},methods:{useEnvironmentChange:function(e){e&&!this.request.environment&&(this.$error(this.$t("api_test.request.please_add_environment_to_scenario"),2e3),this.request.useEnvironment=!1),this.$refs["request"].clearValidate()},runDebug:function(){this.$emit("runDebug")}},computed:{}},Es=Ts,Ds=(s("adad"),Object(v["a"])(Es,rs,os,!1,null,"04a0efa2",null)),As=Ds.exports,Ms=s("1774"),Ns=s("8347"),Bs=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-form",{ref:"request",attrs:{model:e.request,rules:e.rules,"label-width":"100px",disabled:e.isReadOnly}},[s("el-form-item",{attrs:{label:e.$t("api_test.request.name"),prop:"name"}},[s("el-input",{attrs:{maxlength:"300","show-word-limit":""},model:{value:e.request.name,callback:function(t){e.$set(e.request,"name",t)},expression:"request.name"}})],1),s("div",{staticClass:"one-row"},[s("el-form-item",{attrs:{label:e.$t("api_test.request.sql.dataSource"),prop:"dataSource"}},[s("el-select",{model:{value:e.request.dataSource,callback:function(t){e.$set(e.request,"dataSource",t)},expression:"request.dataSource"}},e._l(e.databaseConfigsOptions,(function(e,t){return s("el-option",{key:t,attrs:{value:e.id,label:e.name}})})),1)],1),s("el-form-item",{attrs:{label:e.$t("api_test.request.sql.timeout"),prop:"queryTimeout"}},[s("el-input-number",{attrs:{disabled:e.isReadOnly,size:"mini",placeholder:e.$t("commons.millisecond"),max:1e10,min:0},model:{value:e.request.queryTimeout,callback:function(t){e.$set(e.request,"queryTimeout",t)},expression:"request.queryTimeout"}})],1),s("el-form-item",[s("el-switch",{attrs:{"active-text":e.$t("api_test.request.refer_to_environment")},on:{change:e.getDatabaseConfigsOptions},model:{value:e.request.useEnvironment,callback:function(t){e.$set(e.request,"useEnvironment",t)},expression:"request.useEnvironment"}})],1)],1),s("el-form-item",{attrs:{label:e.$t("api_test.request.sql.result_variable"),prop:"resultVariable"}},[s("el-input",{attrs:{maxlength:"300","show-word-limit":""},model:{value:e.request.resultVariable,callback:function(t){e.$set(e.request,"resultVariable",t)},expression:"request.resultVariable"}})],1),s("el-form-item",{attrs:{label:e.$t("api_test.request.sql.variable_names"),prop:"variableNames"}},[s("el-input",{attrs:{maxlength:"300","show-word-limit":""},model:{value:e.request.variableNames,callback:function(t){e.$set(e.request,"variableNames",t)},expression:"request.variableNames"}})],1),s("el-button",{staticClass:"debug-button",attrs:{disabled:!e.request.enable||!e.scenario.enable||e.isReadOnly,size:"small",type:"primary"},on:{click:e.runDebug}},[e._v(e._s(e.$t("api_test.request.debug")))]),s("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[s("el-tab-pane",{attrs:{label:e.$t("api_test.scenario.variables"),name:"variables"}},[s("ms-api-scenario-variables",{attrs:{"is-read-only":e.isReadOnly,items:e.request.variables,description:e.$t("api_test.scenario.kv_description")}})],1),s("el-tab-pane",{attrs:{label:e.$t("api_test.request.sql.sql_script"),name:"sql"}},[s("div",{staticClass:"sql-content"},[s("ms-code-edit",{ref:"codeEdit",attrs:{mode:"sql","read-only":e.isReadOnly,modes:["sql"],data:e.request.query,theme:"eclipse"},on:{"update:data":function(t){return e.$set(e.request,"query",t)}}})],1)]),s("el-tab-pane",{attrs:{label:e.$t("api_test.request.assertions.label"),name:"assertions"}},[s("ms-api-assertions",{attrs:{"is-read-only":e.isReadOnly,assertions:e.request.assertions}})],1),s("el-tab-pane",{attrs:{label:e.$t("api_test.request.extract.label"),name:"extract"}},[s("ms-api-extract",{attrs:{"is-read-only":e.isReadOnly,extract:e.request.extract}})],1),s("el-tab-pane",{attrs:{label:e.$t("api_test.request.processor.pre_exec_script"),name:"beanShellPreProcessor"}},[s("ms-jsr233-processor",{attrs:{"is-read-only":e.isReadOnly,"jsr223-processor":e.request.jsr223PreProcessor}})],1),s("el-tab-pane",{attrs:{label:e.$t("api_test.request.processor.post_exec_script"),name:"beanShellPostProcessor"}},[s("ms-jsr233-processor",{attrs:{"is-read-only":e.isReadOnly,"jsr223-processor":e.request.jsr223PostProcessor}})],1)],1)],1)},Is=[],Vs=s("76cd"),Js={name:"MsApiSqlRequestForm",components:{MsJsr233Processor:Qt,MsApiScenarioVariables:Vs["a"],MsCodeEdit:z["a"],MsDubboConsumerService:Rs,MsDubboConfigCenter:$s,MsDubboRegistryCenter:_s,MsDubboInterface:ms,ApiRequestMethodSelect:At,MsApiExtract:kt,MsApiAssertions:ut,MsApiKeyValue:V["a"]},props:{request:u["C"],scenario:u["B"],isReadOnly:{type:Boolean,default:!1}},data:function(){return{activeName:"variables",databaseConfigsOptions:[],rules:{name:[{required:!0,message:this.$t("commons.input_name"),trigger:"blur"},{max:300,message:this.$t("commons.input_limit",[1,300]),trigger:"blur"}],dataSource:[{required:!0,message:this.$t("commons.input_name"),trigger:"blur"}]}}},methods:{getDatabaseConfigsOptions:function(){var e=this;this.databaseConfigsOptions=[];var t=new Set,s=new Set;this.scenario.databaseConfigs.forEach((function(a){e.databaseConfigsOptions.push(a),t.add(a.name),s.add(a.id)})),this.request.useEnvironment&&this.scenario.environment&&this.scenario.environment.config.databaseConfigs.forEach((function(a){t.has(a.name)||(e.databaseConfigsOptions.push(a),s.add(a.id))})),s.has(this.request.dataSource)||(this.request.dataSource=void 0)},runDebug:function(){this.$emit("runDebug")}},created:function(){this.getDatabaseConfigsOptions()}},Fs=Js,zs=(s("9663"),Object(v["a"])(Fs,Bs,Is,!1,null,"523c3f60",null)),Ls=zs.exports,Hs={name:"MsApiRequestForm",components:{MsApiSqlRequestForm:Ls,MsRequestResultTail:Ns["a"],MsScenarioResults:Ms["a"],MsApiDubboRequestForm:As,MsApiHttpRequestForm:Zt,MsApiTcpRequestForm:ns},props:{scenario:u["B"],request:u["z"],isReadOnly:{type:Boolean,default:!1},debugReportId:String},data:function(){return{reportId:"",content:{scenarios:[]},debugReportLoading:!1,showDebugReport:!1,jsonPathList:[]}},computed:{component:function(e){var t,s=e.request.type;switch(s){case u["A"].TYPES.DUBBO:t="MsApiDubboRequestForm";break;case u["A"].TYPES.SQL:t="MsApiSqlRequestForm";break;case u["A"].TYPES.TCP:t="MsApiTcpRequestForm";break;default:t="MsApiHttpRequestForm"}return t},isCompleted:function(){return!!this.request.debugReport}},watch:{debugReportId:function(){this.getReport()}},mounted:function(){!this.request.jsr223PreProcessor.script&&this.request.beanShellPreProcessor&&(this.request.jsr223PreProcessor=new u["v"](this.request.beanShellPreProcessor)),!this.request.jsr223PostProcessor.script&&this.request.beanShellPostProcessor&&(this.request.jsr223PostProcessor=new u["v"](this.request.beanShellPostProcessor))},methods:{getReport:function(){var e=this;if(this.debugReportId){this.debugReportLoading=!0,this.showDebugReport=!0,this.request.debugReport={};var t="/api/report/get/"+this.debugReportId;this.$get(t,(function(t){var s=t.data||{},a={};if(t.data){try{a=JSON.parse(s.content)}catch(i){throw i}a?(e.debugReportLoading=!1,e.request.debugReport=a,a.scenarios&&a.scenarios.length>0?(e.request.debugScenario=a.scenarios[0],e.request.debugRequestResult=e.request.debugScenario.requestResults[0],e.deleteReport(e.debugReportId)):(e.request.debugScenario=new u["B"],e.request.debugRequestResult={responseResult:{},subRequestResults:[]})):setTimeout(e.getReport,2e3)}else e.debugReportLoading=!1}))}},deleteReport:function(e){this.$post("/api/report/delete",{id:e})},runDebug:function(){this.$emit("runDebug",this.request)}}},Us=Hs,Gs=(s("7cec"),Object(v["a"])(Us,M,N,!1,null,"0193f9da",null)),Xs=Gs.exports,Qs=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.result.loading,expression:"result.loading"}],ref:"scenario",attrs:{model:e.scenario,rules:e.rules,"label-width":"100px",disabled:e.isReadOnly}},[s("el-form-item",{attrs:{label:e.$t("api_test.scenario.name"),prop:"name"}},[s("el-input",{attrs:{disabled:e.isReadOnly,maxlength:"100","show-word-limit":""},model:{value:e.scenario.name,callback:function(t){e.$set(e.scenario,"name",t)},expression:"scenario.name"}})],1),s("el-form-item",{attrs:{label:e.$t("api_test.environment.environment")}},[s("el-select",{staticClass:"environment-select",attrs:{disabled:e.isReadOnly,clearable:""},on:{change:e.environmentChange},scopedSlots:e._u([{key:"empty",fn:function(){return[s("div",{staticClass:"empty-environment"},[s("el-button",{staticClass:"environment-button",attrs:{size:"mini",type:"primary"},on:{click:e.openEnvironmentConfig}},[e._v(" "+e._s(e.$t("api_test.environment.environment_config"))+" ")])],1)]},proxy:!0}]),model:{value:e.scenario.environmentId,callback:function(t){e.$set(e.scenario,"environmentId",t)},expression:"scenario.environmentId"}},[e._l(e.environments,(function(e,t){return s("el-option",{key:t,attrs:{label:e.name,value:e.id}})})),s("el-button",{staticClass:"environment-button",attrs:{size:"mini",type:"primary"},on:{click:e.openEnvironmentConfig}},[e._v(" "+e._s(e.$t("api_test.environment.environment_config"))+" ")])],2),s("el-form-item",{staticClass:"cookie-item"},[s("el-checkbox",{model:{value:e.scenario.enableCookieShare,callback:function(t){e.$set(e.scenario,"enableCookieShare",t)},expression:"scenario.enableCookieShare"}},[e._v(e._s("共享 Cookie"))])],1)],1),s("el-tabs",{attrs:{disabled:e.isReadOnly},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[s("el-tab-pane",{attrs:{label:e.$t("api_test.scenario.variables"),name:"parameters"}},[s("ms-api-scenario-variables",{attrs:{"is-read-only":e.isReadOnly,items:e.scenario.variables,description:e.$t("api_test.scenario.kv_description")}})],1),s("el-tab-pane",{attrs:{label:e.$t("api_test.scenario.headers"),name:"headers"}},[s("ms-api-key-value",{attrs:{"is-read-only":e.isReadOnly,isShowEnable:!0,items:e.scenario.headers,suggestions:e.headerSuggestions,environment:e.scenario.environment,description:e.$t("api_test.scenario.kv_description")}})],1),s("el-tab-pane",{attrs:{label:e.$t("api_test.environment.database_config"),name:"database"}},[s("ms-database-config",{attrs:{configs:e.scenario.databaseConfigs,"is-read-only":e.isReadOnly}})],1),s("el-tab-pane",{attrs:{label:e.$t("api_test.scenario.dubbo"),name:"dubbo"}},[s("div",{staticClass:"dubbo-config-title"},[e._v("Config Center")]),s("ms-dubbo-config-center",{attrs:{config:e.scenario.dubboConfig.configCenter,"is-read-only":e.isReadOnly}}),s("div",{staticClass:"dubbo-config-title"},[e._v("Registry Center")]),s("ms-dubbo-registry-center",{attrs:{registry:e.scenario.dubboConfig.registryCenter,"is-read-only":e.isReadOnly}}),s("div",{staticClass:"dubbo-config-title"},[e._v("Consumer & Service")]),s("ms-dubbo-consumer-service",{attrs:{consumer:e.scenario.dubboConfig.consumerAndService,"is-read-only":e.isReadOnly}})],1),s("el-tab-pane",{attrs:{label:e.$t("api_test.environment.tcp_config"),name:"tcp"}},[s("ms-tcp-config",{attrs:{config:e.scenario.tcpConfig,"is-read-only":e.isReadOnly}})],1),s("el-tab-pane",{attrs:{label:e.$t("api_test.request.assertions.label"),name:"assertions"}},[s("ms-api-assertions",{attrs:{scenario:e.scenario,"is-read-only":e.isReadOnly,assertions:e.scenario.assertions}})],1)],1),s("api-environment-config",{ref:"environmentConfig",on:{close:e.environmentConfigClose}})],1)},Ys=[],Ks=s("c134"),Ws=s("d969"),Zs=s("4f86"),ea=s("6a16"),ta={name:"MsApiScenarioForm",components:{MsTcpConfig:ea["a"],MsDatabaseConfig:Ws["a"],MsDubboConsumerService:Rs,MsDubboConfigCenter:$s,MsDubboRegistryCenter:_s,ApiEnvironmentConfig:Ks["a"],MsApiScenarioVariables:Vs["a"],MsApiKeyValue:V["a"],MsApiAssertions:ut},props:{scenario:u["B"],projectId:String,isReadOnly:{type:Boolean,default:!1}},created:function(){this.getEnvironments()},data:function(){return{result:{},activeName:"parameters",environments:[],rules:{name:[{max:100,message:this.$t("commons.input_limit",[1,100]),trigger:"blur"}],url:[{max:100,message:this.$t("commons.input_limit",[1,100]),trigger:"blur"}]},headerSuggestions:G["w"]}},watch:{projectId:function(){this.getEnvironments()}},methods:{getEnvironments:function(){var e=this;this.projectId?this.result=this.$get("/api/environment/list/"+this.projectId,(function(t){e.environments=t.data,e.environments.forEach((function(e){Object(Zs["e"])(e)}));var s=!1;for(var a in e.environments)if(e.environments[a].id===e.scenario.environmentId){e.scenario.environment=e.environments[a],s=!0;break}s||(e.scenario.environmentId="",e.scenario.environment=void 0)})):(this.scenario.environmentId="",this.scenario.environment=void 0)},environmentChange:function(e){for(var t in this.environments)if(this.environments[t].id===e){this.scenario.environment=this.environments[t];break}e||(this.scenario.environment=void 0,this.scenario.requests.forEach((function(e){e.environment=void 0})))},openEnvironmentConfig:function(){this.projectId?this.$refs.environmentConfig.open(this.projectId):this.$error(this.$t("api_test.select_project"))},environmentConfigClose:function(){this.getEnvironments()}}},sa=ta,aa=(s("496d"),Object(v["a"])(sa,Qs,Ys,!1,null,"ef48cdc0",null)),ia=aa.exports,na=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-dialog",{attrs:{title:e.$t("api_test.scenario.select_scenario"),visible:e.visible,width:"70%"},on:{"update:visible":function(t){e.visible=t}}},[s("el-table",{attrs:{stripe:"",data:e.tableData,size:"small"},on:{"expand-change":e.expand}},[s("el-table-column",{attrs:{type:"expand",width:"50"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[s("ms-api-scenario-select-sub-table",{attrs:{row:a},model:{value:a.selected,callback:function(t){e.$set(a,"selected",t)},expression:"row.selected"}})]}}])}),s("el-table-column",{attrs:{prop:"name",label:e.$t("api_test.scenario.test_name"),width:"400","show-overflow-tooltip":""}}),s("el-table-column",{attrs:{prop:"sr",label:e.$t("api_test.scenario.scenario_request"),width:"150","show-overflow-tooltip":""}}),s("el-table-column",{attrs:{prop:"userName",label:e.$t("api_test.creator"),width:"150","show-overflow-tooltip":""}}),s("el-table-column",{attrs:{prop:"enable",label:e.$t("api_test.scenario.enable_disable"),width:"150"}}),s("el-table-column",{scopedSlots:e._u([{key:"header",fn:function(){return[s("div",{staticClass:"search-header"},[s("ms-table-search-bar",{staticClass:"search-bar",attrs:{condition:e.condition,tip:e.$t("commons.search_by_name")},on:{"update:condition":function(t){e.condition=t},change:e.search}}),s("ms-table-adv-search-bar",{attrs:{condition:e.condition},on:{"update:condition":function(t){e.condition=t},search:e.search}})],1)]},proxy:!0},{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(a.reference)+" "),s("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){return e.reference(a)}}},[e._v(" "+e._s(e.$t("api_test.scenario.reference"))+" ")]),s("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){return e.clone(a)}}},[e._v(e._s(e.$t("api_test.scenario.clone")))])]}}])})],1),s("ms-table-pagination",{attrs:{change:e.search,"current-page":e.currentPage,"page-size":e.pageSize,total:e.total},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"update:pageSize":function(t){e.pageSize=t},"update:page-size":function(t){e.pageSize=t}}}),s("div",{staticClass:"dialog-footer"},[s("el-button",{on:{click:e.close}},[e._v(e._s(e.$t("commons.cancel")))])],1)],1)},ra=[],oa=(s("4c1e"),s("6df5"),s("10b9")),la=s("8852"),ca=s("59d9"),ua=s("3e63"),da=s("f661"),pa=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.result.loading,expression:"result.loading"}],ref:"table",staticClass:"adjust-table",attrs:{stripe:"",data:e.scenarios,size:"small","show-header":!1},on:{"select-all":e.select,select:e.select}},[s("el-table-column",{attrs:{type:"selection",width:"50"}}),s("el-table-column",{attrs:{prop:"name",width:"350","show-overflow-tooltip":""}}),s("el-table-column",{attrs:{width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.row;return[e._v(" 1 / "+e._s(s.requests.length)+" ")]}}])}),s("el-table-column",{attrs:{prop:"null",width:"150"}},[e._v(" "+e._s(e.row.userName)+" ")]),s("el-table-column",{attrs:{prop:"enable"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[!1!==a.enable?s("el-tag",{attrs:{type:"success",size:"small"}},[e._v(e._s(e.$t("api_test.scenario.enable")))]):s("el-tag",{attrs:{type:"info",size:"small"}},[e._v(e._s(e.$t("api_test.scenario.disable")))])]}}])}),s("el-table-column")],1)},ma=[],ha={name:"MsApiScenarioSelectSubTable",props:{row:Object},data:function(){return{result:{loading:!0},scenarios:[]}},methods:{getTest:function(){var e=this;this.result=this.$get("/api/get/"+this.row.id,(function(t){t.data&&(e.scenarios=JSON.parse(t.data.scenarioDefinition))}))},select:function(e){this.$emit("input",e)}},mounted:function(){this.getTest()}},fa=ha,ba=Object(v["a"])(fa,pa,ma,!1,null,"7fa2ee30",null),va=ba.exports,ga={name:"MsApiScenarioSelect",components:{MsApiScenarioSelectSubTable:va,MsTableAdvSearchBar:da["a"],MsTableSearchBar:ua["a"],MsTablePagination:ca["a"],MsTableHeader:oa["a"]},props:{excludeId:String,projectId:String},data:function(){return{visible:!1,condition:{components:la["h"]},tableData:[],currentPage:1,pageSize:10,total:0,selection:!1,environmentMap:new Map}},methods:{search:function(){var e=this;this.condition.excludeId=this.excludeId,this.condition.projectId=this.projectId;var t="/api/list/"+this.currentPage+"/"+this.pageSize;this.result=this.$post(t,this.condition,(function(t){var s=t.data;e.total=s.itemCount,e.tableData=s.listObject,e.tableData.forEach((function(e){e.selected=[]}))}))},reference:function(e){var t,s=[],a=Object(n["a"])(e.selected);try{for(a.s();!(t=a.n()).done;){var i=t.value;if(!i.id)return void this.$warning(this.$t("api_test.scenario.cant_reference"));var r=new u["B"](i);r.isReference()?r.id=i.id:r.id=e.id+"#"+i.id,s.push(r)}}catch(o){a.e(o)}finally{a.f()}this.initScenarioEnvironment(s),this.$emit("select",s)},getEnvironment:function(){var e=this;this.projectId&&(this.result=this.$get("/api/environment/list/"+this.projectId,(function(t){var s=t.data;e.environmentMap=new Map,s.forEach((function(t){Object(Zs["e"])(t),e.environmentMap.set(t.id,t)}))})))},initScenarioEnvironment:function(e){var t=this;e.forEach((function(e){if(e.environmentId){var s=t.environmentMap.get(e.environmentId);s?e.environment=s:(e.environmentId=void 0,e.environment=void 0)}else e.environmentId=void 0,e.environment=void 0}))},clone:function(e){var t=[];e.selected.forEach((function(e){e.id=void 0,t.push(new u["B"](e))})),this.initScenarioEnvironment(t),this.$emit("select",t)},open:function(){this.search(),this.getEnvironment(),this.visible=!0},close:function(){this.visible=!1},expand:function(e){e.selected=[]}}},_a=ga,ya=(s("0bd5"),Object(v["a"])(_a,na,ra,!1,null,"5f495eba",null)),xa=ya.exports,Pa=s("0c29"),Oa={name:"MsApiScenarioConfig",components:{MsHorizontalDragBar:Pa["a"],MsApiScenarioSelect:xa,MsApiRequestConfig:A,MsApiScenarioForm:ia,MsApiRequestForm:Xs,MsApiCollapse:o["a"],MsApiCollapseItem:r["a"],draggable:p.a},props:{test:Object,scenarios:Array,projectId:String,isReadOnly:{type:Boolean,default:!1},debugReportId:String},data:function(){return{visible:!1,types:{CREATE:"create",SELECT:"select"},type:"",activeName:0,selected:[u["B"],u["z"]],currentScenario:{}}},watch:{test:function(){this.initScenarioEnvironment()},projectId:function(){this.initScenarioEnvironment()}},methods:{notContainsScenario:function(e){var t,s=Object(n["a"])(this.scenarios);try{for(s.s();!(t=s.n()).done;){var a=t.value;if(e.id===a.id)return!1}}catch(i){s.e(i)}finally{s.f()}return!0},selectScenario:function(e){var t=this;e.filter(this.notContainsScenario).forEach((function(e){t.scenarios.push(e)}))},createScenario:function(){this.type===this.types.CREATE?this.scenarios.push(new u["B"]):this.$refs.selectDialog.open(),this.visible=!1,this.type=""},copyScenario:function(e){var t=this.scenarios[e];this.scenarios.push(t.clone())},deleteScenario:function(e){this.scenarios.splice(e,1),0===this.scenarios.length&&(this.type=this.types.CREATE,this.createScenario(),this.select(this.scenarios[0]))},disableScenario:function(e){var t=this.scenarios[e];t.isReference()?t.referenceEnable=!1:t.enable=!1},enableScenario:function(e){var t=this.scenarios[e];t.isReference()?t.referenceEnable=!0:t.enable=!0},handleChange:function(e){this.select(this.scenarios[e])},handleCommand:function(e){switch(e.type){case"copy":this.copyScenario(e.index);break;case"delete":this.deleteScenario(e.index);break;case"disable":this.disableScenario(e.index);break;case"enable":this.enableScenario(e.index);break}},select:function(e,t){this.selected=null,this.$nextTick((function(){e instanceof u["B"]?this.currentScenario=e:this.currentScenario=t,this.selected=e}))},reset:function(){this.$nextTick((function(){this.activeName=0,this.select(this.scenarios[0])}))},initScenarioEnvironment:function(){var e=this;this.projectId&&(this.result=this.$get("/api/environment/list/"+this.projectId,(function(t){var s=t.data,a=new Map;s.forEach((function(e){Object(Zs["e"])(e),a.set(e.id,e)})),e.scenarios.forEach((function(e){if(e.environmentId){var t=a.get(e.environmentId);t?e.environment=t:(e.environmentId=void 0,e.environment=void 0)}else e.environmentId=void 0,e.environment=void 0}))})))},runDebug:function(e){var t=new u["B"];Object.assign(t,this.currentScenario),t.requests=[],t.requests.push(e),this.$emit("runDebug",t)}},computed:{isScenario:function(){return this.selected instanceof u["B"]},isRequest:function(){return this.selected instanceof u["z"]},isReference:function(){return this.selected instanceof u["B"]?this.selected.isReference():this.selected instanceof u["z"]&&this.currentScenario.isReference()},disable:function(){return this.isReadOnly||this.isReference}},created:function(){this.select(this.scenarios[0])}},Ca=Oa,$a=(s("1fc5"),Object(v["a"])(Ca,a,i,!1,null,"32459880",null));t["a"]=$a.exports},"8bac":function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-dialog",{staticClass:"advanced-item-value",attrs:{title:e.$t("api_test.request.parameters_advance"),visible:e.itemValueVisible,"append-to-body":!0,width:"70%"},on:{"update:visible":function(t){e.itemValueVisible=t}}},[s("el-tabs",{staticStyle:{height:"50vh"},attrs:{"tab-position":"top"},on:{"tab-click":e.selectTab}},[s("el-tab-pane",{attrs:{label:e.$t("api_test.request.parameters_advance_mock")}},[s("el-row",{attrs:{type:"flex",gutter:20}},[s("el-col",{staticClass:"col-height",attrs:{span:6}},[s("div",[s("el-input",{attrs:{size:"small",placeholder:e.$t("api_test.request.parameters_mock_filter_tips")},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}}),s("el-tree",{ref:"tree",staticClass:"filter-tree",attrs:{data:e.mockFuncs,props:e.treeProps,"default-expand-all":"","filter-node-method":e.filterNode},on:{"node-click":e.selectVariable}})],1)]),e._l(e.mockVariableFuncs,(function(t,a){return s("el-col",{key:a,attrs:{span:6}},e._l(e.funcs,(function(i,n){return s("div",{key:a+"-"+n},[s("el-row",[s("el-col",{attrs:{span:12}},[s("el-radio",{attrs:{size:"mini",label:i.name},on:{change:function(s){return e.methodChange(t,i)}},model:{value:t.name,callback:function(s){e.$set(t,"name",s)},expression:"itemFunc.name"}})],1),t.name===i.name?s("el-col",{attrs:{span:12}},e._l(t.params,(function(t,i){return s("div",{key:a+"-"+n+"-"+i},[s("el-input",{attrs:{placeholder:t.name,size:"mini"},on:{change:e.showPreview},model:{value:t.value,callback:function(s){e.$set(t,"value",s)},expression:"p.value"}})],1)})),0):e._e()],1)],1)})),0)}))],2)],1),s("el-tab-pane",{attrs:{label:e.$t("api_test.variable")}},[s("el-row",[s("el-col",{staticClass:"col-height",attrs:{span:6}},[e.environment?s("div",[s("p",[e._v(e._s(e.$t("api_test.environment.environment")))]),s("el-tree",{attrs:{data:e.environmentParams,props:e.treeProps},on:{"node-click":e.selectVariable}})],1):e._e(),e.scenario?s("div",[s("p",[e._v(e._s(e.$t("api_test.scenario.scenario")))]),s("el-tree",{attrs:{data:e.scenarioParams,props:e.treeProps},on:{"node-click":e.selectVariable}})],1):e._e(),e.preRequestParams?s("div",[s("p",[e._v(e._s(e.$t("api_test.request.parameters_pre_request")))]),s("el-tree",{attrs:{data:e.preRequestParams,props:e.treeProps},on:{"node-click":e.selectVariable}})],1):e._e()]),s("el-col",{staticClass:"col-height",attrs:{span:18}},[s("div",[s("h1",[e._v(e._s(e.$t("api_test.request.jmeter_func")))]),s("el-table",{staticClass:"adjust-table table-content",attrs:{border:"",data:e.jmeterFuncs,height:"400"}},[s("el-table-column",{attrs:{prop:"type",label:"Type",width:"150"}}),s("el-table-column",{attrs:{prop:"name",label:"Functions",width:"250"}}),s("el-table-column",{attrs:{prop:"description",label:"Description"}})],1)],1)])],1)],1)],1),s("el-form",[s("el-form-item",[s("el-input",{attrs:{placeholder:e.valueText,size:"small"},model:{value:e.itemValue,callback:function(t){e.itemValue=t},expression:"itemValue"}})],1)],1),s("div",{staticStyle:{"padding-top":"10px"}},[s("el-row",{attrs:{type:"flex",align:"middle"}},[s("el-col",{attrs:{span:12}},[s("el-button",{attrs:{size:"small",type:"primary",plain:""},on:{click:function(t){return e.saveAdvanced()}}},[e._v(" "+e._s(e.$t("commons.save"))+" ")]),0===e.currentTab?s("el-button",{attrs:{size:"small",type:"info",plain:""},on:{click:function(t){return e.addFunc()}}},[e._v(" "+e._s(e.$t("api_test.request.parameters_advance_add_func"))+" ")]):e._e(),0===e.currentTab?s("el-button",{attrs:{size:"small",type:"success",plain:""},on:{click:function(t){return e.showPreview()}}},[e._v(" "+e._s(e.$t("api_test.request.parameters_preview"))+" ")]):e._e()],1),s("el-col",[s("div",[e._v(" "+e._s(e.itemValuePreview))])])],1)],1)],1)},i=[],n=s("045d"),r=(s("8ea3"),s("10dd"),s("5a05"),s("89a8"),s("acc0"),s("1a91"),s("b3d9"),s("cfe5"),s("1926"),s("87d5"),s("4dd5")),o=s("4abd"),l={name:"MsApiVariableAdvance",props:{parameters:Array,environment:Object,scenario:r["B"],currentItem:Object},data:function(){return{itemValueVisible:!1,filterText:"",environmentParams:[],scenarioParams:[],preRequests:[],preRequestParams:[],treeProps:{children:"children",label:"name"},currentTab:0,itemValue:null,itemValuePreview:null,funcs:[{name:"md5"},{name:"base64"},{name:"unbase64"},{name:"substr",params:[{name:"start"},{name:"length"}]},{name:"concat",params:[{name:"suffix"}]},{name:"lconcat",params:[{name:"prefix"}]},{name:"sha1"},{name:"sha224"},{name:"sha256"},{name:"sha384"},{name:"sha512"},{name:"lower"},{name:"upper"},{name:"length"},{name:"number"}],mockFuncs:o["p"].map((function(e){return{name:e.name,value:e.name}})),jmeterFuncs:o["n"],mockVariableFuncs:[],jmeterVariableFuncs:[]}},computed:{valueText:function(){return this.valuePlaceholder||this.$t("api_test.value")}},mounted:function(){this.prepareData()},watch:{filterText:function(e){this.$refs.tree.filter(e)}},methods:{open:function(){this.itemValueVisible=!0},prepareData:function(){var e=this;if(this.scenario){var t=this.scenario.variables;if(this.scenarioParams=[{name:this.scenario.name,children:t.filter((function(e){return e.name})).map((function(e){return{name:e.name,value:"${"+e.name+"}"}}))}],this.environment){var s=this.environment.config.commonConfig.variables;this.environmentParams=[{name:this.environment.name,children:s.filter((function(e){return e.name})).map((function(e){return{name:e.name,value:"${"+e.name+"}"}}))}]}var a=this.scenario.requests.indexOf(this.request);this.preRequests=this.scenario.requests.slice(0,a),this.preRequests.forEach((function(t){var s=t.extract.json.map((function(e){return{name:e.variable,value:e.value}})),a=t.extract.xpath.map((function(e){return{name:e.variable,value:e.value}})),i=t.extract.regex.map((function(e){return{name:e.variable,value:e.value}})),r=[].concat(Object(n["a"])(s),Object(n["a"])(a),Object(n["a"])(i));r.length>0&&e.preRequestParams.push({name:t.name,children:r})}))}},filterNode:function(e,t){return!e||-1!==t.name.indexOf(e)},selectVariable:function(e){this.itemValue=e.value},selectTab:function(e){this.currentTab=+e.index,this.itemValue=null,this.itemValuePreview=null},showPreview:function(){var e=this;if(this.itemValue){var t=this.itemValue.indexOf("|");t>-1&&(this.itemValue=this.itemValue.substring(0,t).trim()),this.mockVariableFuncs.forEach((function(t){t.name&&(e.itemValue+="|"+t.name,t.params&&(e.itemValue+=":"+t.params.map((function(e){return e.value})).join(",")))})),this.itemValuePreview=Object(r["H"])(this.itemValue)}},methodChange:function(e,t){var s=this.mockVariableFuncs.indexOf(e);this.mockVariableFuncs=this.mockVariableFuncs.slice(0,s),this.mockVariableFuncs.push(JSON.parse(JSON.stringify(t))),this.showPreview()},addFunc:function(){if(this.mockVariableFuncs.length>4)this.$info(this.$t("api_test.request.parameters_advance_add_func_limit"));else{if(this.mockVariableFuncs.length>0){var e=this.mockVariableFuncs[this.mockVariableFuncs.length-1];if(!e.name)return void this.$warning(this.$t("api_test.request.parameters_advance_add_func_error"));if(e.params)for(var t=0;t<e.params.length;t++)if(!e.params[t].value)return void this.$warning(this.$t("api_test.request.parameters_advance_add_param_error"))}this.mockVariableFuncs.push({name:"",params:[]})}},saveAdvanced:function(){this.currentItem.value=this.itemValue,this.itemValueVisible=!1,this.mockVariableFuncs=[]}}},c=l,u=(s("5c5d"),s("cba8")),d=Object(u["a"])(c,a,i,!1,null,"74cbd732",null);t["a"]=d.exports},"8ff5":function(e,t,s){"use strict";s("8264")},"91ed":function(e,t,s){"use strict";s.r(t),s.d(t,"default",(function(){return p})),s.d(t,"schema",(function(){return m}));var a=s("a018"),i=s("e902"),n=s("4135"),r=s("5eef"),o=s("d9ca"),l=s("0590"),c=(s("89a8"),s("1a91"),s("7f4a")),u=s("f7a9"),d={options:{attributes:{guiclass:"AssertionGui",testclass:"ResponseAssertion",testname:"ResponseAssertion",enabled:"true"}}},p=function(e){Object(o["a"])(s,e);var t=Object(l["a"])(s);function s(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;Object(a["a"])(this,s),e=t.call(this,i),e.customMessage=e.initStringProp("Assertion.custom_message"),e.scope=e.initStringProp("Assertion.scope"),e.variable=e.initStringProp("Scope.variable"),e.testField=e.initStringProp("Assertion.test_field","Assertion.response_data"),e.assumeSuccess=e.initBoolProp("Assertion.assume_success",!1),e.testType=e.initIntProp("Assertion.test_type",16),e.testStrings=[];var n=e.initCollectionProp("Asserion.test_strings");return n.forEach((function(t){e.testStrings.push({key:t.key,string:t.value,enable:!0})})),e}return Object(i["a"])(s,[{key:"updateProps",value:function(){var e=this.props["Asserion.test_strings"];e.clear(),this.testStrings.forEach((function(t,s){!1!==t.enable&&e.add(Object(u["g"])(s,t.string))}))}},{key:"toJson",value:function(){return this.updateProps(),Object(n["a"])(Object(r["a"])(s.prototype),"toJson",this).call(this)}}]),s}(c["a"]),m={ResponseAssertion:p}},9208:function(e,t,s){},9306:function(e,t,s){},9356:function(e,t,s){},9492:function(e,t,s){"use strict";s("bb86")},9663:function(e,t,s){"use strict";s("6f20")},"973c":function(e,t,s){"use strict";s.d(t,"a",(function(){return r}));var a=s("a018"),i=s("e902"),n=(s("10dd"),s("495f")),r=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(a["a"])(this,e),this.id=Object(n["E"])(),this.type=t.type||"element",this.name=t.name,t.attributes&&(this.attributes=t.attributes,t.attributes.testname&&(this.label=t.attributes.testname),t.attributes.testclass&&void 0===this.name&&(this.name=t.attributes.testclass),t.attributes.enabled&&(this.enabled="true"===t.attributes.enabled))}return Object(i["a"])(e,[{key:"toJson",value:function(){var e={};return this.type&&(e.type=this.type),this.name&&(e.name=this.name),this.attributes&&(e.attributes=this.attributes,void 0!==this.label&&(e.attributes.testname=this.label),void 0!==this.enabled&&(e.attributes.enabled=this.enabled+"")),e}}]),e}()},"9a64":function(e,t,s){"use strict";s("0a96")},a18a5:function(e,t,s){"use strict";s.d(t,"a",(function(){return c}));var a=s("e902"),i=s("a018"),n=s("d9ca"),r=s("0590"),o=s("1f4e"),l="Sampler",c=function(e){Object(n["a"])(s,e);var t=Object(r["a"])(s);function s(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(i["a"])(this,s),e=t.call(this,a),e.$type=l,e}return Object(a["a"])(s)}(o["a"])},a65b:function(e,t,s){"use strict";s.r(t),s.d(t,"default",(function(){return c})),s.d(t,"schema",(function(){return u}));var a=s("e902"),i=s("a018"),n=s("d9ca"),r=s("0590"),o=s("2b14"),l={options:{attributes:{guiclass:"TestBeanGUI",testclass:"JSR223PreProcessor",testname:"JSR223 PreProcessor",enabled:"true"}}},c=function(e){Object(n["a"])(s,e);var t=Object(r["a"])(s);function s(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l;return Object(i["a"])(this,s),e=t.call(this,a),e.type="JSR223PreProcessor",e.scriptLanguage="beanshell",e.parameters=[],e.filename=void 0,e.cacheKey=void 0,e.enable=!0,e.script=void 0,e}return Object(a["a"])(s)}(o["a"]),u={JSR223PreProcessor:c}},a6e0:function(e,t,s){"use strict";s("c5b0")},a751:function(e,t,s){"use strict";s("6550")},a7e6:function(e,t,s){"use strict";s("86fb")},a88e:function(e,t,s){"use strict";s.d(t,"g",(function(){return a})),s.d(t,"c",(function(){return i})),s.d(t,"f",(function(){return n})),s.d(t,"i",(function(){return r})),s.d(t,"m",(function(){return o})),s.d(t,"l",(function(){return l})),s.d(t,"e",(function(){return c})),s.d(t,"d",(function(){return u})),s.d(t,"k",(function(){return d})),s.d(t,"b",(function(){return p})),s.d(t,"a",(function(){return m})),s.d(t,"h",(function(){return h})),s.d(t,"j",(function(){return f}));s("bb13"),s("89a8"),s("b110"),s("fe35");var a=[{name:"P0",id:"P0"},{name:"P1",id:"P1"},{name:"P2",id:"P2"},{name:"P3",id:"P3"}],i=[{label:"api_test.definition.request.grade_order_asc",name:"priority",type:"desc",id:"grade_order_asc"},{label:"api_test.definition.request.grade_order_desc",name:"priority",type:"asc",id:"grade_order_desc"},{label:"api_test.definition.request.create_time_order_asc",name:"create_time",type:"asc",id:"create_time_order_asc"},{label:"api_test.definition.request.create_time_order_desc",name:"create_time",type:"desc",id:"create_time_order_desc"},{label:"api_test.definition.request.update_time_order_asc",name:"update_time",type:"asc",id:"update_time_order_asc"},{label:"api_test.definition.request.update_time_order_desc",name:"update_time",type:"desc",id:"update_time_order_desc"}],n=[{value:"HTTP",name:"HTTP"},{value:"TCP",name:"TCP"},{value:"SQL",name:"SQL"},{value:"DUBBO",name:"DUBBO"}],r=[{id:"GET",label:"GET"},{id:"POST",label:"POST"},{id:"PUT",label:"PUT"},{id:"PATCH",label:"PATCH"},{id:"DELETE",label:"DELETE"},{id:"OPTIONS",label:"OPTIONS"},{id:"HEAD",label:"HEAD"},{id:"CONNECT",label:"CONNECT"}],o=[{id:"TCP",label:"TCP"}],l=[{id:"SQL",label:"SQL"}],c=[{id:"dubbo://",label:"dubbo://"}],u=[{id:"P0",label:"P0"},{id:"P1",label:"P1"},{id:"P2",label:"P2"},{id:"P3",label:"P3"}],d=[{id:"Prepare",label:"未评审"},{id:"Pass",label:"通过"},{id:"UnPass",label:"未通过"}],p=[{id:"Prepare",label:"未开始"},{id:"Underway",label:"进行中"},{id:"Completed",label:"已完成"}],m=[["GET","#61AFFE"],["POST","#49CC90"],["PUT","#fca130"],["PATCH","#E2EE11"],["DELETE","#f93e3d"],["OPTIONS","#0EF5DA"],["HEAD","#8E58E7"],["CONNECT","#90AFAE"],["DUBBO","#C36EEF"],["dubbo://","#C36EEF"],["SQL","#0AEAD4"],["TCP","#0A52DF"]],h=[{name:"必填",id:!0},{name:"非必填",id:!1}],f=new Map([["success","执行结果：通过"],["error","执行结果：未通过"],["default","执行结果：未执行"]])},aa08:function(e,t,s){"use strict";var a=s("88d4"),i=s("ce5b"),n=s("e544"),r=s("8e74"),o=s("3ffc"),l=s("e38b"),c=i("".indexOf);a({target:"String",proto:!0,forced:!l("includes")},{includes:function(e){return!!~c(o(r(this)),o(n(e)),arguments.length>1?arguments[1]:void 0)}})},ab46:function(e,t,s){"use strict";s("10ddf")},ab9d:function(e,t,s){},ac76:function(e,t,s){},adad:function(e,t,s){"use strict";s("df40")},adf1:function(e,t,s){},b238:function(e,t,s){},b2ee:function(e,t,s){"use strict";s.r(t),s.d(t,"TYPE",(function(){return c})),s.d(t,"default",(function(){return u})),s.d(t,"schema",(function(){return d}));var a=s("e902"),i=s("a018"),n=s("d9ca"),r=s("0590"),o=s("1f4e"),l={options:{attributes:{guiclass:"ViewResultsFullVisualizer",testclass:"ResultCollector",testname:"View Results Tree",enabled:"true"}}},c="ResultCollector",u=function(e){Object(n["a"])(s,e);var t=Object(r["a"])(s);function s(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l;return Object(i["a"])(this,s),e=t.call(this,a),e.$type=c,e}return Object(a["a"])(s)}(o["a"]),d={ResultCollector:u}},b3b1:function(e,t,s){"use strict";s("c71a")},bb86:function(e,t,s){},bcfc:function(e,t,s){"use strict";s("1e97")},c5b0:function(e,t,s){},c69e:function(e,t,s){"use strict";s("680c")},c71a:function(e,t,s){},c7ab:function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",["Starting"===e.row.status?s("el-tag",{attrs:{size:"mini",type:"info"}},[e._v(" "+e._s(e.row.status)+" ")]):"Running"===e.row.status?s("el-tag",{attrs:{size:"mini",type:"primary",effect:"plain"}},[e._v(" "+e._s(e.row.status)+" ")]):"Success"===e.row.status?s("el-tag",{attrs:{size:"mini",type:"success"}},[e._v(" "+e._s(e.row.status)+" ")]):"Reporting"===e.row.status?s("el-tag",{attrs:{size:"mini",type:"warning"}},[e._v(" "+e._s(e.row.status)+" ")]):"Error"===e.row.status?s("el-tooltip",{attrs:{placement:"top",effect:"light"},scopedSlots:e._u([{key:"content",fn:function(){return[s("div",[e._v(e._s(e.row.description))])]},proxy:!0}])},[s("el-tag",{attrs:{size:"mini",type:"danger"}},[e._v(" "+e._s(e.row.status)+" ")])],1):s("el-tag",{attrs:{size:"mini",type:"info"}},[e._v(" "+e._s(e.row.status)+" ")])],1)},i=[],n={name:"MsApiReportStatus",props:{row:Object}},r=n,o=s("cba8"),l=Object(o["a"])(r,a,i,!1,null,"5d0d0b76",null);t["a"]=l.exports},c8d3:function(e,t,s){},cab6:function(e,t,s){"use strict";s("ee6f")},ce41:function(e,t,s){"use strict";s("debc")},d76f:function(e,t,s){},d772:function(e,t,s){"use strict";s.r(t),s.d(t,"default",(function(){return c})),s.d(t,"schema",(function(){return u}));var a=s("e902"),i=s("a018"),n=s("d9ca"),r=s("0590"),o=s("108a"),l={options:{attributes:{guiclass:"XPath2ExtractorGui",testclass:"XPath2Extractor",testname:"XPath Extractor",enabled:"true"}}},c=function(e){Object(n["a"])(s,e);var t=Object(r["a"])(s);function s(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l;return Object(i["a"])(this,s),e=t.call(this,a),e.scope=e.initStringProp("Sample.scope"),e.variable=e.initStringProp("Scope.variable"),e.refName=e.initStringProp("XPathExtractor2.refname"),e.xpathQuery=e.initStringProp("XPathExtractor2.xpathQuery"),e.matchNumber=e.initStringProp("XPathExtractor2.match_number",0),e.default=e.initStringProp("XPathExtractor2.default"),e.namespaces=e.initStringProp("XPathExtractor2.namespaces"),e.fragment=e.initBoolProp("XPathExtractor2.fragment"),e}return Object(a["a"])(s)}(o["a"]),u={XPath2Extractor:c}},da76:function(e,t,s){"use strict";s("6027")},dd53:function(e,t,s){"use strict";s("29a1")},debc:function(e,t,s){},df40:function(e,t,s){},e376:function(e,t,s){"use strict";s("f01d")},e42f:function(e,t,s){"use strict";s.r(t),s.d(t,"TYPE",(function(){return p})),s.d(t,"default",(function(){return m})),s.d(t,"schema",(function(){return h}));var a=s("a018"),i=s("e902"),n=s("4135"),r=s("5eef"),o=s("d9ca"),l=s("0590"),c=(s("89a8"),s("1a91"),s("10dd"),s("1f4e")),u=s("f7a9"),d={options:{attributes:{guiclass:"TestPlanGui",testclass:"TestPlan",testname:"TestPlan",enabled:"true"}}},p="TestPlan",m=function(e){Object(o["a"])(s,e);var t=Object(l["a"])(s);function s(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;Object(a["a"])(this,s),e=t.call(this,i),e.type=p,e.hashTree=[],e.userDefinedVariables=[];var n=e.initElementProp("TestPlan.user_defined_variables","Arguments"),r=n.initCollectionProp("Arguments.arguments");return r.forEach((function(t){var s=t.initStringProp("Argument.name").value,a=t.initStringProp("Argument.value").value;e.userDefinedVariables.push({name:s,value:a,enable:!0})})),e}return Object(i["a"])(s,[{key:"updateProps",value:function(){var e=this.props["TestPlan.user_defined_variables"].elements["Arguments.arguments"];e.clear(),this.userDefinedVariables.forEach((function(t){if(!1!==t.enable){var s=Object(u["c"])(t.name,"Argument");s.add(Object(u["g"])("Argument.name",t.name)),s.add(Object(u["g"])("Argument.value",t.value)),s.add(Object(u["g"])("Argument.metadata","=")),e.add(s)}}))}},{key:"toJson",value:function(){return this.updateProps(),Object(n["a"])(Object(r["a"])(s.prototype),"toJson",this).call(this)}}]),s}(c["a"]),h={TestPlan:m}},e502:function(e,t,s){},e70b:function(e,t,s){},e717:function(e,t,s){},e8d7:function(e,t,s){},eb32:function(e,t,s){"use strict";s.r(t),s.d(t,"default",(function(){return c})),s.d(t,"schema",(function(){return u}));var a=s("e902"),i=s("a018"),n=s("d9ca"),r=s("0590"),o=s("108a"),l={options:{attributes:{guiclass:"RegexExtractorGui",testclass:"RegexExtractor",testname:"RegexExtractor",enabled:"true"}}},c=function(e){Object(n["a"])(s,e);var t=Object(r["a"])(s);function s(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l;return Object(i["a"])(this,s),e=t.call(this,a),e.scope=e.initStringProp("Sample.scope"),e.variable=e.initStringProp("Scope.variable"),e.useHeaders=e.initStringProp("RegexExtractor.useHeaders","false"),e.refName=e.initStringProp("RegexExtractor.refname"),e.regex=e.initStringProp("RegexExtractor.regex"),e.template=e.initStringProp("RegexExtractor.template"),e.matchNumber=e.initStringProp("RegexExtractor.match_number"),e.default=e.initStringProp("RegexExtractor.default"),e.defaultEmpty=e.initBoolProp("RegexExtractor.default_empty_value"),e}return Object(a["a"])(s)}(o["a"]),u={RegexExtractor:c}},edbb:function(e,t,s){"use strict";s.r(t),s.d(t,"default",(function(){return c})),s.d(t,"schema",(function(){return u}));var a=s("e902"),i=s("a018"),n=s("d9ca"),r=s("0590"),o=s("1f4e"),l={options:{attributes:{guiclass:"AuthPanel",testclass:"AuthManager",testname:"AuthManager",enabled:"true"}}},c=function(e){Object(n["a"])(s,e);var t=Object(r["a"])(s);function s(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l;return Object(i["a"])(this,s),e=t.call(this,a),e.type="AuthManager",e.username=void 0,e.password=void 0,e.url=void 0,e.realm=void 0,e.verification="No Auth",e.mechanism="BASIC_DIGEST",e.encrypt=!1,e.environment=void 0,e}return Object(a["a"])(s)}(o["a"]),u={AuthManager:c}},ee6f:function(e,t,s){},efcc:function(e,t,s){"use strict";s.r(t),s.d(t,"default",(function(){return c})),s.d(t,"schema",(function(){return u}));var a=s("e902"),i=s("a018"),n=s("d9ca"),r=s("0590"),o=s("7f4a"),l={options:{attributes:{guiclass:"DurationAssertionGui",testclass:"DurationAssertion",testname:"DurationAssertion",enabled:"true"}}},c=function(e){Object(n["a"])(s,e);var t=Object(r["a"])(s);function s(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l;return Object(i["a"])(this,s),e=t.call(this,a),e.duration=e.initStringProp("DurationAssertion.duration"),e.scope=e.initStringProp("Assertion.scope"),e}return Object(a["a"])(s)}(o["a"]),u={DurationAssertion:c}},f01d:function(e,t,s){},f0b0:function(e,t,s){"use strict";s.r(t),s.d(t,"TYPE",(function(){return l})),s.d(t,"default",(function(){return c})),s.d(t,"schema",(function(){return u}));var a=s("e902"),i=s("a018"),n=s("d9ca"),r=s("0590"),o=s("1f4e"),l="UnsupportedComponent",c=function(e){Object(n["a"])(s,e);var t=Object(r["a"])(s);function s(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(i["a"])(this,s),e=t.call(this,a),e.$type=l,e}return Object(a["a"])(s)}(o["a"]),u={UnsupportedComponent:c}},f232:function(e,t,s){},f26c:function(e,t,s){"use strict";s.r(t),s.d(t,"TYPE",(function(){return c})),s.d(t,"default",(function(){return u})),s.d(t,"schema",(function(){return d}));var a=s("e902"),i=s("a018"),n=s("d9ca"),r=s("0590"),o=s("1f4e"),l={options:{attributes:{guiclass:"ThreadGroupGui",testclass:"ThreadGroup",testname:"ThreadGroup",enabled:"true"}}},c="ThreadGroup",u=function(e){Object(n["a"])(s,e);var t=Object(r["a"])(s);function s(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l;return Object(i["a"])(this,s),e=t.call(this,a),e.type=c,e.onSampleError=!0,e}return Object(a["a"])(s)}(o["a"]),d={ThreadGroup:u}},f58a:function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-dialog",{attrs:{title:e.$t("api_report.title"),visible:e.reportVisible},on:{"update:visible":function(t){e.reportVisible=t}}},[s("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.result.loading,expression:"result.loading"}],staticClass:"adjust-table",attrs:{border:"",data:e.tableData}},[s("el-table-column",{attrs:{label:e.$t("commons.name"),width:"150","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-link",{attrs:{type:"info"},on:{click:function(s){return e.link(t.row)}}},[e._v(e._s(t.row.name))])]}}])}),s("el-table-column",{attrs:{width:"250",label:e.$t("commons.create_time")},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",[e._v(e._s(e._f("timestampFormatDate")(t.row.createTime)))])]}}])}),s("el-table-column",{attrs:{width:"250",label:e.$t("commons.update_time")},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",[e._v(e._s(e._f("timestampFormatDate")(t.row.updateTime)))])]}}])}),s("el-table-column",{attrs:{prop:"status",label:e.$t("commons.status")},scopedSlots:e._u([{key:"default",fn:function(e){var t=e.row;return[s("ms-api-report-status",{attrs:{row:t}})]}}])})],1),s("ms-table-pagination",{attrs:{change:e.search,"current-page":e.currentPage,"page-size":e.pageSize,total:e.total},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"update:pageSize":function(t){e.pageSize=t},"update:page-size":function(t){e.pageSize=t}}})],1)},i=[],n=(s("4c1e"),s("6df5"),s("c7ab")),r=s("59d9"),o={name:"MsApiReportDialog",components:{MsApiReportStatus:n["a"],MsTablePagination:r["a"]},props:["testId"],data:function(){return{reportVisible:!1,result:{},tableData:[],loading:!1,currentPage:1,pageSize:10,total:0}},methods:{open:function(){this.reportVisible=!0,this.search()},link:function(e){this.reportVisible=!1,this.$router.push({path:"/api/report/view/"+e.id})},search:function(){var e=this,t="/api/report/list/"+this.testId+"/"+this.currentPage+"/"+this.pageSize;this.result=this.$get(t,(function(t){var s=t.data;e.total=s.itemCount,e.tableData=s.listObject}))}}},l=o,c=s("cba8"),u=Object(c["a"])(l,a,i,!1,null,"1f1e463c",null);t["a"]=u.exports},f7a9:function(e,t,s){"use strict";s.d(t,"d",(function(){return O})),s.d(t,"e",(function(){return $})),s.d(t,"f",(function(){return q})),s.d(t,"a",(function(){return S})),s.d(t,"g",(function(){return w})),s.d(t,"b",(function(){return k})),s.d(t,"c",(function(){return j}));var a=s("597f"),i=s("624d"),n=s("2a8b"),r=s("4135"),o=s("5eef"),l=s("e902"),c=s("a018"),u=s("d9ca"),d=s("0590"),p=(s("10dd"),s("89a8"),s("1a91"),s("c93c"),s("973c")),m=function(e){Object(u["a"])(s,e);var t=Object(d["a"])(s);function s(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(c["a"])(this,s),e=t.call(this,a),a.attributes&&(e.key=a.attributes.name),e}return Object(l["a"])(s)}(p["a"]),h=function(e){Object(u["a"])(s,e);var t=Object(d["a"])(s);function s(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(c["a"])(this,s),e=t.call(this,a),a.elements&&(e.value=a.elements[0].text),e}return Object(l["a"])(s,[{key:"toJson",value:function(){if(void 0!==this.value&&""!==this.value){var e=Object(r["a"])(Object(o["a"])(s.prototype),"toJson",this).call(this);return e.elements=[{type:"text",text:""+this.value}],e}}}]),s}(m),f=function(e){Object(u["a"])(s,e);var t=Object(d["a"])(s);function s(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(c["a"])(this,s),e=t.call(this,a),Object(n["a"])(Object(i["a"])(e),"name","intProp"),e.value=a.elements?parseInt(a.elements[0].text):void 0,e}return Object(l["a"])(s)}(h),b=function(e){Object(u["a"])(s,e);var t=Object(d["a"])(s);function s(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(c["a"])(this,s),e=t.call(this,a),Object(n["a"])(Object(i["a"])(e),"name","longProp"),e.value=a.elements?parseInt(a.elements[0].text):void 0,e}return Object(l["a"])(s)}(h),v=function(e){Object(u["a"])(s,e);var t=Object(d["a"])(s);function s(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(c["a"])(this,s),e=t.call(this,a),Object(n["a"])(Object(i["a"])(e),"name","boolProp"),e.value=a.elements?"true"===a.elements[0].text:void 0,e}return Object(l["a"])(s)}(h),g=function(e){Object(u["a"])(s,e);var t=Object(d["a"])(s);function s(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(c["a"])(this,s),e=t.call(this,a),Object(n["a"])(Object(i["a"])(e),"name","stringProp"),e.value=a.elements?a.elements[0].text:void 0,e}return Object(l["a"])(s)}(h),_=function(e){Object(u["a"])(s,e);var t=Object(d["a"])(s);function s(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(c["a"])(this,s),e=t.call(this,a),a.elements&&(e.value={},a.elements.forEach((function(t){"name"===t.name?(e.key=t.elements[0].text,e.value.name=new h(t)):e.value.value=new y(t)}))),e}return Object(l["a"])(s,[{key:"toJson",value:function(){var e=Object(r["a"])(Object(o["a"])(s.prototype),"toJson",this).call(this);return void 0!==this.value&&(e.elements=[],this.value.name&&e.elements.push(this.value.name.toJson()),this.value.value&&e.elements.push(this.value.value.toJson())),e}}]),s}(m),y=function(e){Object(u["a"])(s,e);var t=Object(d["a"])(s);function s(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(c["a"])(this,s),e=t.call(this,a),a.elements&&(e.value={},a.elements.forEach((function(t){e.value[t.name]=new h(t)}))),e}return Object(l["a"])(s,[{key:"toJson",value:function(){var e=this,t=Object(r["a"])(Object(o["a"])(s.prototype),"toJson",this).call(this);return void 0!==this.value&&(t.elements=[],Object.keys(this.value).forEach((function(s){t.elements.push(e.value[s].toJson())}))),t}}]),s}(p["a"]),x=function(e){Object(u["a"])(s,e);var t=Object(d["a"])(s);function s(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(c["a"])(this,s),e=t.call(this,a),e.elements=[],a.elements&&a.elements.forEach((function(t){var s;switch(t.name){case"intProp":s=new f(t);break;case"longProp":s=new b(t);break;case"boolProp":s=new v(t);break;case"stringProp":s=new g(t);break;case"elementProp":s=new P(t);break}e.add(s)})),e}return Object(l["a"])(s,[{key:"add",value:function(e){e instanceof m?this.elements.push(e):console.error("prop is not Prop")}},{key:"clear",value:function(){this.elements=[]}},{key:"forEach",value:function(e){this.elements.forEach(e)}},{key:"toJson",value:function(){var e=Object(r["a"])(Object(o["a"])(s.prototype),"toJson",this).call(this);return this.elements&&this.elements.length>0&&(e.elements=[],this.elements.forEach((function(t){var s=t.toJson();void 0!==s&&e.elements.push(s)}))),e}}]),s}(m),P=function(e){Object(u["a"])(s,e);var t=Object(d["a"])(s);function s(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(c["a"])(this,s),e=t.call(this,a),e.elements={},a.elements&&(e.elements=O(a.elements)),e}return Object(l["a"])(s,[{key:"initIntProp",value:function(e,t){return void 0===this.elements[e]&&(this.elements[e]=$(e,t)),this.elements[e]}},{key:"initLongProp",value:function(e,t){return void 0===this.elements[e]&&(this.elements[e]=q(e,t)),this.elements[e]}},{key:"initBoolProp",value:function(e,t){return void 0===this.elements[e]&&(this.elements[e]=S(e,t)),this.elements[e]}},{key:"initStringProp",value:function(e,t){return void 0===this.elements[e]&&(this.elements[e]=w(e,t)),this.elements[e]}},{key:"initCollectionProp",value:function(e){return void 0===this.elements[e]&&(this.elements[e]=k(e)),this.elements[e]}},{key:"add",value:function(e){e instanceof m?this.elements[e.key]=e:console.error("prop is not Prop")}},{key:"remove",value:function(e){delete this.elements[e]}},{key:"toJson",value:function(){var e=this,t=Object(r["a"])(Object(o["a"])(s.prototype),"toJson",this).call(this),a=Object.keys(this.elements);return a.length>0&&(t.elements=[],a.forEach((function(s){var a=e.elements[s].toJson();void 0!==a&&t.elements.push(a)}))),t}}]),s}(m),O=function(e){var t={};return e&&e.forEach((function(e){var s,a=e.name;switch(e.attributes&&e.attributes.name&&(s=e.attributes.name),a){case"intProp":t[s]=new f(e);break;case"longProp":t[s]=new b(e);break;case"boolProp":t[s]=new v(e);break;case"stringProp":t[s]=new g(e);break;case"elementProp":t[s]=new P(e);break;case"collectionProp":t[s]=new x(e);break;case"objProp":t[s]=new _(e);break}})),t},C=function(e,t,s){var a={type:"element",attributes:{name:t}};return void 0!==s&&(a.elements=[{type:"text",text:""+s}]),new e(a)},$=function(e,t){return C(f,e,t)},q=function(e,t){return C(b,e,t)},S=function(e,t){return C(v,e,t)},w=function(e,t){return C(g,e,t)},k=function(e){var t={type:"element",name:"collectionProp",attributes:{name:e},elements:[]};return new x(t)},j=function(e,t,s){var i={type:"element",name:"elementProp",attributes:Object(a["a"])({name:e,elementType:t},s),elements:[]};return new P(i)}},f844:function(e,t,s){"use strict";s.d(t,"a",(function(){return c}));var a=s("e902"),i=s("a018"),n=s("d9ca"),r=s("0590"),o=s("1f4e"),l="Configuration",c=function(e){Object(n["a"])(s,e);var t=Object(r["a"])(s);function s(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(i["a"])(this,s),e=t.call(this,a),e.$type=l,e}return Object(a["a"])(s)}(o["a"])},f865:function(e,t,s){"use strict";s("6fa0")},f89d:function(e,t,s){},f996:function(e,t,s){}}]);