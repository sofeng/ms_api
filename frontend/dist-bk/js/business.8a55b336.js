(function(e){function t(t){for(var s,a,r=t[0],c=t[1],u=t[2],l=0,d=[];l<r.length;l++)a=r[l],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&d.push(o[a][0]),o[a]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(e[s]=c[s]);h&&h(t);while(d.length)d.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],s=!0,a=1;a<n.length;a++){var r=n[a];0!==o[r]&&(s=!1)}s&&(i.splice(t--,1),e=c(c.s=n[0]))}return e}var s={},a={business:0},o={business:0},i=[];function r(e){return c.p+"js/"+({}[e]||e)+"."+{"chunk-0041711e":"091e2759","chunk-08131e5f":"a8672141","chunk-30300af0":"4b11ea5a","chunk-798a5c1a":"7524996e","chunk-047add09":"a74aab8b","chunk-0693c731":"cf2fe6fe","chunk-09142075":"d44fb580","chunk-9c01db64":"74e59596","chunk-1187f9cc":"86e2d3ba","chunk-371c618a":"06c78afd","chunk-2d0abf93":"b22c2b0e","chunk-69eda35e":"a5516ecf","chunk-141459e8":"a8556a7b","chunk-1aca5277":"1c186bea","chunk-25be1081":"07284ee0","chunk-2610d502":"6eb57a2d","chunk-06b6c5e6":"b36955db","chunk-293015ae":"13a11fbb","chunk-315cb6cb":"c47737c5","chunk-4f5348a4":"d481e2b6","chunk-795bcb49":"5d940d80","chunk-26cd952e":"19233bfa","chunk-29e18b34":"459c3588","chunk-2c0a92f8":"eb459ae7","chunk-2d0ab506":"fd43b749","chunk-2d0cbe67":"cc1e01fa","chunk-3274574a":"0208d2dd","chunk-66b5066a":"334b75f4","chunk-f35d832a":"513829ed","chunk-1f908e9e":"fca46a16","chunk-4bd5c49f":"cdfb0457","chunk-c92eac02":"ecd0bb62","chunk-2f178094":"6f50115e","chunk-cb368246":"f974df0a","chunk-50a25402":"a565fa84","chunk-3332f617":"f1095da0","chunk-364270c7":"b0696c4b","chunk-42e47a1e":"8fc35baf","chunk-44858fd3":"3a7fcb66","chunk-6a9b950f":"d1dae22c","chunk-e8dcf118":"aaec2827","chunk-f96f75f6":"5a28c89f","chunk-02ed7a4c":"86df8b9b","chunk-23f9a90a":"af709c9f","chunk-00f561bd":"5d129541","chunk-5358e7fe":"8fce89d9","chunk-4df86224":"685c6bd8","chunk-151eb898":"e6a027b1","chunk-66406892":"ad98ac21","chunk-69b84590":"e58549ec","chunk-34acbbe8":"1da0ef76","chunk-60a4e48a":"1cff48fd","chunk-6f8aaa3c":"1c1606d5","chunk-b6559c76":"73d221d5","chunk-1ecf7912":"f4a9ba76","chunk-dc987aa2":"1f093036","chunk-4ee1630f":"b2b83c39","chunk-514bce9c":"9daa7734","chunk-53578e62":"3ed78cbf","chunk-5ea8993e":"25ffd722","chunk-6585a130":"0a25f2d7","chunk-d12bd3a4":"afab5f7f","chunk-6ac5a7f5":"8c2efe9d","chunk-6c3a199a":"951b07b5","chunk-71be39ba":"1cc39e80","chunk-799fc707":"7df1d954","chunk-867bfde2":"d1d878b2","chunk-87f6d50a":"29645efa"}[e]+".js"}function c(t){if(s[t])return s[t].exports;var n=s[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n={"chunk-0041711e":1,"chunk-08131e5f":1,"chunk-30300af0":1,"chunk-798a5c1a":1,"chunk-047add09":1,"chunk-0693c731":1,"chunk-09142075":1,"chunk-9c01db64":1,"chunk-69eda35e":1,"chunk-1aca5277":1,"chunk-25be1081":1,"chunk-2610d502":1,"chunk-06b6c5e6":1,"chunk-293015ae":1,"chunk-315cb6cb":1,"chunk-4f5348a4":1,"chunk-795bcb49":1,"chunk-26cd952e":1,"chunk-29e18b34":1,"chunk-2c0a92f8":1,"chunk-3274574a":1,"chunk-66b5066a":1,"chunk-f35d832a":1,"chunk-1f908e9e":1,"chunk-4bd5c49f":1,"chunk-c92eac02":1,"chunk-2f178094":1,"chunk-cb368246":1,"chunk-50a25402":1,"chunk-3332f617":1,"chunk-364270c7":1,"chunk-42e47a1e":1,"chunk-44858fd3":1,"chunk-6a9b950f":1,"chunk-e8dcf118":1,"chunk-f96f75f6":1,"chunk-02ed7a4c":1,"chunk-23f9a90a":1,"chunk-00f561bd":1,"chunk-5358e7fe":1,"chunk-4df86224":1,"chunk-151eb898":1,"chunk-66406892":1,"chunk-69b84590":1,"chunk-34acbbe8":1,"chunk-60a4e48a":1,"chunk-6f8aaa3c":1,"chunk-b6559c76":1,"chunk-1ecf7912":1,"chunk-dc987aa2":1,"chunk-4ee1630f":1,"chunk-514bce9c":1,"chunk-53578e62":1,"chunk-5ea8993e":1,"chunk-6585a130":1,"chunk-d12bd3a4":1,"chunk-6ac5a7f5":1,"chunk-6c3a199a":1,"chunk-71be39ba":1,"chunk-799fc707":1,"chunk-867bfde2":1,"chunk-87f6d50a":1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=new Promise((function(t,n){for(var s="css/"+({}[e]||e)+"."+{"chunk-0041711e":"8f4e4344","chunk-08131e5f":"20a48d0a","chunk-30300af0":"f84b7201","chunk-798a5c1a":"8a3f4e51","chunk-047add09":"94650b7c","chunk-0693c731":"40fb9175","chunk-09142075":"2ef70550","chunk-9c01db64":"af6585c5","chunk-1187f9cc":"31d6cfe0","chunk-371c618a":"31d6cfe0","chunk-2d0abf93":"31d6cfe0","chunk-69eda35e":"a61ac9cc","chunk-141459e8":"31d6cfe0","chunk-1aca5277":"792e255b","chunk-25be1081":"b6da8b53","chunk-2610d502":"c830d2bf","chunk-06b6c5e6":"de48ca2a","chunk-293015ae":"b4824dbb","chunk-315cb6cb":"2df33803","chunk-4f5348a4":"4ddf68d1","chunk-795bcb49":"5c43bfde","chunk-26cd952e":"005f5621","chunk-29e18b34":"3810c4d9","chunk-2c0a92f8":"529c8596","chunk-2d0ab506":"31d6cfe0","chunk-2d0cbe67":"31d6cfe0","chunk-3274574a":"f945aeb6","chunk-66b5066a":"f6b0e0f4","chunk-f35d832a":"6dbbcb34","chunk-1f908e9e":"8e07448b","chunk-4bd5c49f":"96bb7725","chunk-c92eac02":"9f02ed64","chunk-2f178094":"0feb3a1f","chunk-cb368246":"bf80ca59","chunk-50a25402":"90109129","chunk-3332f617":"ac1cbe11","chunk-364270c7":"553b4ade","chunk-42e47a1e":"a5284e0d","chunk-44858fd3":"8bf9208c","chunk-6a9b950f":"c740651d","chunk-e8dcf118":"636fa5a3","chunk-f96f75f6":"7de00375","chunk-02ed7a4c":"a557ce05","chunk-23f9a90a":"2ae41cfd","chunk-00f561bd":"05b827bb","chunk-5358e7fe":"05b827bb","chunk-4df86224":"afc1f686","chunk-151eb898":"04b126c8","chunk-66406892":"300dedf3","chunk-69b84590":"6db6a9ca","chunk-34acbbe8":"a9ef07ae","chunk-60a4e48a":"83cebead","chunk-6f8aaa3c":"ce7b3e4c","chunk-b6559c76":"e9ca5a8d","chunk-1ecf7912":"f8872773","chunk-dc987aa2":"e940cdec","chunk-4ee1630f":"68658f2a","chunk-514bce9c":"552e35f0","chunk-53578e62":"e336fab6","chunk-5ea8993e":"8d1adfa1","chunk-6585a130":"f9514b79","chunk-d12bd3a4":"92647ec0","chunk-6ac5a7f5":"8576fd78","chunk-6c3a199a":"08d8fee0","chunk-71be39ba":"6d9a3887","chunk-799fc707":"f24c21b6","chunk-867bfde2":"b43dc96d","chunk-87f6d50a":"a1ce23f7"}[e]+".css",o=c.p+s,i=document.getElementsByTagName("link"),r=0;r<i.length;r++){var u=i[r],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===s||l===o))return t()}var d=document.getElementsByTagName("style");for(r=0;r<d.length;r++){u=d[r],l=u.getAttribute("data-href");if(l===s||l===o)return t()}var h=document.createElement("link");h.rel="stylesheet",h.type="text/css",h.onload=t,h.onerror=function(t){var s=t&&t.target&&t.target.src||o,i=new Error("Loading CSS chunk "+e+" failed.\n("+s+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=s,delete a[e],h.parentNode.removeChild(h),n(i)},h.href=o;var f=document.getElementsByTagName("head")[0];f.appendChild(h)})).then((function(){a[e]=0})));var s=o[e];if(0!==s)if(s)t.push(s[2]);else{var i=new Promise((function(t,n){s=o[e]=[t,n]}));t.push(s[2]=i);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=r(e);var d=new Error;u=function(t){l.onerror=l.onload=null,clearTimeout(h);var n=o[e];if(0!==n){if(n){var s=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+s+": "+a+")",d.name="ChunkLoadError",d.type=s,d.request=a,n[1](d)}o[e]=void 0}};var h=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(t)},c.m=e,c.c=s,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)c.d(n,s,function(t){return e[t]}.bind(null,s));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/",c.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var d=0;d<u.length;d++)t(u[d]);var h=l;i.push([0,"chunk-vendors","chunk-common"]),n()})({0:function(e,t,n){e.exports=n("0230")},"0230":function(e,t,n){"use strict";n.r(t);n("6da3"),n("dea3"),n("da68"),n("1311");var s=n("430a"),a=n("5422"),o=n.n(a),i=(n("8aa1"),n("b670")),r=n("10c5"),c=n("3eca"),u=n("67a2"),l=n("315f"),d={install:function(e){i["c"].add(r["a"],c["a"],u["a"]),e.component("font-awesome-icon",l["a"])}},h=(n("89a8"),n("1a91"),n("c93c"),n("5a05"),function(e,t){if(!e)return"";if(t)for(var n=0;n<t.length;n++)if(e===t[n].key)return t[n].value;return e}),f=function(e,t){if(!e)return e;var n=new Date(e),s=n.getFullYear(),a=n.getMonth()+1;a=a<10?"0"+a:a;var o=n.getDate();o=o<10?"0"+o:o;var i=n.getHours();i=i<10?"0"+i:i;var r=n.getMinutes();r=r<10?"0"+r:r;var c=n.getSeconds();c=c<10?"0"+c:c;var u=s+"-"+a+"-"+o+" "+i+":"+r+":"+c;if(!0===t){var l=n.getMilliseconds();u+=":"+l}return u},p={options:h,timestampFormatDate:f},m={install:function(e){Object.keys(p).forEach((function(t){e.filter(t,p[t])}))}},b=n("422a"),g=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.auth?n("el-col",[null!=e.licenseHeader?n("el-row",[n("el-col",[n(e.licenseHeader,{tag:"component"})],1)],1):e._e(),e.isMenuShow?n("el-row",{attrs:{id:"header-top",type:"flex",justify:"space-between",align:"middle"}},[n("el-col",{attrs:{span:12}},[n("img",{staticClass:"logo",attrs:{src:"/display/file/logo",alt:""}}),n("ms-top-menus",{attrs:{color:e.color}})],1),n("el-col",{staticClass:"align-right",attrs:{span:12}},[n("ms-user",{ref:"headerUser"}),n("ms-language-switch",{attrs:{color:e.color}}),n("ms-header-org-ws",{attrs:{color:e.color}}),n("ms-task-center",{attrs:{color:e.color}})],1)],1):e._e(),e.isShow?n("ms-view"):e._e(),n("theme")],1):e._e()},k=[],v=(n("fe35"),n("87d5"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-menu",{key:e.menuKey,staticClass:"header-top-menus",attrs:{mode:"horizontal","menu-trigger":"click","background-color":e.color,"text-color":"#F2F2F2","active-text-color":"#fff","default-active":e.activeIndex,router:""},on:{select:e.handleSelect}},[e.check("testTrack")?n("el-menu-item",{directives:[{name:"permission",rawName:"v-permission",value:["PROJECT_TRACK_CASE:READ","PROJECT_TRACK_PLAN:READ","PROJECT_TRACK_REVIEW:READ"],expression:"['PROJECT_TRACK_CASE:READ','PROJECT_TRACK_PLAN:READ','PROJECT_TRACK_REVIEW:READ']"}],attrs:{index:"/track"}},[e._v(" "+e._s(e.$t("test_track.test_track"))+" ")]):e._e(),e.check("api")?n("el-menu-item",{directives:[{name:"permission",rawName:"v-permission",value:["PROJECT_API_DEFINITION:READ","PROJECT_API_SCENARIO:READ","PROJECT_API_REPORT:READ"],expression:"['PROJECT_API_DEFINITION:READ','PROJECT_API_SCENARIO:READ','PROJECT_API_REPORT:READ']"}],attrs:{index:"/api"},on:{click:function(t){return e.active()}}},[e._v(" "+e._s(e.$t("commons.api"))+" ")]):e._e(),e.check("performance")?n("el-menu-item",{directives:[{name:"permission",rawName:"v-permission",value:["PROJECT_PERFORMANCE_TEST:READ","PROJECT_PERFORMANCE_REPORT:READ"],expression:"['PROJECT_PERFORMANCE_TEST:READ','PROJECT_PERFORMANCE_REPORT:READ']"}],attrs:{index:"/performance",onselectstart:"return false"}},[e._v(" "+e._s(e.$t("commons.performance"))+" ")]):e._e(),e.isReport&&e.check("reportStat")?n("el-menu-item",{directives:[{name:"permission",rawName:"v-permission",value:["PROJECT_TRACK_CASE:READ","PROJECT_TRACK_PLAN:READ","PROJECT_TRACK_REVIEW:READ"],expression:"['PROJECT_TRACK_CASE:READ','PROJECT_TRACK_PLAN:READ','PROJECT_TRACK_REVIEW:READ']"}],attrs:{index:"/report"}},[e._v(" "+e._s(e.$t("commons.report_statistics.title"))+" ")]):e._e(),n("el-menu-item",{attrs:{index:"/setting",onselectstart:"return false"}},[e._v(" "+e._s(e.$t("commons.system_setting"))+" ")])],1)}),_=[],w=n("597f"),R=(n("8ea3"),n("4abd")),C=n("7736"),E=n("495f"),O="MODULE_CHANGE",y=new s["default"],S=n("6dba"),A=S.keys().map((function(e){return S(e).report})),T=!!(A&&null!=A&&A.length>0&&void 0!=A[0]),x=n("cfb0"),$=x.keys().length>0?x("./module/Module.vue"):{},M={name:"MsTopMenus",data:function(){return{activeIndex:"/",isReport:T,modules:{},menuKey:0}},props:{color:String},watch:{$route:function(e){e.matched.length>0&&(this.activeIndex=e.matched[0].path),this.handleSelect(this.activeIndex)}},mounted:function(){this.$route.matched.length>0&&(this.activeIndex=this.$route.matched[0].path);var e=localStorage.getItem(R["o"]);"valid"!=e?this.isReport=!1:$.default&&$.default.listModules(this),this.registerEvents()},computed:Object(w["a"])({},Object(C["b"])(["isNewVersion","isOldVersion"])),methods:{handleSelect:function(e){this.activeIndex=e},active:function(){"/api"===this.activeIndex&&(this.isNewVersion?window.location.href="/#/api/home":this.isOldVersion&&(window.location.href="/#/api/home_obsolete"))},check:function(e){return void 0===$.default||!Object(E["p"])()||"ENABLE"===this.modules[e]},registerEvents:function(){var e=this;y.$on(O,(function(){$.default&&$.default.listModules(e).then((function(){e.menuKey++}))}))}}},P=M,I=(n("f768"),n("cba8")),N=Object(I["a"])(P,v,_,!1,null,"0b624921",null),D=N.exports,j=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"body"}},[n("router-view",{staticClass:"sidebar",attrs:{name:"sidebar"}}),n("router-view",{staticClass:"content",attrs:{name:"content"}})],1)},L=[],J={name:"MsView"},U=J,q=(n("4c29"),Object(I["a"])(U,j,L,!1,null,"1b133750",null)),z=q.exports,V=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dropdown",{staticClass:"align-right",attrs:{size:"medium"},on:{command:e.handleCommand},scopedSlots:e._u([{key:"dropdown",fn:function(){return[n("el-dropdown-menu",[n("el-dropdown-item",{attrs:{command:"personal"}},[e._v(e._s(e.$t("commons.personal_information")))]),n("el-dropdown-item",{attrs:{command:"about"}},[e._v(e._s(e.$t("commons.about_us"))+" "),n("i",{staticClass:"el-icon-info"})]),n("el-dropdown-item",{attrs:{command:"help"}},[e._v(e._s(e.$t("commons.help_documentation")))]),n("el-dropdown-item",{attrs:{command:"ApiHelp"}},[e._v(e._s(e.$t("commons.api_help_documentation")))]),n("el-dropdown-item",{directives:[{name:"show",rawName:"v-show",value:e.isNewVersion,expression:"isNewVersion"}],attrs:{command:"old"},nativeOn:{click:function(t){return e.changeBar("old")}}},[e._v(" "+e._s(e.$t("commons.cut_back_old_version"))+" ")]),n("el-dropdown-item",{directives:[{name:"show",rawName:"v-show",value:e.isOldVersion,expression:"isOldVersion"}],attrs:{command:"new"},nativeOn:{click:function(t){return e.changeBar("new")}}},[e._v(" "+e._s(e.$t("commons.cut_back_new_version"))+" ")]),n("el-dropdown-item",{attrs:{command:"logout"}},[e._v(e._s(e.$t("commons.exit_system")))])],1)]},proxy:!0}])},[n("span",{staticClass:"dropdown-link"},[e._v(" "+e._s(e.currentUser.name)),n("i",{staticClass:"el-icon-caret-bottom el-icon--right"})]),n("about-us",{ref:"aboutUs"})],1)},W=[],F=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-dialog",{staticClass:"about-us",attrs:{title:e.$t("commons.about_us"),visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[s("el-row",[s("el-col",[s("el-link",{attrs:{underline:!1,href:e.websiteUrl,target:"_blank"}},[s("img",{staticClass:"logo",attrs:{src:n("f4ae")}})]),s("el-link",{staticClass:"url",attrs:{href:e.websiteUrl,target:"_blank"}},[s("span",[e._v(e._s(e.websiteUrl))])])],1)],1),s("el-row",[s("el-col",[s("div",{staticClass:"github"},[s("el-link",{attrs:{underline:!1,href:e.githubUrl,target:"_blank"}},[s("font-awesome-icon",{staticClass:"github-icon",attrs:{icon:["fab","github-square"]}})],1)],1),s("el-link",{staticClass:"url",attrs:{href:e.githubUrl,target:"_blank"}},[s("span",[e._v(e._s(e.githubUrl))])])],1)],1),s("el-row",[s("el-col",{staticClass:"version"},[s("span",[e._v("版本:")]),e._v("   "),s("span",[e._v(e._s(e.version))])])],1)],1)},K=[],H={name:"AboutUs",data:function(){return{dialogVisible:!1,githubUrl:"https://github.com/metersphere/metersphere",websiteUrl:"https://metersphere.io",version:"1.0.1"}},created:function(){this.getVersion()},methods:{open:function(){this.dialogVisible=!0},getVersion:function(){var e=this;this.$get("/system/version",(function(t){e.version=t.data}))}}},B=H,Q=(n("9c77"),Object(I["a"])(B,F,K,!1,null,"226edac3",null)),X=Q.exports,Y=n("4ff3"),G=n.n(Y),Z=n("cfb0"),ee=(Z.keys().length>0&&Z("./auth/Auth.vue"),{name:"MsUser",components:{AboutUs:X},data:function(){return{}},computed:Object(w["a"])({currentUser:function(){return Object(E["h"])()}},Object(C["b"])(["isNewVersion","isOldVersion"])),methods:{logout:function(){G.a.get("/signout").then((function(e){e.data.success&&(localStorage.removeItem(R["M"]),sessionStorage.removeItem(R["q"]),sessionStorage.removeItem(R["N"]),sessionStorage.removeItem(R["u"]),window.location.href="/login")})).catch((function(e){localStorage.removeItem(R["M"]),sessionStorage.removeItem(R["q"]),sessionStorage.removeItem(R["N"]),sessionStorage.removeItem(R["u"]),window.location.href="/login"}))},handleCommand:function(e){switch(e){case"personal":this.$router.push("/setting/personsetting").catch((function(e){return e}));break;case"logout":this.logout();break;case"about":this.$refs.aboutUs.open();break;case"help":window.open("https://metersphere.io/docs/index.html","_blank");break;case"ApiHelp":window.open("/swagger-ui/index.html?configUrl=/v3/api-docs/swagger-config","_blank");break;default:break}},changeBar:function(e){this.$store.commit("setVersionSwitch",e),window.location.href="old"==e?"/#/api/home_obsolete":"/#/api/home"}}}),te=ee,ne=(n("c5af"),Object(I["a"])(te,V,W,!1,null,"027864fe",null)),se=ne.exports,ae=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-menu",{staticClass:"header-user-menu align-right",attrs:{"unique-opened":!0,mode:"horizontal","background-color":e.color,"active-text-color":"#fff","default-active":"1","text-color":"#fff"}},[n("el-menu-item",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{index:"1"}},[e._v("Placeholder")]),n("el-submenu",{directives:[{name:"permission",rawName:"v-permission",value:["PROJECT_TRACK_CASE:READ","PROJECT_TRACK_PLAN:READ","PROJECT_TRACK_REVIEW:READ","PROJECT_API_DEFINITION:READ","PROJECT_API_SCENARIO:READ","PROJECT_API_REPORT:READ","PROJECT_PERFORMANCE_TEST:READ","PROJECT_PERFORMANCE_REPORT:READ","ORGANIZATION_USER:READ","WORKSPACE_USER:READ"],expression:"['PROJECT_TRACK_CASE:READ','PROJECT_TRACK_PLAN:READ','PROJECT_TRACK_REVIEW:READ',\n              'PROJECT_API_DEFINITION:READ','PROJECT_API_SCENARIO:READ','PROJECT_API_REPORT:READ',\n              'PROJECT_PERFORMANCE_TEST:READ','PROJECT_PERFORMANCE_REPORT:READ', 'ORGANIZATION_USER:READ',\n              'WORKSPACE_USER:READ']"}],attrs:{index:"1","popper-class":"org-ws-submenu","popper-append-to-body":!0},scopedSlots:e._u([{key:"title",fn:function(){return[n("div",{staticClass:"org-ws-name",attrs:{title:e.currentOrganizationName+"-"+e.currentWorkspaceName}},[e._v(" "+e._s(e.currentWorkspaceName||e.currentOrganizationName)+" ")])]},proxy:!0}])},[n("el-input",{staticClass:"search-input",attrs:{placeholder:e.$t("project.search_by_name"),"prefix-icon":"el-icon-search",clearable:"",size:"small"},model:{value:e.searchOrg,callback:function(t){e.searchOrg=t},expression:"searchOrg"}}),n("div",{staticClass:"org-ws-menu"},e._l(e.organizationList,(function(t,s){return n("el-submenu",{key:s,attrs:{index:"1-"+s,"popper-append-to-body":!0},scopedSlots:e._u([{key:"title",fn:function(){return[n("div",{on:{click:function(n){return e.changeOrg(t)}}},[e._v(" "+e._s(t.name)+" "),t.id===e.getCurrentOrganizationId()?n("i",{staticClass:"el-icon-check"}):e._e()])]},proxy:!0}],null,!0)},[n("el-input",{staticClass:"search-input",attrs:{placeholder:e.$t("project.search_by_name"),"prefix-icon":"el-icon-search",clearable:"",size:"small"},model:{value:e.searchWs,callback:function(t){e.searchWs=t},expression:"searchWs"}}),n("div",{staticClass:"org-ws-menu"},e._l(t.workspaceList,(function(t,a){return n("el-menu-item",{key:a,attrs:{index:"1-"+s+"-"+a},on:{click:function(n){return e.changeWs(t)}}},[n("span",{staticClass:"title"},[e._v(" "+e._s(t.name)+" ")]),t.id===e.getCurrentWorkspaceId()?n("i",{staticClass:"el-icon-check"}):e._e()])})),1)],1)})),1)],1)],1)},oe=[],ie=(n("10dd"),n("ba4e"),n("4c1e"),n("fee8"),{name:"MsHeaderOrgWs",created:function(){this.initMenuData()},inject:["reloadTopMenus"],data:function(){return{organizationList:[{name:this.$t("organization.none")}],workspaceList:[{name:this.$t("workspace.none")}],currentUserId:Object(E["h"])().id,workspaceIds:[],currentOrganizationName:"",currentWorkspaceName:"",searchOrg:"",searchWs:"",orgListCopy:[{name:this.$t("organization.none")}],wsListCopy:[{name:this.$t("workspace.none")}]}},computed:{currentUser:function(){return Object(E["h"])()}},props:{color:String},watch:{searchOrg:function(e){this.query("org",e)},searchWs:function(e){this.query("ws",e)}},methods:{getCurrentOrganizationId:E["f"],getCurrentWorkspaceId:E["j"],initMenuData:function(){var e=this;if(this.$get("/organization/list/userorg/"+encodeURIComponent(this.currentUserId),(function(t){var n=t.data;e.organizationList=n,e.orgListCopy=n;var s=n.filter((function(e){return e.id===Object(E["f"])()}));s.length>0&&(e.currentOrganizationName=s[0].name),e.organizationList.forEach((function(t){e.$get("/workspace/list/orgworkspace/"+encodeURIComponent(e.currentUserId)+"/"+t.id,(function(n){var s=n.data;if(0===s.length);else{e.$set(t,"workspaceList",s),t.wsListCopy=s;var a=s.filter((function(e){return e.id===Object(E["j"])()}));a.length>0&&(e.currentWorkspaceName=a[0].name)}}))}))})),!this.currentUser.lastOrganizationId)return!1},getRedirectUrl:function(e){if(!e.lastProjectId||!e.lastWorkspaceId)return"/";var t=sessionStorage.getItem("redirectUrl");return t.startsWith("/")&&(t=t.substring(1)),t=t.split("/")[0],"/"+t+"/"},changeOrg:function(e){var t=this,n=e.id;if(!n)return!1;this.$post("/user/switch/source/org/"+n,{},(function(e){Object(E["A"])(e),sessionStorage.setItem(R["q"],n),sessionStorage.setItem(R["N"],e.data.lastWorkspaceId),sessionStorage.setItem(R["u"],e.data.lastProjectId),t.$router.push(t.getRedirectUrl(e.data)).then((function(){t.reloadTopMenus()})).catch((function(e){return e}))}))},changeWs:function(e){var t=this,n=e.id;if(!n)return!1;this.$post("/user/switch/source/ws/"+n,{},(function(e){Object(E["A"])(e),sessionStorage.setItem(R["q"],e.data.lastOrganizationId),sessionStorage.setItem(R["N"],n),sessionStorage.setItem(R["u"],e.data.lastProjectId),t.$router.push(t.getRedirectUrl(e.data)).then((function(){t.reloadTopMenus()})).catch((function(e){return e}))}))},query:function(e,t){var n=this;"org"===e&&(this.organizationList=t?this.orgListCopy.filter(this.createFilter(t)):this.orgListCopy),"ws"===e&&this.organizationList.forEach((function(e){var s=e.wsListCopy;e.workspaceList=t?null===s||void 0===s?void 0:s.filter(n.createFilter(t)):s}))},createFilter:function(e){return function(t){return-1!==t.name.toLowerCase().indexOf(e.toLowerCase())}}}}),re=ie,ce=(n("5edf"),Object(I["a"])(re,ae,oe,!1,null,"5d1a590a",null)),ue=ce.exports,le=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dropdown",{staticClass:"align-right",attrs:{size:"medium"},on:{command:e.changeLanguage},scopedSlots:e._u([{key:"dropdown",fn:function(){return[n("el-dropdown-menu",e._l(e.languageMap,(function(t,s){return n("el-dropdown-item",{key:s,attrs:{command:s}},[e._v(" "+e._s(t)+" "),e.language===t?n("i",{staticClass:"el-icon-check"}):e._e()])})),1)]},proxy:!0}])},[n("span",{staticClass:"dropdown-link"},[n("font-awesome-icon",{attrs:{icon:["fas","language"],size:"lg"}})],1)])},de=[],he=n("2a8b"),fe={name:"MsLanguageSwitch",inject:["reload"],data:function(){var e;return{currentUserInfo:{},language:"",languageMap:(e={},Object(he["a"])(e,R["P"],"简体中文"),Object(he["a"])(e,R["h"],"English"),Object(he["a"])(e,R["Q"],"繁體中文"),e)}},props:{color:String},created:function(){var e=this.currentUser().language;this.currentUserInfo=this.currentUser(),e||(e=localStorage.getItem(R["g"])),this.checkLanguage(e)},methods:{checkLanguage:function(e){if(e)switch(this.$setLang(e),e){case R["P"]:this.language=this.languageMap[R["P"]];break;case R["Q"]:this.language=this.languageMap[R["Q"]];break;case R["h"]:this.language=this.languageMap[R["h"]];break;default:this.language=this.languageMap[R["P"]];break}},currentUser:function(){return Object(E["h"])()},changeLanguage:function(e){var t=this,n={id:this.currentUser().id,language:e};this.checkLanguage(e),this.result=this.$post("/user/update/current",n,(function(e){localStorage.setItem(R["M"],JSON.stringify(e.data)),t.reload()}))}}},pe=fe,me=(n("14e1"),Object(I["a"])(pe,le,de,!1,null,"6d73752c",null)),be=me.exports,ge=n("5204"),ke=n("cfb0"),ve=ke.keys().length>0?ke("./license/LicenseMessage.vue"):{},_e=ke.keys().length>0?ke("./display/Display.vue"):{},we=ke.keys().length>0?ke("./display/Theme.vue"):{},Re=null,Ce={name:"app",props:{},data:function(){return{licenseHeader:null,auth:!1,header:{},logoId:"_blank",color:"",sessionTimer:null,isShow:!0,isMenuShow:!0}},created:function(){var e=this;Object(b["registerRequestHeaders"])(),this.initSessionTimer(),Object(E["p"])()?this.$get("/system/theme",(function(t){e.color=t.data?t.data:R["r"],Object(E["B"])(e.color,e.color,e.color,e.color,e.color),e.$store.commit("setTheme",t.data)})):(Object(E["C"])(),this.color=R["r"]),localStorage.getItem("store")&&(this.$store.replaceState(Object.assign({},this.$store.state,JSON.parse(localStorage.getItem("store")))),this.$get("/project/listAll",(function(t){var n=t.data;n&&n.length<=0&&e.$store.commit("setProjectId",void 0)}))),window.addEventListener("beforeunload",(function(){localStorage.setItem("store",JSON.stringify(e.$store.state))}))},beforeCreate:function(){var e=this;this.$get("/isLogin").then((function(t){t.data.success?(e.$setLang(t.data.data.language),Object(E["A"])(t.data),e.auth=!0,void 0!==ve.default&&(e.licenseHeader="LicenseMessage"),void 0!==_e.default&&_e.default.showHome(e)):window.location.href="/login"})).catch((function(){window.location.href="/login"}))},provide:function(){return{reload:this.reload,reloadTopMenus:this.reloadTopMenus}},methods:{initSessionTimer:function(){var e=this;this.$get("/system/timeout").then((function(t){var n=t.data.data;e.initTimer(n),window.addEventListener("click",(function(){e.currentTime(n)}))})).catch((function(){}))},initTimer:function(e){var t=this;setTimeout((function(){t.$get("/isLogin").then((function(e){e.data.success||t.$refs.headerUser.logout()})).catch((function(){window.location.href="/login"}))}),1e3*(e+10))},currentTime:function(e){var t=this;Re&&(window.clearTimeout(Re),Re=null),Re=window.setTimeout((function(){t.$refs.headerUser.logout()}),1e3*e)},reload:function(){var e=this;this.isShow=!1,this.$nextTick((function(){e.isShow=!0}))},reloadTopMenus:function(){var e=this;this.$get("/isLogin").then((function(t){t.data.success?(e.$setLang(t.data.data.language),Object(E["A"])(t.data),e.isMenuShow=!1,e.isShow=!1,e.$nextTick((function(){e.isShow=!0,e.isMenuShow=!0}))):window.location.href="/login"})).catch((function(){window.location.href="/login"}))}},components:{MsTaskCenter:ge["a"],MsLanguageSwitch:be,MsUser:se,MsView:z,MsTopMenus:D,MsHeaderOrgWs:ue,LicenseMessage:ve.default,Theme:we.default}},Ee=Ce,Oe=(n("1d4b"),Object(I["a"])(Ee,g,k,!1,null,"6d1a0e80",null)),ye=Oe.exports,Se=n("498c"),Ae=n("6898"),Te=n("3621"),xe=n("febe"),$e=n("045d"),Me=(n("e186"),n("38bc")),Pe=n.n(Me),Ie=(n("70e7"),["/login"]);function Ne(e,t,n){var s=Object(E["p"])();s||e.parentNode&&e.parentNode.removeChild(e)}function De(e,t,n){var s=t.value;if(s&&s instanceof Array&&s.length>0){var a=s,o=!1;"roles"===n?o=E["s"].apply(void 0,Object($e["a"])(a)):"permission"===n&&(o=E["r"].apply(void 0,Object($e["a"])(a))),o||e.parentNode&&e.parentNode.removeChild(e)}}function je(e,t){var n=t.value;if(n&&n instanceof Array&&n.length>0){var s=E["c"].apply(void 0,Object($e["a"])(n));s||e.parentNode&&e.parentNode.removeChild(e)}}Pe.a.configure({showSpinner:!1});var Le={inserted:function(e,t){De(e,t,"permission")}},Je={inserted:function(e,t){De(e,t,"roles")}},Ue={inserted:function(e,t){Ne(e,t)}},qe={inserted:function(e,t){je(e,t)}};Ae["a"].beforeEach(function(){var e=Object(xe["a"])(regeneratorRuntime.mark((function e(t,n,s){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:Pe.a.start(),a=JSON.parse(localStorage.getItem(R["M"])),a?"/login"===t.path?(s({path:"/"}),Pe.a.done()):s():-1!==Ie.indexOf(t.path)?s():(s("/login"),Pe.a.done());case 3:case"end":return e.stop()}}),e)})));return function(t,n,s){return e.apply(this,arguments)}}()),Ae["a"].afterEach((function(){Pe.a.done()}));var ze=n("0692"),Ve={isNewVersion:function(e){return"new"===e.versionSwitch},isOldVersion:function(e){return"old"===e.versionSwitch}},We=Ve,Fe={},Ke=Fe,He=(n("bbe2"),{setProjectId:function(e,t){return e.projectId=t},setTest:function(e,t){return e.test=t},setScenarioJmxs:function(e,t){return e.scenarioJmxs=t},clearTest:function(e){return e.test={}},clearScenarioJmxs:function(e){return e.scenarioJmxs={}},setVersionSwitch:function(e,t){return e.versionSwitch=t},setTheme:function(e,t){return e.theme=t},setTestCaseSelectNode:function(e,t){return e.testCaseSelectNode=t},setTestCaseSelectNodeIds:function(e,t){return e.testCaseSelectNodeIds=t},setTestCaseModuleOptions:function(e,t){return e.testCaseModuleOptions=t},setTestReviewSelectNode:function(e,t){return e.testReviewSelectNode=t},setTestReviewSelectNodeIds:function(e,t){return e.testReviewSelectNodeIds=t},setTestReviewModuleOptions:function(e,t){return e.testReviewModuleOptions=t},setTestPlanViewSelectNode:function(e,t){return e.testPlanViewSelectNode=t}}),Be=He;s["default"].use(C["a"]);var Qe={projectId:"",test:{},scenarioJmxs:{},versionSwitch:"new",isReadOnly:!0,theme:void 0,testCaseSelectNode:{},testCaseSelectNodeIds:[],testCaseModuleOptions:[],testReviewSelectNode:{},testReviewSelectNodeIds:[],testReviewModuleOptions:[],testPlanViewSelectNode:{}},Xe=new C["a"].Store({state:Qe,getters:We,actions:Ke,mutations:Be}),Ye=Xe,Ge=n("5dd5"),Ze=(n("679c"),n("6722"),n("196f"),n("58f8"),n("f035"),n("b824"),n("efb8"),n("8a7b"),{install:function(e){e.component("chart",Ge["a"])}}),et=n("96e6"),tt={install:function(e){e.component("calendarHeatmap",et["CalendarHeatmap"])}},nt=(n("da04"),n("59cc"),n("d369")),st=n.n(nt),at=n("fe89"),ot=n.n(at),it={inserted:function(e,t){e.onmousedown=function(t){var n=t.clientX,s=e.parentNode,a=s.offsetWidth;document.onmousemove=function(e){var t=e.clientX,o=t-n+a;o<document.body.clientWidth-10&&o>10&&(s.style.width=o+"px")},document.onmouseup=function(){document.onmousemove=document.onmouseup=null}}}},rt={inserted:function(e,t){e.onmousedown=function(t){var n=t.clientX,s=e.parentNode,a=s.offsetWidth;document.onmousemove=function(e){var t=e.clientX,o=a-(t-n);o<document.body.clientWidth-10&&o>10&&(s.style.width=o+"px")},document.onmouseup=function(){document.onmousemove=document.onmouseup=null}}}},ct={inserted:function(e,t){e.onmousedown=function(t){var n=t.clientY,s=e.parentNode,a=s.offsetHeight;document.onmousemove=function(e){var t=e.clientY,o=a-(t-n);o<document.body.clientHeight-10&&o>10&&(s.style.height=o+"px")},document.onmouseup=function(){document.onmousemove=document.onmouseup=null}}}},ut=n("7600"),lt=n("6ff2"),dt=n.n(lt),ht=n("e6ef"),ft=n.n(ht),pt=n("b31f"),mt=n.n(pt),bt=n("f911"),gt=n.n(bt),kt=(n("ad45"),n("ab20"));s["default"].use(gt.a),s["default"].use(mt.a),s["default"].use(ut["a"]),s["default"].use(kt["a"]),s["default"].config.productionTip=!1,s["default"].use(d),s["default"].use(o.a,{i18n:function(e,t){return ze["default"].t(e,t)}}),s["default"].use(m),s["default"].use(b["default"]),s["default"].use(Ze),s["default"].use(tt),s["default"].use(Se["a"]),s["default"].use(st.a),s["default"].use(Te["a"]),s["default"].use(ot.a),s["default"].use(dt.a),s["default"].use(ft.a),s["default"].directive("permission",Le),s["default"].directive("roles",Je),s["default"].directive("xpack",Ue),s["default"].directive("modules",qe),s["default"].directive("left-to-right-drag",it),s["default"].directive("right-to-left-drag",rt),s["default"].directive("bottom-to-top-drag",ct),s["default"].directive("preventReClick",{inserted:function(e,t){e.addEventListener("click",(function(){e.disabled||(e.disabled=!0,setTimeout((function(){e.disabled=!1}),t.value||3e3))}))}}),s["default"].prototype.$EventBus=new s["default"],new s["default"]({el:"#app",router:Ae["a"],store:Ye,i18n:ze["default"],render:function(e){return e(ye)}})},"14e1":function(e,t,n){"use strict";n("d50c")},1504:function(e,t,n){"use strict";n("518a")},1558:function(e,t,n){"use strict";var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-table",{attrs:{data:e.assertions,"row-style":e.getRowStyle,"header-cell-style":e.getRowStyle}},[n("el-table-column",{attrs:{prop:"name",label:e.$t("api_report.assertions_name"),width:"300"}}),n("el-table-column",{attrs:{prop:"message",label:e.$t("api_report.assertions_error_message")}}),n("el-table-column",{attrs:{prop:"pass",label:e.$t("api_report.assertions_is_success"),width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.row;return[s.pass?n("el-tag",{attrs:{size:"mini",type:"success"}},[e._v(" "+e._s(e.$t("api_report.success"))+" ")]):n("el-tag",{attrs:{size:"mini",type:"danger"}},[e._v(" "+e._s(e.$t("api_report.fail"))+" ")])]}}])})],1)},a=[],o={name:"MsAssertionResults",props:{assertions:Array},methods:{getRowStyle:function(){return{backgroundColor:"#F5F5F5"}}}},i=o,r=n("cba8"),c=Object(r["a"])(i,s,a,!1,null,"4009bbc0",null);t["a"]=c.exports},1746:function(e,t,n){"use strict";var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("editor",{attrs:{lang:e.mode,theme:e.theme,height:e.height},on:{init:e.editorInit},model:{value:e.formatData,callback:function(t){e.formatData=t},expression:"formatData"}})},a=[],o=(n("51b3"),n("89a8"),n("1a91"),n("1549")),i=n("ac39"),r=n.n(i),c={name:"MsCodeEdit",components:{editor:n("50bc")},data:function(){return{formatData:""}},props:{height:[String,Number],data:{type:String},theme:{type:String,default:function(){return"chrome"}},init:{type:Function},readOnly:{type:Boolean,default:function(){return!1}},mode:{type:String,default:function(){return"text"}},modes:{type:Array,default:function(){return["text","json","xml","html"]}}},mounted:function(){this.format()},watch:{formatData:function(){this.$emit("update:data",this.formatData)},mode:function(){this.format()},data:function(){this.formatData=this.data}},methods:{editorInit:function(e){n("93c6"),this.modes.forEach((function(e){n("c1d1")("./"+e)})),n("07ed")("./"+this.theme),n("55eb"),this.readOnly&&e.setReadOnly(!0),this.init&&this.init(e)},format:function(){switch(this.mode){case"json":this.formatData=Object(o["a"])(this.data);break;case"html":this.formatData=r()(this.data);break;case"xml":this.formatData=Object(o["c"])(this.data);break;default:this.data&&(this.formatData=this.data)}}}},u=c,l=n("cba8"),d=Object(l["a"])(u,s,a,!1,null,"f181b9da",null);t["a"]=d.exports},"1d4b":function(e,t,n){"use strict";n("257a")},2328:function(e,t,n){"use strict";n("cbb0")},"257a":function(e,t,n){},"2a47":function(e,t,n){},"2cde":function(e,t,n){},"42f1":function(e,t,n){},"498c":function(e,t,n){"use strict";n.d(t,"b",(function(){return a}));var s=n("5422");function a(e){s["Message"].success({message:e,type:"success",showClose:!0,duration:1500})}function o(e,t){s["Message"].info({message:e,type:"info",showClose:!0,duration:t||3e3})}function i(e){s["Message"].warning({message:e,type:"warning",showClose:!0,duration:5e3})}function r(e,t){s["Message"].error({message:e,type:"error",showClose:!0,duration:t||1e4})}t["a"]={install:function(e){s["Message"]?(e.prototype.$success=a,e.prototype.$info=o,e.prototype.$warning=i,e.prototype.$error=r):window.console.error("You have to install Message of ElementUI")}}},"4c29":function(e,t,n){"use strict";n("8ed4")},"4c41":function(e,t,n){"use strict";n("c7e5")},"518a":function(e,t,n){},"51c0":function(e,t,n){},5204:function(e,t,n){"use strict";var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"permission",rawName:"v-permission",value:["PROJECT_API_SCENARIO:READ"],expression:"['PROJECT_API_SCENARIO:READ']"}]},[n("el-menu",{staticClass:"header-user-menu align-right header-top-menu",attrs:{"unique-opened":!0,mode:"horizontal","background-color":e.color,"text-color":"#fff","active-text-color":"#fff"}},[n("el-menu-item",{attrs:{onselectstart:"return false"}},[n("el-tooltip",{attrs:{effect:"light"},scopedSlots:e._u([{key:"content",fn:function(){return[n("span",[e._v(e._s(e.$t("commons.task_center")))])]},proxy:!0}])},[e.runningTotal>0?n("div",{on:{click:e.showTaskCenter}},[n("el-badge",{staticClass:"item",attrs:{value:e.runningTotal,type:"primary"}},[n("font-awesome-icon",{staticClass:"icon global focusing",staticStyle:{"font-size":"18px"},attrs:{icon:["fas","tasks"]}})],1)],1):n("font-awesome-icon",{staticClass:"icon global focusing",attrs:{icon:["fas","tasks"]},on:{click:e.showTaskCenter}})],1)],1)],1),n("el-drawer",{attrs:{visible:e.taskVisible,"destroy-on-close":!0,direction:"rtl",withHeader:!0,modal:!1,title:e.$t("commons.task_center"),size:"600px","custom-class":"ms-drawer-task"},on:{"update:visible":function(t){e.taskVisible=t}}},[n("div",{staticStyle:{color:"#2B415C",margin:"0px 20px 0px"}},[n("el-form",{attrs:{"label-width":"68px"}},[n("el-row",[n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:e.$t("test_track.report.list.trigger_mode"),prop:"runMode"}},[n("el-select",{staticStyle:{"margin-right":"10px"},attrs:{size:"small"},on:{change:e.init},model:{value:e.condition.triggerMode,callback:function(t){e.$set(e.condition,"triggerMode",t)},expression:"condition.triggerMode"}},e._l(e.runMode,(function(e){return n("el-option",{key:e.id,attrs:{value:e.id,label:e.label}})})),1)],1)],1),n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:e.$t("commons.status"),prop:"status"}},[n("el-select",{staticStyle:{"margin-right":"10px"},attrs:{size:"small"},on:{change:e.init},model:{value:e.condition.executionStatus,callback:function(t){e.$set(e.condition,"executionStatus",t)},expression:"condition.executionStatus"}},e._l(e.runStatus,(function(e){return n("el-option",{key:e.id,attrs:{value:e.id,label:e.label}})})),1)],1)],1),n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:e.$t("commons.executor"),prop:"status"}},[n("el-select",{staticStyle:{"margin-right":"10px"},attrs:{placeholder:e.$t("commons.executor"),filterable:"",size:"small"},on:{change:e.init},model:{value:e.condition.executor,callback:function(t){e.$set(e.condition,"executor",t)},expression:"condition.executor"}},e._l(e.maintainerOptions,(function(e){return n("el-option",{key:e.id,attrs:{label:e.id+" ("+e.name+")",value:e.id}})})),1)],1)],1)],1)],1)],1),n("div",{staticClass:"report-container"},e._l(e.taskData,(function(t){return n("div",{key:t.id,staticStyle:{"margin-bottom":"5px"}},[n("el-card",{staticClass:"ms-card-task",nativeOn:{click:function(n){return e.showReport(t,n)}}},[n("span",[n("el-link",{attrs:{type:"primary"}},[e._v(e._s(e.getModeName(t.executionModule))+" ")]),e._v(": "+e._s(t.name)+" ")],1),n("br"),n("span",[e._v(" 执行器："+e._s(t.actuator)+" 由 "+e._s(t.executor)+" "+e._s(e._f("timestampFormatDate")(t.executionTime))+" "+e._s(e.getMode(t.triggerMode))+" ")]),n("br"),n("el-row",[n("el-col",{attrs:{span:20}},[n("el-progress",{attrs:{percentage:e.getPercentage(t.executionStatus),format:e.format}})],1),n("el-col",{attrs:{span:4}},[t.executionStatus&&"error"===t.executionStatus.toLowerCase()?n("span",{staticClass:"ms-task-error"},[e._v(" error ")]):t.executionStatus&&"success"===t.executionStatus.toLowerCase()?n("span",{staticClass:"ms-task-success"},[e._v(" success ")]):n("span",[e._v(e._s(t.executionStatus?t.executionStatus.toLowerCase():t.executionStatus))])])],1)],1)],1)})),0)]),n("el-dialog",{staticClass:"api-import",attrs:{"close-on-click-modal":!1,title:e.$t("test_track.plan_view.test_result"),width:"60%",visible:e.visible,"destroy-on-close":""},on:{"update:visible":function(t){e.visible=t},close:e.close}},[n("ms-request-result-tail",{ref:"debugResult",attrs:{response:e.response}})],1)],1)},a=[],o=(n("89a8"),n("1a91"),n("5069")),i=n("495f"),r=n("a5d4"),c={name:"MsTaskCenter",components:{MsDrawer:o["a"],MsRequestResultTail:r["a"]},inject:["reload"],data:function(){return{runningTotal:0,taskVisible:!1,result:{},taskData:[],response:{},initEnd:!1,visible:!1,runMode:[{id:"",label:this.$t("api_test.definition.document.data_set.all")},{id:"BATCH",label:this.$t("api_test.automation.batch_execute")},{id:"SCHEDULE",label:this.$t("commons.trigger_mode.schedule")},{id:"MANUAL",label:this.$t("commons.trigger_mode.manual")},{id:"API",label:"API"}],runStatus:[{id:"",label:this.$t("api_test.definition.document.data_set.all")},{id:"Saved",label:"Saved"},{id:"Starting",label:"Starting"},{id:"Running",label:"Running"},{id:"Reporting",label:"Reporting"},{id:"Completed",label:"Completed"},{id:"error",label:"Error"},{id:"success",label:"Success"}],condition:{triggerMode:"",executionStatus:""},maintainerOptions:[],websocket:Object}},props:{color:String},created:function(){Object(i["r"])("PROJECT_API_SCENARIO:READ")&&(this.condition.executor=Object(i["h"])().id)},watch:{taskVisible:function(e){e||this.close()}},methods:{format:function(e){return""},getMaintainerOptions:function(){var e=this;this.$post("/user/project/member/tester/list",{projectId:Object(i["g"])()},(function(t){e.maintainerOptions=t.data,e.condition.executor=Object(i["h"])().id}))},initWebSocket:function(){var e="ws://";"https:"===window.location.protocol&&(e="wss://");var t=e+window.location.host+"/task/center/count/running/"+Object(i["g"])();this.websocket=new WebSocket(t),this.websocket.onmessage=this.onMessage,this.websocket.onopen=this.onOpen,this.websocket.onerror=this.onError,this.websocket.onclose=this.onClose},onOpen:function(){},onError:function(e){},onMessage:function(e){var t=this,n=e.data;this.runningTotal=n,this.initIndex++,this.taskVisible&&n>0&&this.initEnd&&setTimeout((function(){t.initEnd=!1,t.init()}),3e3)},onClose:function(e){},showTaskCenter:function(){this.getTaskRunning(),this.getMaintainerOptions(),this.init(),this.taskVisible=!0},close:function(){this.visible=!1,this.taskVisible=!1,this.websocket.close()},open:function(){this.showTaskCenter(),this.initIndex=0},getPercentage:function(e){if(e){if(e=e.toLowerCase(),"waiting"===e)return 0;if("saved"===e||"completed"===e||"success"===e||"error"===e)return 100}return 60},getModeName:function(e){switch(e){case"SCENARIO":return this.$t("test_track.scenario_test_case");case"PERFORMANCE":return this.$t("test_track.performance_test_case");case"API":return this.$t("test_track.api_test_case")}},showReport:function(e,t){var n=e.executionStatus;if(n)if(n=e.executionStatus.toLowerCase(),"saved"===n||"completed"===n||"success"===n||"error"===n)switch(this.taskVisible=!1,e.executionModule){case"SCENARIO":this.$router.push({path:"/api/automation/report/view/"+e.id});break;case"PERFORMANCE":this.$router.push({path:"/performance/report/view/"+e.id});break;case"API":this.getExecResult(e.id);break}else this.$warning("正在运行中，请稍后查看")},getExecResult:function(e){var t=this;if(e){var n="/api/definition/report/get/"+e;this.$get(n,(function(e){if(e.data){var n=JSON.parse(e.data.content);t.response=n,t.visible=!0}}))}},getMode:function(e){return"MANUAL"===e?this.$t("commons.trigger_mode.manual"):"SCHEDULE"===e||"TEST_PLAN_SCHEDULE"===e?this.$t("commons.trigger_mode.schedule"):"API"===e?this.$t("commons.trigger_mode.api"):"BATCH"===e?this.$t("api_test.automation.batch_execute"):e},getTaskRunning:function(){this.initWebSocket()},calculationRunningTotal:function(){var e=this;if(this.taskData){var t=0;this.taskData.forEach((function(n){100!==e.getPercentage(n.executionStatus)&&t++})),this.runningTotal=t}},init:function(){var e=this;this.result.loading=!0,this.condition.projectId=Object(i["g"])(),this.result=this.$post("/task/center/list",this.condition,(function(t){e.taskData=t.data,e.calculationRunningTotal(),e.initEnd=!0}))}}},u=c,l=(n("aeef"),n("1504"),n("cba8")),d=Object(l["a"])(u,s,a,!1,null,"09335841",null);t["a"]=d.exports},5560:function(e,t,n){"use strict";n("c048")},5847:function(e,t,n){},"5edf":function(e,t,n){"use strict";n("2a47")},"6b2b":function(e,t,n){"use strict";var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"metric-container"},[n("el-row",{attrs:{type:"flex"}},[n("el-col",[n("div",{staticStyle:{"font-size":"14px",color:"#AAAAAA",float:"left"}},[e._v(e._s(e.$t("api_report.response_code"))+" :")]),n("el-tooltip",{attrs:{content:e.response.responseResult.responseCode,placement:"top"}},[n("div",{staticClass:"node-title"},[e._v(" "+e._s(e.response.responseResult&&e.response.responseResult.responseCode?e.response.responseResult.responseCode:"0")+" ")])])],1),n("el-col",[n("div",{staticStyle:{"font-size":"14px",color:"#AAAAAA",float:"left"}},[e._v(e._s(e.$t("api_report.response_time"))+" :")]),n("div",{staticStyle:{"font-size":"14px",color:"#61C550","margin-top":"2px","margin-left":"10px",float:"left"}},[e._v(e._s(e.response.responseResult&&e.response.responseResult.responseTime?e.response.responseResult.responseTime:0)+" ms")])]),n("el-col",[n("div",{staticStyle:{"font-size":"14px",color:"#AAAAAA",float:"left"}},[e._v(e._s(e.$t("api_report.response_size"))+" :")]),n("div",{staticStyle:{"font-size":"14px",color:"#61C550","margin-top":"2px","margin-left":"10px",float:"left"}},[e._v(e._s(e.response.responseResult&&e.response.responseResult.responseSize?e.response.responseResult.responseSize:0)+" bytes")])])],1)],1)},a=[],o={name:"MsRequestMetric",props:{response:Object},computed:{error:function(){return this.response&&this.response.responseCode&&this.response.responseCode>=400}}},i=o,r=(n("953b"),n("cba8")),c=Object(r["a"])(i,s,a,!1,null,"7e3cba49",null);t["a"]=c.exports},"8ed4":function(e,t,n){},"90ab":function(e,t,n){"use strict";n("42f1")},"953b":function(e,t,n){"use strict";n("2cde")},"9c77":function(e,t,n){"use strict";n("cc17")},a5d4:function(e,t,n){"use strict";var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"request-result"},[e.showMetric?n("ms-request-metric",{attrs:{response:e.response}}):e._e(),n("ms-response-result",{attrs:{currentProtocol:e.currentProtocol,response:e.response}})],1)},a=[],o=n("cc87"),i=n("6b2b"),r={name:"MsRequestResultTail",components:{MsRequestMetric:i["a"],MsResponseResult:o["a"]},props:{response:Object,currentProtocol:String,showMetric:{type:Boolean,default:function(){return!0}}},data:function(){return{isCodeEditAlive:!0}},methods:{reload:function(){var e=this;this.isCodeEditAlive=!1,this.$nextTick((function(){return e.isCodeEditAlive=!0}))}}},c=r,u=(n("2328"),n("cba8")),l=Object(u["a"])(c,s,a,!1,null,"3b84d828",null);t["a"]=l.exports},aeef:function(e,t,n){"use strict";n("51c0")},ba4a:function(e,t,n){},bc5b:function(e,t,n){"use strict";var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dropdown",{staticClass:"ms-dropdown",on:{command:e.handleCommand}},[e._t("default",(function(){return[n("span",{staticClass:"el-dropdown-link"},[e._v(" "+e._s(e.currentCommand)+" "),n("i",{staticClass:"el-icon-arrow-down el-icon--right"})])]})),n("el-dropdown-menu",{attrs:{slot:"dropdown",chang:""},slot:"dropdown"},e._l(e.commands,(function(t,s){return n("el-dropdown-item",{key:s,attrs:{command:t}},[e._v(" "+e._s(t)+" ")])})),1)],2)},a=[],o={name:"MsDropdown",data:function(){return{currentCommand:""}},props:{commands:{type:Array},defaultCommand:{type:String}},created:function(){this.defaultCommand?this.currentCommand=this.defaultCommand:this.commands&&this.commands.length>0&&(this.currentCommand=this.commands[0])},methods:{handleCommand:function(e){this.currentCommand=e,this.$emit("command",e)}}},i=o,r=(n("5560"),n("cba8")),c=Object(r["a"])(i,s,a,!1,null,"03795a69",null);t["a"]=c.exports},c048:function(e,t,n){},c5af:function(e,t,n){"use strict";n("5847")},c7e5:function(e,t,n){},cbb0:function(e,t,n){},cc17:function(e,t,n){},cc87:function(e,t,n){"use strict";var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"text-container"},[n("el-tabs",{directives:[{name:"show",rawName:"v-show",value:e.isActive,expression:"isActive"}],model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[n("el-tab-pane",{staticClass:"pane",attrs:{label:e.$t("api_test.definition.request.response_body"),name:"body"}},[e.isSqlType?n("ms-sql-result-table",{attrs:{body:e.response.responseResult.body}}):e._e(),!e.isSqlType&&e.isMsCodeEditShow?n("ms-code-edit",{ref:"codeEdit",attrs:{mode:e.mode,"read-only":!0,modes:e.modes,data:e.response.responseResult.body},on:{"update:data":function(t){return e.$set(e.response.responseResult,"body",t)}}}):e._e()],1),n("el-tab-pane",{staticClass:"pane",attrs:{label:e.$t("api_test.definition.request.response_header"),name:"headers"}},[n("ms-code-edit",{attrs:{mode:"text","read-only":!0,data:e.response.responseResult.headers},on:{"update:data":function(t){return e.$set(e.response.responseResult,"headers",t)}}})],1),n("el-tab-pane",{staticClass:"pane",attrs:{label:e.$t("api_test.definition.request.console"),name:"console"}},[n("ms-code-edit",{attrs:{mode:"text","read-only":!0,data:e.response.responseResult.console},on:{"update:data":function(t){return e.$set(e.response.responseResult,"console",t)}}})],1),n("el-tab-pane",{staticClass:"pane assertions",attrs:{label:e.$t("api_report.assertions"),name:"assertions"}},[n("ms-assertion-results",{attrs:{assertions:e.response.responseResult.assertions}})],1),n("el-tab-pane",{staticClass:"pane",attrs:{label:e.$t("api_test.request.extract.label"),name:"label"}},[n("ms-code-edit",{attrs:{mode:"text","read-only":!0,data:e.response.responseResult.vars},on:{"update:data":function(t){return e.$set(e.response.responseResult,"vars",t)}}})],1),n("el-tab-pane",{staticClass:"pane",attrs:{label:e.$t("api_report.request_body"),name:"request_body"}},[n("ms-code-edit",{attrs:{mode:"text","read-only":!0,data:e.reqMessages},on:{"update:data":function(t){e.reqMessages=t}}})],1),"body"==e.activeName?n("el-tab-pane",{staticClass:"pane cookie",attrs:{disabled:!0,name:"mode"},scopedSlots:e._u([{key:"label",fn:function(){return["SQL"===e.currentProtocol?n("ms-dropdown",{attrs:{commands:e.sqlModes,"default-command":e.mode},on:{command:e.sqlModeChange}}):n("ms-dropdown",{ref:"modeDropdown",attrs:{commands:e.modes,"default-command":e.mode},on:{command:e.modeChange}})]},proxy:!0}],null,!1,1722751076)}):e._e()],1)],1)},a=[],o=n("1558"),i=n("1746"),r=n("bc5b"),c=n("a70b"),u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",e._l(e.tables,(function(t,s){return n("el-table",{key:s,attrs:{data:t.tableData,border:"",size:"mini","highlight-current-row":""}},e._l(t.titles,(function(t,s){return n("el-table-column",{key:s,attrs:{label:t,"min-width":"150px"},scopedSlots:e._u([{key:"default",fn:function(s){return[n("el-popover",{attrs:{placement:"top",trigger:"click"}},[n("el-container",[n("div",[e._v(e._s(s.row[t]))])]),n("span",{staticClass:"table-content",attrs:{slot:"reference"},slot:"reference"},[e._v(e._s(s.row[t]))])],1)]}}],null,!0)})})),1)})),1)},l=[],d=(n("4c1e"),n("fee8"),n("acc0"),n("993f"),{name:"MsSqlResultTable",data:function(){return{tables:[],titles:[]}},props:{body:String},created:function(){if(this.body){var e=this.body.split("\n");if(e.length>100&&(e=e.slice(0,100)),this.getTableData(e),this.tables.length>1){for(var t=0;t<this.tables.length;t++)1===this.tables[t].titles.length&&t<this.tables.length-1&&this.tables[t].tableData.splice(this.tables[t].tableData.length-1,1);var n=this.tables[this.tables.length-1];1===n.titles.length&&n.tableData.length>4?n.tableData.splice(n.tableData.length-4,4):this.tables.splice(this.tables.length-1,1)}else{var s=this.tables[0];s.tableData.splice(s.tableData.length-4,4)}}},methods:{getTableData:function(e){for(var t,n=[],s=0;s<e.length;s++){var a=e[s].split("\t");if(0===s)t=a;else{if(a.length!=t.length){1===a.length&&""===a[0]?this.getTableData(e.slice(s+1)):this.getTableData(e.slice(s));break}for(var o={},i=0;i<a.length;i++)o[t[i]]=a[i]?a[i]:"";n.push(o)}}this.tables.splice(0,0,{titles:t,tableData:n})}}}),h=d,f=(n("4c41"),n("cba8")),p=Object(f["a"])(h,u,l,!1,null,"77f3b2c0",null),m=p.exports,b={name:"MsResponseResult",components:{MsDropdown:r["a"],MsCodeEdit:i["a"],MsAssertionResults:o["a"],MsSqlResultTable:m},props:{response:Object,currentProtocol:String},data:function(){return{isActive:!0,activeName:"body",modes:["text","json","xml","html"],sqlModes:["text","table"],mode:c["e"].TEXT,isMsCodeEditShow:!0,reqMessages:""}},watch:{response:function(){this.setBodyType(),this.setReqMessage()}},methods:{modeChange:function(e){this.mode=e},sqlModeChange:function(e){this.mode=e},setBodyType:function(){var e=this;this.response.responseResult&&this.response.responseResult.headers&&this.response.responseResult.headers.indexOf("Content-Type: application/json")>0&&(this.mode=c["e"].JSON,this.$nextTick((function(){e.$refs.modeDropdown&&(e.$refs.modeDropdown.handleCommand(c["e"].JSON),e.msCodeReload())})))},msCodeReload:function(){var e=this;this.isMsCodeEditShow=!1,this.$nextTick((function(){e.isMsCodeEditShow=!0}))},setReqMessage:function(){this.response&&(this.response.url||(this.response.url=""),this.response.headers||(this.response.headers=""),this.response.cookies||(this.response.cookies=""),this.response.body||(this.response.body=""),this.response.responseResult||(this.response.responseResult={}),this.response.responseResult.vars||(this.response.responseResult.vars=""),this.reqMessages=this.$t("api_test.request.address")+":\n"+this.response.url+"\n"+this.$t("api_test.scenario.headers")+":\n"+this.response.headers+"\nCookies :\n"+this.response.cookies+"\nBody:\n"+this.response.body)}},mounted:function(){this.setBodyType(),this.setReqMessage()},computed:{isSqlType:function(){return"SQL"===this.currentProtocol&&"200"===this.response.responseResult.responseCode&&"table"===this.mode}}},g=b,k=(n("90ab"),Object(f["a"])(g,s,a,!1,null,"3ff0b364",null));t["a"]=k.exports},d50c:function(e,t,n){},f4ae:function(e,t,n){e.exports=n.p+"img/favicon-彩色.e0c40abe.png"},f768:function(e,t,n){"use strict";n("ba4a")}});