(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-23f9a90a"],{"0b84":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("p",[e._v(" "+e._s(e.title)+" ")])},l=[],o={name:"MsFormDivider",props:["title"]},s=o,i=(a("f408"),a("cba8")),r=Object(i["a"])(s,n,l,!1,null,"0ff6e69f",null);t["a"]=r.exports},"3d65":function(e,t,a){"use strict";a("9372")},"438e":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",["select"===e.data.type||"multipleSelect"===e.data.type?a("el-select",{attrs:{disabled:e.disabled,multiple:"multipleSelect"===e.data.type,filterable:"",placeholder:e.$t("commons.default")},on:{change:e.handleChange},model:{value:e.data[e.prop],callback:function(t){e.$set(e.data,e.prop,t)},expression:"data[prop]"}},e._l(e.data.options?e.data.options:[],(function(t,n){return a("el-option",{key:n,attrs:{label:e.getTranslateOption(t),value:t.value},on:{change:e.handleChange}})})),1):"textarea"===e.data.type?a("el-input",{staticClass:"custom-with",attrs:{type:"textarea",rows:2,disabled:e.disabled,placeholder:e.$t("commons.input_content")},on:{change:e.handleChange},model:{value:e.data[e.prop],callback:function(t){e.$set(e.data,e.prop,t)},expression:"data[prop]"}}):"checkbox"===e.data.type?a("el-checkbox-group",{attrs:{disabled:e.disabled},model:{value:e.data[e.prop],callback:function(t){e.$set(e.data,e.prop,t)},expression:"data[prop]"}},e._l(e.data.options?e.data.options:[],(function(t,n){return a("el-checkbox",{key:n,attrs:{label:e.getTranslateOption(t)},on:{change:e.handleChange}})})),1):"radio"===e.data.type?e._l(e.data.options?e.data.options:[],(function(t,n){return a("el-radio",{key:n,attrs:{disabled:e.disabled,label:e.getTranslateOption(t)},on:{change:e.handleChange},model:{value:e.data[e.prop],callback:function(t){e.$set(e.data,e.prop,t)},expression:"data[prop]"}})})):"int"===e.data.type?a("el-input-number",{attrs:{disabled:e.disabled},on:{change:e.handleChange},model:{value:e.data[e.prop],callback:function(t){e.$set(e.data,e.prop,t)},expression:"data[prop]"}}):"float"===e.data.type?a("el-input-number",{attrs:{disabled:e.disabled,precision:2,step:.1},on:{change:e.handleChange},model:{value:e.data[e.prop],callback:function(t){e.$set(e.data,e.prop,t)},expression:"data[prop]"}}):"data"===e.data.type?a("el-date-picker",{staticClass:"custom-with",attrs:{disabled:e.disabled,type:"date",placeholder:e.$t("commons.select_date")},on:{change:e.handleChange},model:{value:e.data[e.prop],callback:function(t){e.$set(e.data,e.prop,t)},expression:"data[prop]"}}):"member"===e.data.type||"multipleMember"===e.data.type?a("el-select",{attrs:{multiple:"multipleMember"===e.data.type,disabled:e.disabled,filterable:"",placeholder:e.$t("commons.default")},on:{change:e.handleChange},model:{value:e.data[e.prop],callback:function(t){e.$set(e.data,e.prop,t)},expression:"data[prop]"}},e._l(e.memberOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name+" ("+e.id+")",value:e.id}})})),1):a("el-input",{staticClass:"custom-with",attrs:{disabled:e.disabled},on:{change:e.handleChange},model:{value:e.data[e.prop],callback:function(t){e.$set(e.data,e.prop,t)},expression:"data[prop]"}})],2)},l=[],o=(a("10dd"),a("625a")),s=a("495f"),i={name:"CustomFiledComponent",components:{MsTableColumn:o["a"]},props:["data","prop","form","disabled"],data:function(){return{memberOptions:[]}},mounted:function(){var e=this;"member"!==this.data.type&&"multipleMember"!==this.data.type||this.$post("/user/project/member/tester/list",{projectId:Object(s["g"])()},(function(t){e.memberOptions=t.data}))},methods:{getTranslateOption:function(e){return e.system?this.$t(e.text):e.text},handleChange:function(){this.form&&(this.$set(this.form,this.data.name,this.data[this.prop]),this.$emit("reload"))}}},r=i,d=a("cba8"),u=Object(d["a"])(r,n,l,!1,null,"3d065cc6",null);t["a"]=u.exports},"7d7c":function(e,t,a){},"8d17":function(e,t,a){"use strict";a("7d7c")},9345:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form-item",{attrs:{disable:!0,label:e.title,prop:e.prop,"label-width":e.labelWidth}},[e.active?a("mavon-editor",{ref:"md",staticClass:"mavon-editor",attrs:{editable:!e.disabled,"default-open":e.disabled?"preview":null,subfield:!e.disabled,toolbars:e.toolbars,language:e.language,toolbarsFlag:!e.disabled},on:{imgAdd:e.imgAdd,imgDel:e.imgDel},model:{value:e.data[e.prop],callback:function(t){e.$set(e.data,e.prop,t)},expression:"data[prop]"}}):e._e()],1)},l=[],o=(a("10dd"),a("495f")),s={name:"FormRichTextItem",components:{},props:["data","title","prop","disabled","labelWidth"],data:function(){return{toolbars:{bold:!0,italic:!0,header:!0,underline:!0,strikethrough:!0,mark:!0,superscript:!0,subscript:!0,quote:!0,ol:!0,ul:!0,link:!0,imagelink:!0,code:!0,table:!0,fullscreen:!0,readmodel:!0,htmlcode:!0,help:!0,undo:!0,redo:!0,trash:!0,save:!1,navigation:!0,alignleft:!0,aligncenter:!0,alignright:!0,subfield:!0,preview:!0}}},computed:{active:function(){return void 0!==this.data[this.prop]},language:function(){var e=Object(o["h"])(),t=e.language;switch(t){case"zh_CN":return"zh-CN";case"zh_TW":return"zh-TW";case"en_US":return"en";default:return"zh-CN"}}},methods:{imgAdd:function(e,t){var a=this,n={id:Object(o["m"])().substring(0,8)};t.prefix=n.id,this.result=this.$fileUpload("/resource/md/upload",t,null,n,(function(){a.$success(a.$t("commons.save_success")),a.$refs.md.$img2Url(e,"/resource/md/get/"+n.id+"_"+t.name)})),this.$emit("imgAdd",t)},imgDel:function(e){e&&this.$get("/resource/md/delete/"+e[1].prefix+"_"+e[1].name)}}},i=s,r=(a("3d65"),a("cba8")),d=Object(r["a"])(i,n,l,!1,null,"03109403",null);t["a"]=d.exports},9372:function(e,t,a){},"9b10":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{"close-on-click-modal":e.closeOnClickModal,title:e.title,width:e.width,visible:e.visible,"destroy-on-close":"","append-to-body":e.appendToBody},on:{close:e.handleClose},scopedSlots:e._u([{key:"footer",fn:function(){return[e._t("footer",(function(){return[e.withFooter?a("div",{staticClass:"dialog-footer"},[a("ms-dialog-footer",{on:{cancel:e.handleCancel,confirm:e.handleConfirm}})],1):e._e()]}))]},proxy:!0}],null,!0)},[e._t("header"),e._t("default")],2)},l=[],o=a("15bc"),s={name:"MsEditDialog",components:{MsDialogFooter:o["a"]},props:{title:{type:String,default:function(){return"title"}},visible:{type:Boolean,default:function(){return!1}},appendToBody:{type:Boolean,default:function(){return!1}},width:{type:String,default:function(){return"50%"}},withFooter:{type:Boolean,default:function(){return!0}},closeOnClickModal:{type:Boolean,default:!1}},methods:{handleConfirm:function(){this.$emit("confirm")},handleCancel:function(){this.handleClose(),this.$emit("cancel")},handleClose:function(){this.$emit("update:visible",!1),this.$emit("close")}}},i=s,r=a("cba8"),d=Object(r["a"])(i,n,l,!1,null,"699b7428",null);t["a"]=d.exports},ca90:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ms-edit-dialog",{ref:"msEditDialog",attrs:{appendToBody:"",width:"70%",visible:e.visible,title:e.$t("custom_field.add_field")},on:{"update:visible":function(t){e.visible=t},confirm:e.save},scopedSlots:e._u([{key:"header",fn:function(){return[a("ms-table-header",{attrs:{condition:e.condition,"show-create":!1},on:{"update:condition":function(t){e.condition=t},search:e.initTableData}})]},proxy:!0}])},[a("ms-table",{directives:[{name:"loading",rawName:"v-loading",value:e.result.loading,expression:"result.loading"}],ref:"table",attrs:{data:e.tableData,condition:e.condition,total:e.total,"show-select-all":!1,"page-size":e.pageSize},on:{"update:pageSize":function(t){e.pageSize=t},"update:page-size":function(t){e.pageSize=t},handlePageChange:e.initTableData,refresh:e.initTableData}},[a("ms-table-column",{attrs:{label:e.$t("commons.name"),fields:e.fields,prop:"name"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.system?a("span",[e._v(" "+e._s(e.$t(e.systemNameMap[t.row.name]))+" ")]):a("span",[e._v(" "+e._s(t.row.name)+" ")])]}}])}),a("ms-table-column",{attrs:{label:e.$t("custom_field.attribute_type"),fields:e.fields,filters:e.fieldFilters,prop:"type"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.fieldTypeMap[t.row.type]))])]}}])}),a("ms-table-column",{attrs:{label:e.$t("custom_field.system_field"),fields:e.fields,prop:"system"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.system?a("span",[e._v(" "+e._s(e.$t("commons.yes"))+" ")]):a("span",[e._v(" "+e._s(e.$t("commons.no"))+" ")])]}}])}),a("ms-table-column",{attrs:{label:e.$t("commons.remark"),fields:e.fields,prop:"remark"}}),a("ms-table-column",{attrs:{sortable:"",label:e.$t("commons.create_time"),fields:e.fields,prop:"createTime"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e._f("timestampFormatDate")(t.row.createTime)))])]}}])}),a("ms-table-column",{attrs:{sortable:"",label:e.$t("commons.update_time"),fields:e.fields,prop:"updateTime"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e._f("timestampFormatDate")(t.row.updateTime)))])]}}])})],1),a("ms-table-pagination",{attrs:{change:e.initTableData,"current-page":e.currentPage,"page-size":e.pageSize,total:e.total},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"update:pageSize":function(t){e.pageSize=t},"update:page-size":function(t){e.pageSize=t}}})],1)},l=[],o=(a("e766"),a("b110"),a("0ac8")),s=a("495f"),i=a("625a"),r=a("cf5a"),d=a("ae75"),u=a("59d9"),c=a("e5a9"),p=a("10b9"),m=a("9b10"),f={name:"CustomFieldRelateList",components:{MsEditDialog:m["a"],MsTableHeader:p["a"],MsTablePagination:u["a"],MsTableButton:d["a"],MsTableColumn:i["a"],MsTable:o["a"]},data:function(){return{tableData:[],condition:{},visible:!1,total:0,pageSize:10,currentPage:1,result:{}}},props:["scene","templateId","templateContainIds"],computed:{fields:function(){return r["a"]},fieldFilters:function(){return c["d"]},fieldTypeMap:function(){return c["e"]},sceneMap:function(){return c["i"]},systemNameMap:function(){return c["j"]}},methods:{initTableData:function(){var e=this;this.condition.workspaceId=Object(s["j"])(),this.condition.templateId=this.templateId,this.condition.templateContainIds=Array.from(this.templateContainIds);var t=this.condition.filters;t?t.scene=[this.scene]:this.condition.filters={scene:[this.scene]},this.scene&&(this.result=this.$post("custom/field/list/relate/"+this.currentPage+"/"+this.pageSize,this.condition,(function(t){var a=t.data;e.total=a.itemCount,e.tableData=a.listObject,e.$refs.table.reloadTable()})))},open:function(){this.initTableData(),this.visible=!0},save:function(){this.$emit("save",this.$refs.table.selectIds),this.visible=!1}}},b=f,h=a("cba8"),_=Object(h["a"])(b,n,l,!1,null,"63b1f1b6",null);t["a"]=_.exports},d4ca:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ms-table",{directives:[{name:"loading",rawName:"v-loading",value:e.result.loading,expression:"result.loading"}],ref:"table",attrs:{"enable-selection":!1,operators:e.operators,data:e.tableData,"screen-height":null},on:{refresh:e.refreshTable}},[a("ms-table-column",{attrs:{label:e.$t("commons.name"),prop:"name"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.system?a("span",[e._v(" "+e._s(e.$t(e.systemNameMap[t.row.name]))+" ")]):a("span",[e._v(" "+e._s(t.row.name)+" ")])]}}])}),a("ms-table-column",{attrs:{label:e.$t("commons.default"),"min-width":"200",prop:"type"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("el-scrollbar",[a("custom-filed-component",{staticClass:"default-value-item",attrs:{data:e.row,prop:"defaultValue"}})],1)]}}])}),a("field-custom-data-table-item",{attrs:{scene:e.scene}}),a("ms-table-column",{attrs:{label:e.$t("api_test.definition.document.table_coloum.is_required"),width:"80",prop:"type"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-checkbox",{model:{value:t.row.required,callback:function(a){e.$set(t.row,"required",a)},expression:"scope.row.required"}})]}}])}),a("ms-table-column",{attrs:{label:e.$t("custom_field.system_field"),width:"80",prop:"system"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.system?a("span",[e._v(" "+e._s(e.$t("commons.yes"))+" ")]):a("span",[e._v(" "+e._s(e.$t("commons.no"))+" ")])]}}])}),a("ms-table-column",{attrs:{label:e.$t("commons.remark"),prop:"remark"}})],1)},l=[],o=a("045d"),s=(a("10dd"),a("89a8"),a("d25d"),a("b110"),a("fe35"),a("993f"),a("1a91"),a("be8e")),i=a("0ac8"),r=a("625a"),d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.isShow?a("ms-table-column",{staticClass:"custom-with",attrs:{label:e.$t("custom_field.api_field_name"),prop:"customData"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{placeholder:e.$t("commons.input_content")},model:{value:t.row.customData,callback:function(a){e.$set(t.row,"customData",a)},expression:"scope.row.customData"}})]}}],null,!1,4030906082)}):e._e()},u=[],c={name:"FieldCustomDataTableItem",components:{MsTableColumn:r["a"]},props:["scene"],computed:{isShow:function(){return"ISSUE"===this.scene}}},p=c,m=a("cba8"),f=Object(m["a"])(p,d,u,!1,null,"719d9144",null),b=f.exports,h=a("438e"),_=a("e5a9"),v={name:"CustomFieldFormList",components:{CustomFiledComponent:h["a"],FieldCustomDataTableItem:b,MsTableColumn:r["a"],MsTable:i["a"],MsTableOperatorButton:s["a"]},data:function(){return{result:{},operators:[{tip:this.$t("commons.delete"),icon:"el-icon-delete",type:"danger",exec:this.handleDelete,isDisable:function(e){return"用例等级"===e.name}}]}},props:{tableData:{type:Array,default:function(){return[]}},scene:String,platform:String,templateContainIds:Set},watch:{"customFieldIds.length":function(){this.initTableData()}},computed:{systemNameMap:function(){return _["j"]}},methods:{handleDelete:function(e,t){this.templateContainIds.delete(e.fieldId),this.tableData.splice(t,1)},refreshTable:function(){this.$refs.table.reloadTable()},appendData:function(e){var t=this,a={};a.ids=e,this.result=this.$post("custom/field/list",a,(function(e){var a,n=e.data;n.forEach((function(e){e.id&&t.templateContainIds.add(e.id),e.fieldId=e.id,e.id=null,e.options=JSON.parse(e.options),"checkbox"===e.type&&(e.defaultValue=[])})),(a=t.tableData).push.apply(a,Object(o["a"])(n))}))}}},g=v,y=(a("8d17"),Object(m["a"])(g,n,l,!1,null,"6a7f88a0",null));t["a"]=y.exports},e195:function(e,t,a){},e5a9:function(e,t,a){"use strict";a.d(t,"d",(function(){return l})),a.d(t,"c",(function(){return o})),a.d(t,"b",(function(){return s})),a.d(t,"f",(function(){return i})),a.d(t,"e",(function(){return r})),a.d(t,"i",(function(){return d})),a.d(t,"j",(function(){return u})),a.d(t,"g",(function(){return c})),a.d(t,"a",(function(){return p})),a.d(t,"k",(function(){return m})),a.d(t,"h",(function(){return f}));var n=a("0692"),l=[{value:"input",text:"输入框"},{value:"textarea",text:"文本框"},{value:"select",text:"单选下拉列表"},{value:"multipleSelect",text:"多选下拉列表"},{value:"radio",text:"单选框"},{value:"checkbox",text:"多选框"},{value:"member",text:"单选成员"},{value:"multipleMember",text:"多选成员"},{value:"data",text:"日期"},{value:"int",text:"整型"},{value:"float",text:"浮点型"}],o=[{value:"TEST_CASE",text:"用例模板"},{value:"ISSUE",text:"缺陷模板"}],s=[{value:"functional",text:"功能用例"}],i=[{value:"metersphere",text:"Metersphere"},{value:"Jira",text:"JIRA"},{value:"Tapd",text:"Tapd"},{value:"Zentao",text:"禅道"},{value:"AzureDevops",text:"Azure Devops"}],r={input:"输入框",textarea:"文本框",select:"单选下拉列表",multipleSelect:"多选下拉列表",radio:"单选框",checkbox:"多选框",member:"单选成员",multipleMember:"多选成员",data:"日期",int:"整型",float:"浮点型"},d={ISSUE:"缺陷模板",TEST_CASE:"用例模板"},u={"用例状态":"custom_field.case_status","责任人":"custom_field.case_maintainer","用例等级":"custom_field.case_priority","创建人":"custom_field.issue_creator","处理人":"custom_field.issue_processor","状态":"custom_field.issue_status","严重程度":"custom_field.issue_severity"},c={new:"新建",closed:"已关闭",resolved:"已解决",active:"激活",delete:"已删除"},p={LEVEL_FILTERS:[{text:"P0",value:"P0"},{text:"P1",value:"P1"},{text:"P2",value:"P2"},{text:"P3",value:"P3"}],RESULT_FILTERS:[{text:"Fail",value:"Fail"},{text:"Success",value:"Success"}],STATUS_FILTERS:[{text:n["default"].t("test_track.plan.plan_status_prepare"),value:"Prepare"},{text:n["default"].t("test_track.plan.plan_status_running"),value:"Underway"},{text:n["default"].t("test_track.plan.plan_status_completed"),value:"Completed"},{text:n["default"].t("test_track.plan.plan_status_trash"),value:"Trash"}]},m={SYSTEM:"系统",ORGANIZATION:"组织",WORKSPACE:"工作空间",PROJECT:"项目"},f={TRACK:"测试跟踪",API:"接口测试",PERFORMANCE:"性能测试",REPORT:"报告统计"}},f408:function(e,t,a){"use strict";a("e195")}}]);