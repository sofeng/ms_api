(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-867bfde2"],{"0057":function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-card",{staticClass:"ms-cards"},[s("div",{staticClass:"request-result"},[s("div",{on:{click:e.active}},[s("el-row",{staticClass:"info",attrs:{gutter:10,type:"flex",align:"middle"}},[void 0!=e.indexNumber?s("el-col",{attrs:{span:10}},[s("el-tooltip",{attrs:{content:e.getName(e.request.name),placement:"top"}},[s("div",{staticClass:"method ms-req-name"},[s("div",{staticClass:"el-step__icon is-text ms-api-col-create"},[s("div",{staticClass:"el-step__icon-inner"},[e._v(" "+e._s(e.indexNumber))])]),s("i",{staticClass:"icon el-icon-arrow-right",class:{"is-active":e.isActive},on:{click:[e.active,function(e){e.stopPropagation()}]}}),e._v(" "+e._s(e.getName(e.request.name))+" ")])])],1):e._e(),s("el-col",{attrs:{span:9}},[s("el-tooltip",{staticStyle:{overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap"},attrs:{effect:"dark",content:e.request.responseResult.responseCode,placement:"bottom","open-delay":800}},[e.request.success?s("div",{staticStyle:{color:"#5daf34"}},[e._v(" "+e._s(e.request.responseResult.responseCode)+" ")]):s("div",{staticStyle:{color:"#FE6F71"}},[e._v(" "+e._s(e.request.responseResult.responseCode)+" ")])])],1),s("el-col",{attrs:{span:3}},[e.request.success?s("span",[e._v(" "+e._s(e.request.responseResult.responseTime)+" ms ")]):s("span",{staticStyle:{color:"#FE6F71"}},[e._v(" "+e._s(e.request.responseResult.responseTime)+" ms ")])]),s("el-col",{attrs:{span:2}},[s("div",[e.request.unexecute?s("el-tag",{attrs:{size:"mini"}},[e._v(e._s(e.$t("api_test.home_page.detail_card.unexecute")))]):e.request.success?s("el-tag",{attrs:{size:"mini",type:"success"}},[e._v(" "+e._s(e.$t("api_report.success")))]):s("el-tag",{attrs:{size:"mini",type:"danger"}},[e._v(" "+e._s(e.$t("api_report.fail")))])],1)])],1)],1),s("el-collapse-transition",[s("div",{directives:[{name:"show",rawName:"v-show",value:e.isActive&&!e.request.unexecute,expression:"isActive && !request.unexecute"}],staticStyle:{width:"99%"}},[e.isActive?s("ms-request-result-tail",{attrs:{"scenario-name":e.scenarioName,"request-type":e.requestType,request:e.request,console:e.console}}):e._e()],1)])],1)])},r=[],a=(s("51b3"),s("4c1e"),s("fee8"),s("ba4e"),s("cf9a")),n=s("d289"),o=s("15de"),c=s("a3ea"),l=s("72b2"),u={name:"MsRequestResult",components:{MsResponseText:c["a"],MsRequestText:o["a"],MsAssertionResults:n["a"],MsRequestMetric:a["a"],MsRequestResultTail:l["a"]},props:{request:Object,scenarioName:String,indexNumber:Number,console:String},data:function(){return{isActive:!1,requestType:"",color:{type:String,default:function(){return"#B8741A"}},backgroundColor:{type:String,default:function(){return"#F9F1EA"}}}},methods:{active:function(){this.request.unexecute?this.isActive=!1:this.isActive=!this.isActive},getName:function(e){if(e&&-1!==e.indexOf("<->"))return e.split("<->")[0];if(e&&-1!==e.indexOf("^@~@^")){var t=e.split("^@~@^"),s=t[t.length-1];return-1!==s.indexOf("UUID=")?s.split("UUID=")[0]:s&&s.startsWith("UUID=")?"":s&&-1!==s.indexOf("<->")?s.split("<->")[0]:s}return e&&e.startsWith("UUID=")?"":e}}},p=u,d=(s("7eb1"),s("cba8")),m=Object(d["a"])(p,i,r,!1,null,"37c358ba",null);t["a"]=m.exports},"0091":function(e,t,s){var i=s("0fd2"),r=i.match(/AppleWebKit\/(\d+)\./);e.exports=!!r&&+r[1]},"00f1":function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"report-export"},[s("ms-report-title",{attrs:{title:e.title,type:e.type}}),e._t("default")],2)},r=[],a=s("cd3e"),n={name:"MsReportExportTemplate",components:{MsReportTitle:a["a"]},props:{title:String,type:String}},o=n,c=(s("95ad"),s("cba8")),l=Object(c["a"])(o,i,r,!1,null,"e651856c",null);t["a"]=l.exports},"060e":function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"scenario-result"},[e.node.children&&e.node.children.length>0||e.node.unsolicited?s("div",[s("el-card",{staticClass:"ms-card"},[s("div",{staticClass:"el-step__icon is-text ms-api-col"},[s("div",{staticClass:"el-step__icon-inner"},[e._v(" "+e._s(e.node.index))])]),e._v(" "+e._s(e.node.label)+" ")])],1):s("div",[s("ms-request-result",{attrs:{request:e.node.value,indexNumber:e.node.index,scenarioName:e.node.label,console:e.console},on:{requestResult:e.requestResult}})],1)])},r=[],a=s("0057"),n={name:"MsScenarioResult",components:{MsRequestResult:a["a"]},props:{scenario:Object,node:Object,console:String},data:function(){return{isActive:!1}},methods:{active:function(){this.isActive=!this.isActive},requestResult:function(e){this.$emit("requestResult",e)}},computed:{assertion:function(){return this.scenario.passAssertions+" / "+this.scenario.totalAssertions},success:function(){return 0===this.scenario.error}}},o=n,c=(s("f6ba"),s("cba8")),l=Object(c["a"])(o,i,r,!1,null,"56b72c8c",null);t["a"]=l.exports},"0861":function(e,t,s){"use strict";s("bb54")},"0935":function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("header",{staticClass:"report-header"},[s("el-row",[s("el-col",[e.debug?e._e():s("span",[e.nameIsEdit?s("el-input",{staticStyle:{width:"200px"},attrs:{size:"mini"},on:{blur:function(t){return e.handleSave(e.report.name)}},model:{value:e.report.name,callback:function(t){e.$set(e.report,"name",t)},expression:"report.name"}}):s("span",[e.isSingleScenario?s("router-link",{attrs:{to:{name:"ApiAutomation",params:{dataSelectRange:"edit:"+e.scenarioId}}}},[e._v(" "+e._s(e.report.name)+" ")]):s("span",[e._v(" "+e._s(e.report.name)+" ")]),s("i",{staticClass:"el-icon-edit",staticStyle:{cursor:"pointer"},on:{click:[function(t){e.nameIsEdit=!0},function(e){e.stopPropagation()}]}})],1)],1),s("span",{staticClass:"time"},[e._v(" "+e._s(e._f("timestampFormatDate")(e.report.createTime)))]),!e.debug||e.exportFlag?s("el-button",{directives:[{name:"permission",rawName:"v-permission",value:["PROJECT_API_REPORT:READ+EXPORT"],expression:"['PROJECT_API_REPORT:READ+EXPORT']"}],staticClass:"export-button",staticStyle:{"margin-right":"10px"},attrs:{disabled:e.isReadOnly,plain:"",type:"primary",size:"mini"},on:{click:function(t){return e.handleExport(e.report.name)}}},[e._v(" "+e._s(e.$t("test_track.plan_view.export_report"))+" ")]):e._e()],1)],1)],1)},r=[],a={name:"MsApiReportViewHeader",props:{report:{},debug:Boolean,exportFlag:{type:Boolean,default:!1}},computed:{path:function(){return"/api/test/edit?id="+this.report.testId},scenarioId:function(){return"string"===typeof this.report.scenarioId?this.report.scenarioId:""},isSingleScenario:function(){try{return JSON.parse(this.report.scenarioId),!1}catch(e){return!0}}},data:function(){return{isReadOnly:!1,nameIsEdit:!1}},created:function(){},methods:{handleExport:function(e){this.$emit("reportExport",e)},handleSave:function(e){this.nameIsEdit=!1,this.$emit("reportSave",e)}}},n=a,o=(s("cc50"),s("cba8")),c=Object(o["a"])(n,i,r,!1,null,"8eb1820e",null);t["a"]=c.exports},"11fb":function(e,t,s){"use strict";s("5484")},"14fc":function(e,t,s){"use strict";s("5983")},"15de":function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"text-container"},[s("div",{staticClass:"collapse",on:{click:e.active}},[s("i",{staticClass:"icon el-icon-arrow-right",class:{"is-active":e.isActive}}),e._v(" "+e._s(e.$t("api_report.request"))+" ")]),s("el-collapse-transition",[s("el-tabs",{directives:[{name:"show",rawName:"v-show",value:e.isActive,expression:"isActive"}],model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[s("el-tab-pane",{staticClass:"pane",attrs:{label:"Body",name:"body"}},[s("pre",[e._v(e._s(e.request.body))])]),s("el-tab-pane",{staticClass:"pane",attrs:{label:"Headers",name:"headers"}},[s("pre",[e._v(e._s(e.request.headers))])]),s("el-tab-pane",{staticClass:"pane",attrs:{label:"Cookies",name:"cookies"}},[s("pre",[e._v(e._s(e.request.cookies))])])],1)],1)],1)},r=[],a={name:"MsRequestText",props:{request:Object},data:function(){return{isActive:!0,activeName:"body"}},methods:{active:function(){this.isActive=!this.isActive}}},n=a,o=(s("11fb"),s("cba8")),c=Object(o["a"])(n,i,r,!1,null,"6366a064",null);t["a"]=c.exports},"227b":function(e,t,s){"use strict";var i=s("8735"),r=s("58db"),a=s("3ffc"),n=s("8e74"),o=i.RangeError;e.exports=function(e){var t=a(n(this)),s="",i=r(e);if(i<0||i==1/0)throw o("Wrong number of repetitions");for(;i>0;(i>>>=1)&&(t+=t))1&i&&(s+=t);return s}},2334:function(e,t,s){"use strict";s("c836")},2599:function(e,t,s){"use strict";s("504d")},2838:function(e,t,s){"use strict";s("649f")},"2c3d0":function(e,t,s){},"32b2":function(e,t,s){},3838:function(e,t,s){},"3f21":function(e,t,s){},"49ff":function(e,t,s){"use strict";s("bd64")},"4a5d":function(e,t,s){},"504d":function(e,t,s){},5105:function(e,t,s){},"546a9":function(e,t,s){"use strict";s("32b2")},5484:function(e,t,s){},5560:function(e,t,s){"use strict";s("c048")},5983:function(e,t,s){},"5d1f":function(e,t,s){"use strict";s("5105")},"5f11":function(e,t,s){e.exports=s.p+"img/logo-MeterSphere.041f133a.png"},"649f":function(e,t,s){},"72b2":function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"request-result"},[s("div",[s("el-row",{staticClass:"info",attrs:{gutter:8,type:"flex",align:"middle"}},[s("el-col",{attrs:{span:2}},[s("div",{staticClass:"method"},[e._v(" "+e._s(e.request.method)+" ")])]),s("el-col",{attrs:{span:8}},[s("el-tooltip",{attrs:{effect:"dark",content:e.request.url,placement:"bottom","open-delay":800}},[s("div",{staticClass:"url"},[e._v(e._s(e.request.url))])])],1),s("el-col",{attrs:{span:8}},[s("div",{staticClass:"url"},[e._v(" "+e._s(e.$t("api_report.start_time"))+"："+e._s(e._f("timestampFormatDate")(e.request.startTime,!0))+" ")])])],1)],1),s("el-collapse-transition",[s("div",{directives:[{name:"show",rawName:"v-show",value:e.isActive,expression:"isActive"}]},[e.hasSub?s("el-tabs",{directives:[{name:"show",rawName:"v-show",value:e.isActive,expression:"isActive"}],model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[s("el-tab-pane",{attrs:{label:e.$t("api_report.sub_result"),name:"sub"}},e._l(e.request.subRequestResults,(function(e,t){return s("ms-request-sub-result",{key:t,staticClass:"sub-result",attrs:{indexNumber:t,request:e}})})),1),s("el-tab-pane",{attrs:{label:e.$t("api_report.request_result"),name:"result"}},[s("ms-response-text",{attrs:{console:e.console,"request-type":e.requestType,response:e.request.responseResult,request:e.request}})],1)],1):s("div",[e.isCodeEditAlive?s("ms-response-text",{attrs:{console:e.console,"request-type":e.requestType,response:e.request.responseResult,request:e.request}}):e._e()],1)],1)])],1)},r=[],a=s("cf9a"),n=s("d289"),o=s("15de"),c=s("a3ea"),l=s("0057"),u=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"request-result"},[s("p",{staticClass:"el-divider--horizontal"}),s("div",{on:{click:e.active}},[s("el-row",{staticClass:"info",attrs:{gutter:10,type:"flex",align:"middle"}},[void 0!=e.indexNumber?s("el-col",{attrs:{span:6}},[s("div",{staticClass:"method"},[s("div",{staticStyle:{overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap"}},[e.indexNumber%2==0?s("div",{staticClass:"el-step__icon is-text ms-api-col"},[s("div",{staticClass:"el-step__icon-inner"},[e._v(" "+e._s(e.indexNumber+1))])]):s("div",{staticClass:"el-step__icon is-text ms-api-col-create"},[s("div",{staticClass:"el-step__icon-inner"},[e._v(" "+e._s(e.indexNumber+1))])]),s("i",{staticClass:"icon el-icon-arrow-right",class:{"is-active":e.isActive},on:{click:[e.active,function(e){e.stopPropagation()}]}}),e._v(" "+e._s(e.request.name)+" ")])])]):e._e(),s("el-col",{attrs:{span:2}},[s("div",[e._v(" "+e._s(e.request.method)+" ")])]),s("el-col",{attrs:{span:6}},[s("div",{staticClass:"url"},[s("el-tooltip",{staticStyle:{overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap"},attrs:{content:e.request.url,placement:"bottom","open-delay":800}},[s("div",[e._v(" "+e._s(e.request.url)+" ")])])],1)]),s("el-col",{attrs:{span:5}},[s("el-tooltip",{attrs:{effect:"dark",content:e.request.responseResult.responseCode,placement:"bottom","open-delay":800}},[s("div",{staticClass:"url",staticStyle:{color:"#5daf34"}},[e._v(e._s(e.request.responseResult.responseCode))])])],1),s("el-col",{attrs:{span:3}},[e._v(" "+e._s(e.request.responseResult.responseTime)+" ms ")]),s("el-col",{attrs:{span:2}},[s("div",{staticClass:"success"},[e.request.success?s("el-tag",{attrs:{size:"mini",type:"success"}},[e._v(" "+e._s(e.$t("api_report.success"))+" ")]):s("el-tag",{attrs:{size:"mini",type:"danger"}},[e._v(" "+e._s(e.$t("api_report.fail"))+" ")])],1)])],1)],1),s("el-collapse-transition",[s("div",{directives:[{name:"show",rawName:"v-show",value:e.isActive,expression:"isActive"}],staticStyle:{width:"99%"}},[e.isActive?s("ms-request-sub-result-tail",{attrs:{"scenario-name":e.scenarioName,"request-type":e.requestType,request:e.request}}):e._e()],1)])],1)},p=[],d=(s("51b3"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"request-result"},[s("div",[s("el-row",{staticClass:"info",attrs:{gutter:8,type:"flex",align:"middle"}},[s("el-col",{attrs:{span:2}},[s("div",{staticClass:"method"},[e._v(" "+e._s(e.request.method)+" ")])]),s("el-col",{attrs:{span:8}},[s("el-tooltip",{attrs:{effect:"dark",content:e.request.url,placement:"bottom","open-delay":800}},[s("div",{staticClass:"url"},[e._v(e._s(e.request.url))])])],1),s("el-col",{attrs:{span:8}},[s("div",{staticClass:"url"},[e._v(" "+e._s(e.$t("api_report.start_time"))+"："+e._s(e._f("timestampFormatDate")(e.request.startTime,!0))+" ")])])],1)],1),s("el-collapse-transition",[s("div",{directives:[{name:"show",rawName:"v-show",value:e.isActive,expression:"isActive"}]},[e.isCodeEditAlive?s("ms-response-text",{attrs:{"request-type":e.requestType,response:e.request.responseResult,request:e.request}}):e._e()],1)])],1)}),m=[],f={name:"MsRequestSubResultTail",components:{MsResponseText:c["a"],MsRequestText:o["a"],MsAssertionResults:n["a"],MsRequestMetric:a["a"],MsRequestResult:l["a"],MsRequestSubResult:x},props:{request:Object,scenarioName:String,requestType:String},data:function(){return{isActive:!0,activeName:"sub",isCodeEditAlive:!0}},methods:{active:function(){this.isActive=!this.isActive},reload:function(){var e=this;this.isCodeEditAlive=!1,this.$nextTick((function(){return e.isCodeEditAlive=!0}))}},watch:{"request.responseResult":function(){this.reload()}},computed:{assertion:function(){return this.request.passAssertions+" / "+this.request.totalAssertions},hasSub:function(){return this.request.subRequestResults.length>0}}},v=f,h=(s("546a9"),s("cba8")),_=Object(h["a"])(v,d,m,!1,null,"85f63780",null),b=_.exports,g={name:"MsRequestSubResult",components:{MsResponseText:c["a"],MsRequestText:o["a"],MsAssertionResults:n["a"],MsRequestMetric:a["a"],MsRequestSubResultTail:b},props:{request:Object,scenarioName:String,indexNumber:Number},data:function(){return{isActive:!1,requestType:void 0}},methods:{active:function(){this.isActive=!this.isActive}}},q=g,C=(s("14fc"),Object(h["a"])(q,u,p,!1,null,"4fdae3c6",null)),x=C.exports,R={name:"MsRequestResultTail",components:{MsResponseText:c["a"],MsRequestText:o["a"],MsAssertionResults:n["a"],MsRequestMetric:a["a"],MsRequestResult:l["a"],MsRequestSubResult:x},props:{request:Object,scenarioName:String,requestType:String,console:String},data:function(){return{isActive:!0,activeName:"sub",isCodeEditAlive:!0}},methods:{active:function(){this.isActive=!this.isActive},reload:function(){var e=this;this.isCodeEditAlive=!1,this.$nextTick((function(){return e.isCodeEditAlive=!0}))}},watch:{"request.responseResult":function(){this.reload()}},computed:{assertion:function(){return this.request.passAssertions+" / "+this.request.totalAssertions},hasSub:function(){return this.request.subRequestResults.length>0}}},y=R,S=(s("5d1f"),Object(h["a"])(y,i,r,!1,null,"42b389e9",null));t["a"]=S.exports},"74b0":function(e,t,s){},"7bda":function(e,t,s){},"7eb1":function(e,t,s){"use strict";s("74b0")},"95ad":function(e,t,s){"use strict";s("3f21")},"95c3":function(e,t,s){},"9af1":function(e,t,s){"use strict";s("95c3")},a3ea:function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"text-container"},[s("el-collapse-transition",[s("el-tabs",{directives:[{name:"show",rawName:"v-show",value:e.isActive,expression:"isActive"}],model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[s("el-tab-pane",{staticClass:"pane",class:"body-pane",attrs:{label:e.$t("api_test.definition.request.response_body"),name:"body"}},[e.isSqlType?s("ms-sql-result-table",{attrs:{body:e.response.body}}):e._e(),e.isSqlType?e._e():s("ms-code-edit",{ref:"codeEdit",attrs:{mode:e.mode,"read-only":!0,data:e.response.body,modes:e.modes}})],1),s("el-tab-pane",{staticClass:"pane",attrs:{label:e.$t("api_test.definition.request.response_header"),name:"headers"}},[s("pre",[e._v(e._s(e.response.headers))])]),s("el-tab-pane",{staticClass:"pane",attrs:{label:e.$t("api_test.definition.request.console"),name:"console"}},[s("pre",[e._v(e._s(e.console?e.console:e.response.console))])]),s("el-tab-pane",{staticClass:"pane assertions",attrs:{label:e.$t("api_report.assertions"),name:"assertions"}},[s("ms-assertion-results",{attrs:{assertions:e.response.assertions}})],1),s("el-tab-pane",{staticClass:"pane",attrs:{label:e.$t("api_test.request.extract.label"),name:"label"}},[s("pre",[e._v(e._s(e.response.vars))])]),s("el-tab-pane",{staticClass:"pane",attrs:{label:e.$t("api_report.request_body"),name:"request_body"}},[s("div",{staticClass:"ms-div"},[e._v(" "+e._s(e.$t("api_test.request.address"))+" : "),s("pre",[e._v(e._s(e.request.url))])]),s("div",{staticClass:"ms-div"},[e._v(" "+e._s(e.$t("api_test.scenario.headers"))+" : "),s("pre",[e._v(e._s(e.request.headers))])]),s("div",{staticClass:"ms-div"},[e._v(" Cookies : "),s("pre",[e._v(e._s(e.request.cookies))])]),s("div",{staticClass:"ms-div"},[e._v(" Body : "),s("pre",[e._v(e._s(e.request.body))])])]),"body"==e.activeName?s("el-tab-pane",{staticClass:"pane assertions",attrs:{disabled:!0,name:"mode"},scopedSlots:e._u([{key:"label",fn:function(){return["SQL"===e.request.method?s("ms-dropdown",{attrs:{commands:e.sqlModes,"default-command":e.mode},on:{command:e.sqlModeChange}}):s("ms-dropdown",{ref:"modeDropdown",attrs:{commands:e.modes,"default-command":e.mode},on:{command:e.modeChange}})]},proxy:!0}],null,!1,2573905147)}):e._e()],1)],1)],1)},r=[],a=s("d289"),n=s("2278"),o=s("bc5b"),c=s("a70b"),l=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",e._l(e.tables,(function(t,i){return s("el-table",{key:i,attrs:{data:t.tableData,border:"",size:"mini","highlight-current-row":""}},e._l(t.titles,(function(t,i){return s("el-table-column",{key:i,attrs:{label:t,"min-width":"150px"},scopedSlots:e._u([{key:"default",fn:function(i){return[s("el-popover",{attrs:{placement:"top",trigger:"click"}},[s("el-container",[s("div",[e._v(e._s(i.row[t]))])]),s("span",{staticClass:"table-content",attrs:{slot:"reference"},slot:"reference"},[e._v(e._s(i.row[t]))])],1)]}}],null,!0)})})),1)})),1)},u=[],p=(s("4c1e"),s("fee8"),s("993f"),s("acc0"),{name:"MsSqlResultTable",data:function(){return{tables:[],titles:[]}},props:{body:String},created:function(){if(this.body){var e=this.body.split("\n");if(this.getTableData(e),this.tables.length>1){for(var t=0;t<this.tables.length;t++)1===this.tables[t].titles.length&&t<this.tables.length-1&&this.tables[t].tableData.splice(this.tables[t].tableData.length-1,1);var s=this.tables[this.tables.length-1];1===s.titles.length&&s.tableData.length>4?s.tableData.splice(s.tableData.length-4,4):this.tables.splice(this.tables.length-1,1)}else{var i=this.tables[0];i.tableData.splice(i.tableData.length-4,4)}}},methods:{getTableData:function(e){for(var t,s=[],i=0;i<e.length;i++){var r=e[i].split("\t");if(0===i)t=r;else{if(r.length!=t.length){1===r.length&&""===r[0]?this.getTableData(e.slice(i+1)):this.getTableData(e.slice(i));break}for(var a={},n=0;n<r.length;n++)a[t[n]]=r[n]?r[n]:"";s.push(a)}}this.tables.splice(0,0,{titles:t,tableData:s})}}}),d=p,m=(s("2599"),s("cba8")),f=Object(m["a"])(d,l,u,!1,null,"75905070",null),v=f.exports,h={name:"MsResponseText",components:{MsSqlResultTable:v,MsDropdown:o["a"],MsCodeEdit:n["a"],MsAssertionResults:a["a"]},props:{requestType:String,request:{},response:Object,console:String},data:function(){return{isActive:!0,activeName:"body",modes:["text","json","xml","html"],sqlModes:["text","table"],mode:c["e"].TEXT}},methods:{active:function(){this.isActive=!this.isActive},modeChange:function(e){this.mode=e},sqlModeChange:function(e){this.mode=e}},mounted:function(){this.response.headers&&this.response.headers.indexOf("Content-Type: application/json")>0&&(this.mode=c["e"].JSON)},computed:{isSqlType:function(){return(this.requestType===c["z"].TYPES.SQL||this.request.method===c["z"].TYPES.SQL)&&"200"===this.response.responseCode&&"table"===this.mode}}},_=h,b=(s("0861"),Object(m["a"])(_,i,r,!1,null,"4196656d",null));t["a"]=b.exports},a536:function(e,t,s){"use strict";var i=s("88d4"),r=s("ce5b"),a=s("092e"),n=s("ac3c"),o=s("126a"),c=s("3ffc"),l=s("9ad2"),u=s("8a1d"),p=s("fbe3"),d=s("dd35"),m=s("b1a8"),f=s("0116"),v=s("0091"),h=[],_=r(h.sort),b=r(h.push),g=l((function(){h.sort(void 0)})),q=l((function(){h.sort(null)})),C=p("sort"),x=!l((function(){if(f)return f<70;if(!(d&&d>3)){if(m)return!0;if(v)return v<603;var e,t,s,i,r="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:s=3;break;case 68:case 71:s=4;break;default:s=2}for(i=0;i<47;i++)h.push({k:t+i,v:s})}for(h.sort((function(e,t){return t.v-e.v})),i=0;i<h.length;i++)t=h[i].k.charAt(0),r.charAt(r.length-1)!==t&&(r+=t);return"DGBEFHACIJK"!==r}})),R=g||!q||!C||!x,y=function(e){return function(t,s){return void 0===s?-1:void 0===t?1:void 0!==e?+e(t,s)||0:c(t)>c(s)?1:-1}};i({target:"Array",proto:!0,forced:R},{sort:function(e){void 0!==e&&a(e);var t=n(this);if(x)return void 0===e?_(t):_(t,e);var s,i,r=[],c=o(t);for(i=0;i<c;i++)i in t&&b(r,t[i]);u(r,y(e)),s=r.length,i=0;while(i<s)t[i]=r[i++];while(i<c)delete t[i++];return t}})},a7f8:function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ms-report-export-template",{attrs:{title:e.title,type:e.$t("report.api_test_report")}},[s("ms-metric-chart",{attrs:{content:e.content,"is-export":!0,totalTime:e.totalTime}}),e._l(e.content.scenarios,(function(t,i){return s("div",{key:i,staticClass:"scenario-result",attrs:{scenario:t}},[s("div",[s("el-card",{scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" "+e._s(e.$t("api_report.scenario_name"))+"："+e._s(t.name)+" ")]},proxy:!0}],null,!0)},e._l(t.requestResults,(function(t,i){return s("div",{key:i,staticClass:"ms-border clearfix",attrs:{request:t}},[s("div",{staticClass:"request-top"},[s("div",[e._v(" "+e._s(e.getName(t.name))+" ")]),s("div",{staticClass:"url"},[e._v(" "+e._s(t.url)+" ")])]),s("el-divider"),s("div",{staticClass:"request-bottom"},[s("api-report-reqest-header-item",{attrs:{title:e.$t("api_test.request.method")}},[s("span",{staticClass:"method"},[e._v(" "+e._s(t.method))])]),s("api-report-reqest-header-item",{attrs:{title:e.$t("api_report.response_time")}},[e._v(" "+e._s(t.responseResult.responseTime)+" ms ")]),s("api-report-reqest-header-item",{attrs:{title:e.$t("api_report.latency")}},[e._v(" "+e._s(t.responseResult.latency)+" ms ")]),s("api-report-reqest-header-item",{attrs:{title:e.$t("api_report.request_size")}},[e._v(" "+e._s(t.requestSize)+" bytes ")]),s("api-report-reqest-header-item",{attrs:{title:e.$t("api_report.response_size")}},[e._v(" "+e._s(t.responseResult.responseSize)+" bytes ")]),s("api-report-reqest-header-item",{attrs:{title:e.$t("api_report.error")}},[e._v(" "+e._s(t.error)+" ")]),s("api-report-reqest-header-item",{attrs:{title:e.$t("api_report.assertions")}},[e._v(" "+e._s(t.passAssertions+" / "+t.totalAssertions)+" ")]),s("api-report-reqest-header-item",{attrs:{title:e.$t("api_report.response_code")}},[e._v(" "+e._s(t.responseResult.responseCode)+" ")]),s("api-report-reqest-header-item",{attrs:{title:e.$t("api_report.result")}},[t.success?s("el-tag",{attrs:{size:"mini",type:"success"}},[e._v(" "+e._s(e.$t("api_report.success"))+" ")]):s("el-tag",{attrs:{size:"mini",type:"danger"}},[e._v(" "+e._s(e.$t("api_report.fail"))+" ")])],1)],1)],1)})),0)],1)])}))],2)},r=[],a=(s("51b3"),s("4c1e"),s("fee8"),s("060e")),n=s("72b2"),o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"item"},[s("div",{staticClass:"item-title"},[e._v(" "+e._s(e.title)+" ")]),s("div",[e._t("default")],2)])},c=[],l={name:"ApiReportReqestHeaderItem",props:{title:String}},u=l,p=(s("49ff"),s("cba8")),d=Object(p["a"])(u,o,c,!1,null,"52de50d7",null),m=d.exports,f=s("e733"),v=s("cd3e"),h=s("00f1"),_={name:"MsApiReportExport",components:{MsReportExportTemplate:h["a"],MsReportTitle:v["a"],MsMetricChart:f["a"],ApiReportReqestHeaderItem:m,MsRequestResultTail:n["a"],MsScenarioResult:a["a"]},props:{content:Object,totalTime:Number,title:String},data:function(){return{}},methods:{getName:function(e){if(e&&-1!==e.indexOf("^@~@^")){var t=e.split("^@~@^");return t[t.length-1].indexOf("UUID=")?t[t.length-1].split("UUID=")[0]:t[t.length-1]}return e}}},b=_,g=(s("2334"),Object(p["a"])(b,i,r,!1,null,"5098cfb1",null));t["a"]=g.exports},b1a8:function(e,t,s){var i=s("0fd2");e.exports=/MSIE|Trident/.test(i)},b249:function(e,t,s){"use strict";s("7bda")},bb54:function(e,t,s){},bc5b:function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-dropdown",{staticClass:"ms-dropdown",on:{command:e.handleCommand}},[e._t("default",(function(){return[s("span",{staticClass:"el-dropdown-link"},[e._v(" "+e._s(e.currentCommand)+" "),s("i",{staticClass:"el-icon-arrow-down el-icon--right"})])]})),s("el-dropdown-menu",{attrs:{slot:"dropdown",chang:""},slot:"dropdown"},e._l(e.commands,(function(t,i){return s("el-dropdown-item",{key:i,attrs:{command:t}},[e._v(" "+e._s(t)+" ")])})),1)],2)},r=[],a={name:"MsDropdown",data:function(){return{currentCommand:""}},props:{commands:{type:Array},defaultCommand:{type:String}},created:function(){this.defaultCommand?this.currentCommand=this.defaultCommand:this.commands&&this.commands.length>0&&(this.currentCommand=this.commands[0])},methods:{handleCommand:function(e){this.currentCommand=e,this.$emit("command",e)}}},n=a,o=(s("5560"),s("cba8")),c=Object(o["a"])(n,i,r,!1,null,"03795a69",null);t["a"]=c.exports},bd64:function(e,t,s){},c048:function(e,t,s){},c2ac:function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ms-container",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[s("ms-main-container",[s("el-card",[this.report.testId?s("section",{staticClass:"report-container"},[s("ms-api-report-view-header",{attrs:{debug:e.debug,report:e.report},on:{reportExport:e.handleExport,reportSave:e.handleSave}}),e.isNotRunning?s("main",[s("ms-metric-chart",{attrs:{content:e.content,totalTime:e.totalTime}}),s("div",[s("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[s("el-tab-pane",{attrs:{label:e.$t("api_report.total"),name:"total"}},[s("ms-scenario-results",{attrs:{treeData:e.fullTreeNodes,console:e.content.console},on:{requestResult:e.requestResult}})],1),s("el-tab-pane",{attrs:{name:"fail"}},[s("template",{slot:"label"},[s("span",{staticClass:"fail"},[e._v(e._s(e.$t("api_report.fail")))])]),s("ms-scenario-results",{attrs:{console:e.content.console,treeData:e.failsTreeNodes},on:{requestResult:e.requestResult}})],2)],1)],1),e.reportExportVisible?s("ms-api-report-export",{attrs:{id:"apiTestReport",title:e.report.testName,content:e.content,"total-time":e.totalTime}}):e._e()],1):e._e()],1):e._e()])],1)],1)},r=[],a=(s("bb13"),s("89a8"),s("b110"),s("fe35"),s("1a91"),s("10dd"),s("a536"),s("8ea3"),s("4c1e"),s("fee8"),s("51b3"),s("0057")),n=s("72b2"),o=s("060e"),c=s("e733"),l=s("c9cc"),u=s("1b11"),p=s("489a"),d=s("a7f8"),m=s("0935"),f=s("a70b"),v=s("495f"),h={name:"MsApiReport",components:{MsApiReportViewHeader:m["a"],MsApiReportExport:d["a"],MsMainContainer:p["a"],MsContainer:u["a"],MsScenarioResults:l["a"],MsRequestResultTail:n["a"],MsMetricChart:c["a"],MsScenarioResult:o["a"],MsRequestResult:a["a"]},data:function(){return{activeName:"total",content:{},report:{},loading:!0,fails:[],failsTreeNodes:[],totalTime:0,isRequestResult:!1,request:{},isActive:!1,scenarioName:null,reportExportVisible:!1,requestType:void 0,fullTreeNodes:[]}},activated:function(){this.isRequestResult=!1},props:{reportId:String,currentProjectId:String,infoDb:Boolean,debug:Boolean},watch:{reportId:function(){this.getReport()}},methods:{init:function(){this.loading=!0,this.report={},this.content={},this.fails=[],this.report={},this.fullTreeNodes=[],this.failsTreeNodes=[],this.isRequestResult=!1},handleClick:function(e,t){this.isRequestResult=!1},active:function(){this.isActive=!this.isActive},formatResult:function(e){var t=new Map,s=[];e&&e.scenarios&&e.scenarios.forEach((function(i){i&&i.requestResults&&i.requestResults.forEach((function(r){r.responseResult.console=e.console,t.set(r.id+r.name,r),r.name=i.name+"^@~@^"+r.name+"UUID="+Object(v["m"])(),s.push(r)}))})),this.formatTree(s,this.fullTreeNodes),this.sort(this.fullTreeNodes),this.$emit("refresh",t)},formatTree:function(e,t){e.map((function(e){var s=e.name,i=s.split("^@~@^"),r=t,a="",n="";if(e.scenario){var o=JSON.parse(e.scenario);if(o.length>1){var c=o[0].split("_");a=c[0],n=c[1]}}for(var l=0;l<i.length;l++)if(i[l]){var u={label:i[l],value:e};l!==i.length&&(u.children=[]),0===r.length&&r.push(u);var p=!1;for(var d in r)if(r[d].label===u.label){var m=!0;if(l===i.length-2){m=!1;var f="",v="";if(r[d].value&&r[d].value.scenario){var h=JSON.parse(r[d].value.scenario);if(h.length>1){var _=h[0].split("_");f=_[0],_.length>1&&(v=_[1])}}(""===a||a===f||n!==v)&&(m=!0)}if(m){l===i.length-1||r[d].children||(r[d].children=[]),r=l===i.length-1?r:r[d].children,p=!0;break}}p||(r.push(u),l===i.length-1||r[r.length-1].children||(r[r.length-1].children=[]),r=l===i.length-1?r:r[r.length-1].children)}}))},recursiveSorting:function(e){for(var t in e)e[t]&&(e[t].index=Number(t)+1,e[t].children&&e[t].children.length>0&&this.recursiveSorting(e[t].children))},sort:function(e){for(var t in e)e[t]&&(e[t].index=Number(t)+1,e[t].children&&e[t].children.length>0&&this.recursiveSorting(e[t].children))},getReport:function(){var e=this;if(this.init(),this.reportId){var t="/api/scenario/report/get/"+this.reportId;this.$get(t,(function(t){if(e.report=t.data||{},t.data)if(e.isNotRunning){try{e.content=JSON.parse(e.report.content),e.content||(e.content={scenarios:[]}),e.formatResult(e.content)}catch(s){throw s}e.getFails(),e.computeTotalTime(),e.loading=!1}else setTimeout(e.getReport,2e3);else e.loading=!1,e.$error(e.$t("api_report.not_exist"))}))}},getFails:function(){var e=this;if(this.isNotRunning){this.fails=[];var t=[];this.totalTime=0,this.content.scenarios&&this.content.scenarios.forEach((function(s){e.totalTime=e.totalTime+Number(s.responseTime);var i=Object.assign({},s);s.error>0&&(e.fails.push(i),i.requestResults=[],s.requestResults.forEach((function(e){if(!e.success){var s=Object.assign({},e);i.requestResults.push(s),t.push(e)}})))})),this.formatTree(t,this.failsTreeNodes),this.sort(this.failsTreeNodes)}},computeTotalTime:function(){if(this.content.scenarios){var e=99991611737506600,t=0;this.content.scenarios.forEach((function(s){s.requestResults.forEach((function(s){s.startTime&&Number(s.startTime)<e&&(e=s.startTime),s.endTime&&Number(s.endTime)>t&&(t=s.endTime)}))})),e<t&&(this.totalTime=t-e+100)}},requestResult:function(e){this.active(),this.isRequestResult=!1,this.requestType=void 0,e.request.body.indexOf("[Callable Statement]")>-1&&(this.requestType=f["z"].TYPES.SQL),this.$nextTick((function(){this.isRequestResult=!0,this.request=e.request,this.scenarioName=e.scenarioName}))},handleExport:function(){this.reportExportVisible=!0;var e=this.exportReportReset;this.$nextTick((function(){Object(v["F"])("apiTestReport",.57),e()}))},handleSave:function(){var e=this;if(this.report.name){this.loading=!0,this.report.projectId=this.projectId;var t="/api/scenario/report/update";this.result=this.$post(t,this.report,(function(t){e.$success(e.$t("commons.save_success")),e.loading=!1,e.$emit("refresh")}),(function(t){e.loading=!1}))}else this.$warning(this.$t("api_test.automation.report_name_info"))},exportReportReset:function(){this.$router.go(0)}},created:function(){this.getReport()},computed:{path:function(){return"/api/test/edit?id="+this.report.testId},isNotRunning:function(){return"Running"!==this.report.status},projectId:function(){return Object(v["g"])()}}},_=h,b=(s("b249"),s("9af1"),s("cba8")),g=Object(b["a"])(_,i,r,!1,null,"77afbd64",null);t["a"]=g.exports},c836:function(e,t,s){},c9cc:function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-card",{staticClass:"scenario-results"},[s("el-tree",{ref:"resultsTree",staticClass:"ms-tree ms-report-tree",attrs:{data:e.treeData,"expand-on-click-node":!1,"default-expand-all":e.defaultExpand,"highlight-current":""},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.node,r=t.data;return s("span",{staticStyle:{width:"99%"},on:{click:function(t){return e.nodeClick(i)}}},[s("ms-scenario-result",{attrs:{node:r,console:e.console},on:{requestResult:e.requestResult}})],1)}}])})],1)},r=[],a=s("060e"),n={name:"MsScenarioResults",components:{MsScenarioResult:a["a"]},props:{scenarios:Array,treeData:Array,console:String,defaultExpand:{default:!1,type:Boolean}},created:function(){this.$refs.resultsTree&&this.$refs.resultsTree.root&&(this.$refs.resultsTree.root.expanded=!0)},methods:{requestResult:function(e){this.$emit("requestResult",e)},nodeClick:function(e){e.expanded=!e.expanded}}},o=n,c=(s("fdce"),s("cba8")),l=Object(c["a"])(o,i,r,!1,null,"e65ca770",null);t["a"]=l.exports},ca96:function(e,t,s){"use strict";s("4a5d")},cc50:function(e,t,s){"use strict";s("3838")},cd3e:function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"clearfix report-title"},[s("div",{staticClass:"report-left"},[s("div",{staticClass:"title"},[e._v(" 【"+e._s(e.type)+"】- "+e._s(e.title)+" ")]),s("div",[s("span",{staticClass:"time"},[e._v(e._s(e._f("timestampFormatDate")(new Date)))])])]),e._m(0)])},r=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"report-right"},[i("img",{staticClass:"logo",attrs:{src:s("5f11")}})])}],a={name:"MsReportTitle",props:{title:String,type:String},data:function(){return{}}},n=a,o=(s("defb"),s("cba8")),c=Object(o["a"])(n,i,r,!1,null,"41c9b43d",null);t["a"]=c.exports},cf9a:function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"metric-container"},[s("el-row",{attrs:{type:"flex"}},[s("el-col",[s("div",{staticStyle:{"font-size":"14px",color:"#AAAAAA",float:"left"}},[e._v(e._s(e.$t("api_report.response_code"))+" :")]),s("div",{staticStyle:{"font-size":"14px",color:"#61C550","margin-top":"2px","margin-left":"10px",float:"left"}},[e._v(e._s(e.request.responseResult.responseCode?e.request.responseResult.responseCode:"0"))])]),s("el-col",[s("div",{staticStyle:{"font-size":"14px",color:"#AAAAAA",float:"left"}},[e._v(e._s(e.$t("api_report.response_time"))+" :")]),s("div",{staticStyle:{"font-size":"14px",color:"#61C550","margin-top":"2px","margin-left":"10px",float:"left"}},[e._v(e._s(e.request.responseResult.responseTime?e.request.responseResult.responseTime:0)+" ms")])]),s("el-col",[s("div",{staticStyle:{"font-size":"14px",color:"#AAAAAA",float:"left"}},[e._v(e._s(e.$t("api_report.response_size"))+" :")]),s("div",{staticStyle:{"font-size":"14px",color:"#61C550","margin-top":"2px","margin-left":"10px",float:"left"}},[e._v(e._s(e.request.responseResult.responseSize?e.request.responseResult.responseSize:0)+" bytes")])])],1)],1)},r=[],a={name:"MsRequestMetric",props:{request:Object},computed:{error:function(){return this.request.responseResult.responseCode>=400}}},n=a,o=(s("2838"),s("cba8")),c=Object(o["a"])(n,i,r,!1,null,"06141b4b",null);t["a"]=c.exports},d289:function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-table",{attrs:{data:e.assertions,"row-style":e.getRowStyle,"header-cell-style":e.getRowStyle}},[s("el-table-column",{attrs:{prop:"name",label:e.$t("api_report.assertions_name"),width:"300"}}),s("el-table-column",{attrs:{prop:"message",label:e.$t("api_report.assertions_error_message")}}),s("el-table-column",{attrs:{prop:"pass",label:e.$t("api_report.assertions_is_success"),width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[i.pass?s("el-tag",{attrs:{size:"mini",type:"success"}},[e._v(" "+e._s(e.$t("api_report.success"))+" ")]):s("el-tag",{attrs:{size:"mini",type:"danger"}},[e._v(" "+e._s(e.$t("api_report.fail"))+" ")])]}}])})],1)},r=[],a={name:"MsAssertionResults",props:{assertions:Array},methods:{getRowStyle:function(){return{backgroundColor:"#F5F5F5"}}}},n=a,o=s("cba8"),c=Object(o["a"])(n,i,r,!1,null,"77e1120a",null);t["a"]=c.exports},d3af:function(e,t,s){"use strict";var i=s("88d4"),r=s("8735"),a=s("ce5b"),n=s("58db"),o=s("e14f"),c=s("227b"),l=s("9ad2"),u=r.RangeError,p=r.String,d=Math.floor,m=a(c),f=a("".slice),v=a(1..toFixed),h=function(e,t,s){return 0===t?s:t%2===1?h(e,t-1,s*e):h(e*e,t/2,s)},_=function(e){var t=0,s=e;while(s>=4096)t+=12,s/=4096;while(s>=2)t+=1,s/=2;return t},b=function(e,t,s){var i=-1,r=s;while(++i<6)r+=t*e[i],e[i]=r%1e7,r=d(r/1e7)},g=function(e,t){var s=6,i=0;while(--s>=0)i+=e[s],e[s]=d(i/t),i=i%t*1e7},q=function(e){var t=6,s="";while(--t>=0)if(""!==s||0===t||0!==e[t]){var i=p(e[t]);s=""===s?i:s+m("0",7-i.length)+i}return s},C=l((function(){return"0.000"!==v(8e-5,3)||"1"!==v(.9,0)||"1.25"!==v(1.255,2)||"1000000000000000128"!==v(0xde0b6b3a7640080,0)}))||!l((function(){v({})}));i({target:"Number",proto:!0,forced:C},{toFixed:function(e){var t,s,i,r,a=o(this),c=n(e),l=[0,0,0,0,0,0],d="",v="0";if(c<0||c>20)throw u("Incorrect fraction digits");if(a!=a)return"NaN";if(a<=-1e21||a>=1e21)return p(a);if(a<0&&(d="-",a=-a),a>1e-21)if(t=_(a*h(2,69,1))-69,s=t<0?a*h(2,-t,1):a/h(2,t,1),s*=4503599627370496,t=52-t,t>0){b(l,0,s),i=c;while(i>=7)b(l,1e7,0),i-=7;b(l,h(10,i,1),0),i=t-1;while(i>=23)g(l,1<<23),i-=23;g(l,1<<i),b(l,1,1),g(l,2),v=q(l)}else b(l,0,s),b(l,1<<-t,0),v=q(l)+m("0",c);return c>0?(r=v.length,v=d+(r<=c?"0."+m("0",c-r)+v:f(v,0,r-c)+"."+f(v,r-c))):v=d+v,v}})},dd13:function(e,t,s){},dd35:function(e,t,s){var i=s("0fd2"),r=i.match(/firefox\/(\d+)/i);e.exports=!!r&&+r[1]},defb:function(e,t,s){"use strict";s("dd13")},e733:function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"metric-container"},[s("el-row",{attrs:{type:"flex",align:"middle"}},[s("div",{staticStyle:{width:"50%"}},[s("el-row",{attrs:{type:"flex",justify:"center",align:"middle"}},[s("el-row",[s("div",{staticClass:"metric-time"},[s("div",{staticClass:"value",staticStyle:{"margin-right":"50px"}},[e._v(e._s(e.time))])])]),e.isExport?s("div",[e.content.error&&e.content.error>0?s("span",{staticClass:"ms-req ms-req-error"},[s("span",{staticClass:"ms-req-span"},[e._v(" "+e._s(e.content.success+e.content.error)+" 请求")])]):s("span",{staticClass:"ms-req ms-req-success"},[s("span",{staticClass:"ms-req-span"},[e._v(" "+e._s(e.content.success?e.content.success+e.content.error:0)+" 请求")])])]):s("ms-chart",{ref:"chart",attrs:{id:"chart",options:e.options,autoresize:!0}}),s("el-row",{attrs:{type:"flex",justify:"center",align:"middle"}},[s("span",{staticClass:"ms-point-success"}),s("div",{staticClass:"metric-box"},[s("div",{staticClass:"value"},[e._v(e._s(e.content.success))]),s("div",{staticClass:"name"},[e._v(e._s(e.$t("api_report.success")))])]),s("div",{staticStyle:{width:"40px"}}),s("span",{staticClass:"ms-point-error"}),s("div",{staticClass:"metric-box"},[s("div",{staticClass:"value"},[e._v(e._s(e.content.error))]),s("div",{staticClass:"name"},[e._v(e._s(e.$t("api_report.fail")))])])])],1)],1),s("div",{staticClass:"split"}),s("div",{staticStyle:{width:"50%"}},[s("el-row",{attrs:{type:"flex",justify:"center",align:"middle"}},[s("div",{staticClass:"metric-box"},[s("div",{staticClass:"value"},[e._v(e._s(e.content.scenarioTotal?e.content.scenarioTotal:0))]),s("div",{staticClass:"name"},[e._v(e._s(e.$t("api_test.scenario.scenario")))])]),s("span",{staticClass:"ms-point-success"}),s("div",{staticClass:"metric-box"},[s("div",{staticClass:"value"},[e._v(e._s(e.content.scenarioSuccess?e.content.scenarioSuccess:0))]),s("div",{staticClass:"name"},[e._v(e._s(e.$t("api_report.success")))])]),s("span",{staticClass:"ms-point-error"}),s("div",{staticClass:"metric-box"},[s("div",{staticClass:"value"},[e._v(e._s(e.content.scenarioError?e.content.scenarioError:0))]),s("div",{staticClass:"name"},[e._v(e._s(e.$t("api_report.fail")))])])]),s("el-divider"),s("el-row",{attrs:{type:"flex",justify:"center",align:"middle"}},[s("el-row",{attrs:{type:"flex",justify:"center",align:"middle"}},[s("div",{staticClass:"metric-box"},[s("div",{staticClass:"value"},[e._v(e._s(e.content.scenarioStepTotal?e.content.scenarioStepTotal:0))]),s("div",{staticClass:"name"},[e._v(e._s(e.$t("test_track.plan_view.step")))])]),s("span",{staticClass:"ms-point-success"}),s("div",{staticClass:"metric-box"},[s("div",{staticClass:"value"},[e._v(e._s(e.content.scenarioStepSuccess?e.content.scenarioStepSuccess:0))]),s("div",{staticClass:"name"},[e._v(e._s(e.$t("api_report.success")))])]),s("span",{staticClass:"ms-point-error"}),s("div",{staticClass:"metric-box"},[s("div",{staticClass:"value"},[e._v(e._s(e.content.scenarioStepError?e.content.scenarioStepError:0))]),s("div",{staticClass:"name"},[e._v(e._s(e.$t("api_report.fail")))])])])],1)],1),s("div",{staticClass:"split"}),s("div",{staticStyle:{width:"50%"}},[s("el-row",{attrs:{type:"flex",justify:"space-around",align:"middle"}},[s("div",{staticClass:"metric-icon-box"},[s("i",{staticClass:"el-icon-warning-outline fail"}),s("div",{staticClass:"value"},[e._v(e._s(e.fail))]),s("div",{staticClass:"name"},[e._v(e._s(e.$t("api_report.fail")))])]),s("div",{staticClass:"metric-icon-box"},[s("i",{staticClass:"el-icon-document-checked assertions"}),s("div",{staticClass:"value"},[e._v(e._s(e.assertions))]),s("div",{staticClass:"name"},[e._v(e._s(e.$t("api_report.assertions_pass")))])]),s("div",{staticClass:"metric-icon-box"},[s("i",{staticClass:"el-icon-document-copy total"}),s("div",{staticClass:"value"},[e._v(e._s(this.content.total))]),s("div",{staticClass:"name"},[e._v(e._s(e.$t("api_report.request")))])])])],1)])],1)},r=[],a=(s("51b3"),s("d3af"),s("3996")),n={name:"MsMetricChart",components:{MsChart:a["a"]},props:{content:Object,totalTime:Number,isExport:{type:Boolean,default:!1}},data:function(){return{hour:0,minutes:0,seconds:0,time:0,scenarioTotal:0,scenarioSuccess:0,scenarioError:0,reqTotal:0}},created:function(){this.initTime()},methods:{initTime:function(){this.time=this.totalTime,this.seconds=Math.floor(this.time/1e3),this.seconds>=1?(this.seconds>60&&(this.minutes=Math.round(this.time/60),this.seconds=Math.round(this.time%60),this.time=this.minutes+"min"+this.seconds+"s"),this.seconds>60&&(this.minutes=Math.round(this.time/60),this.seconds=Math.round(this.time%60),this.time=this.minutes+"min"+this.seconds+"s"),this.minutes>60&&(this.hour=Math.round(this.minutes/60),this.minutes=Math.round(this.minutes%60),this.time=this.hour+"hour"+this.minutes+"min"+this.seconds+"s"),this.time=this.seconds+"s"):this.time=this.totalTime+"ms"}},computed:{options:function(){return{color:["#67C23A","#F56C6C"],tooltip:{trigger:"item",formatter:"{b}: {c} ({d}%)"},title:[{text:this.content.total,subtext:this.$t("api_report.request"),top:"center",left:"center",textStyle:{rich:{align:"center",value:{fontSize:32,fontWeight:"bold",padding:[10,0]},name:{fontSize:14,fontWeight:"normal",color:"#7F7F7F"}}}}],series:[{type:"pie",radius:["80%","90%"],avoidLabelOverlap:!1,hoverAnimation:!1,itemStyle:{normal:{borderColor:"#FFF",shadowColor:"#E1E1E1",shadowBlur:10}},labelLine:{show:!1},data:[{value:this.content.success},{value:this.content.error}]}]}},fail:function(){return(this.content.error/this.content.total*100).toFixed(0)+"%"},assertions:function(){return this.content.passAssertions+" / "+this.content.totalAssertions}}},o=n,c=(s("ca96"),s("cba8")),l=Object(c["a"])(o,i,r,!1,null,"24873b9b",null);t["a"]=l.exports},ed8d:function(e,t,s){},f6ba:function(e,t,s){"use strict";s("2c3d0")},fdce:function(e,t,s){"use strict";s("ed8d")},fec3:function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ms-api-report",{attrs:{"report-id":e.reportId}})},r=[],a=s("c2ac"),n={name:"ApiReportView",components:{MsApiReport:a["a"]},computed:{reportId:function(){return this.$route.params.reportId}},created:function(){console.log(this.reportId)}},o=n,c=s("cba8"),l=Object(c["a"])(o,i,r,!1,null,"511c7b08",null);t["default"]=l.exports}}]);