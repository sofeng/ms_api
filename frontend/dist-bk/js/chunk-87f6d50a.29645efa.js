(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-87f6d50a"],{"13e9":function(t,i,n){"use strict";n("570b")},1431:function(t,i,n){},"2f4c":function(t,i,n){"use strict";n.r(i);var e=function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("el-card",[n("el-tabs",{staticClass:"system-setting",model:{value:t.activeName,callback:function(i){t.activeName=i},expression:"activeName"}},[n("el-tab-pane",{attrs:{label:t.$t("organization.defect_manage"),name:"defect"}},[n("bug-management")],1)],1)],1)},a=[],o=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.result.loading,expression:"result.loading"}],staticClass:"header-title"},[e("div",[e("div",[t._v(t._s(t.$t("organization.integration.select_defect_platform")))]),e("el-radio-group",{staticStyle:{"margin-top":"10px"},on:{change:t.change},model:{value:t.platform,callback:function(i){t.platform=i},expression:"platform"}},[e("el-radio",{attrs:{label:"Tapd"}},[e("img",{staticClass:"platform",attrs:{src:n("78aa"),alt:"Tapd"}})]),e("el-radio",{attrs:{label:"Jira"}},[e("img",{staticClass:"platform",attrs:{src:n("ab98"),alt:"Jira"}})]),e("el-radio",{attrs:{label:"Zentao"}},[e("img",{staticClass:"zentao_platform",attrs:{src:n("8f19"),alt:"Zentao"}})]),e("el-radio",{directives:[{name:"xpack",rawName:"v-xpack"}],attrs:{label:"AzureDevops"}},[e("img",{staticClass:"platform",attrs:{src:n("ffea"),alt:"AzureDevops"}})])],1)],1),t.tapdEnable?e("tapd-setting",{ref:"tapdSetting"}):t._e(),t.jiraEnable?e("jira-setting",{ref:"jiraSetting"}):t._e(),t.zentaoEnable?e("zentao-setting",{ref:"zentaoSetting"}):t._e(),t.azuredevopsEnable?e("azuredevops-setting",{ref:"azureDevopsSetting"}):t._e()],1)},r=[],s=function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("div",[n("div",{staticStyle:{width:"500px"}},[n("div",{staticStyle:{"margin-top":"20px","margin-bottom":"10px"}},[t._v(t._s(t.$t("organization.integration.basic_auth_info")))]),n("el-form",{ref:"form",attrs:{model:t.form,"label-width":"100px",size:"small",disabled:t.show,rules:t.rules}},[n("el-form-item",{attrs:{label:t.$t("organization.integration.api_account"),prop:"account"}},[n("el-input",{attrs:{placeholder:t.$t("organization.integration.input_api_account")},model:{value:t.form.account,callback:function(i){t.$set(t.form,"account",i)},expression:"form.account"}})],1),n("el-form-item",{attrs:{label:t.$t("organization.integration.api_password"),prop:"password"}},[t.showInput?n("el-input",{attrs:{"auto-complete":"new-password",placeholder:t.$t("organization.integration.input_api_password"),"show-password":""},model:{value:t.form.password,callback:function(i){t.$set(t.form,"password",i)},expression:"form.password"}}):t._e()],1)],1)],1),n("bug-manage-btn",{ref:"bugBtn",attrs:{"edit-permission":["ORGANIZATION_SERVICE:READ+EDIT"],form:t.form,show:t.show},on:{save:t.save,init:t.init,testConnection:t.testConnection,cancelIntegration:t.cancelIntegration,reloadPassInput:t.reloadPassInput,"update:show":function(i){t.show=i}}}),n("div",{staticClass:"defect-tip"},[n("div",[t._v(t._s(t.$t("organization.integration.use_tip")))]),n("div",[t._v(" 1. "+t._s(t.$t("organization.integration.use_tip_tapd"))+" ")]),n("div",[t._v(" 2. "+t._s(t.$t("organization.integration.use_tip_two"))+" "),n("router-link",{staticStyle:{"margin-left":"5px"},attrs:{to:"/setting/project/all"}},[t._v(" "+t._s(t.$t("organization.integration.link_the_project_now"))+" ")])],1),n("div",[t._v(" 3. "+t._s(t.$t("organization.integration.use_tip_three"))+" "),n("router-link",{staticStyle:{"margin-left":"5px"},attrs:{to:{name:"PersonSetting",params:{open:!0}}}},[t._v(" "+t._s(t.$t("organization.integration.link_the_info_now"))+" ")])],1)])],1)},c=[],u=(n("87d5"),function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("div",{staticStyle:{"margin-left":"100px"}},[n("el-button",{attrs:{type:"primary",size:"mini",disabled:!t.show},on:{click:t.testConnection}},[t._v(" "+t._s(t.$t("ldap.test_connect"))+" ")]),t.showEdit?n("el-button",{directives:[{name:"permission",rawName:"v-permission",value:t.editPermission,expression:"editPermission"}],attrs:{size:"mini"},on:{click:t.edit}},[t._v(" "+t._s(t.$t("commons.edit"))+" ")]):t._e(),t.showSave?n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.save}},[t._v(" "+t._s(t.$t("commons.save"))+" ")]):t._e(),t.showCancel?n("el-button",{attrs:{size:"mini"},on:{click:t.cancelEdit}},[t._v(" "+t._s(t.$t("organization.integration.cancel_edit"))+" ")]):t._e(),n("el-button",{directives:[{name:"permission",rawName:"v-permission",value:t.editPermission,expression:"editPermission"}],attrs:{type:"info",size:"mini",disabled:!t.show},on:{click:t.cancelIntegration}},[t._v(" "+t._s(t.$t("organization.integration.cancel_integration"))+" ")])],1)}),l=[],p={name:"BugManageBtn",data:function(){return{showEdit:!0,showSave:!1,showCancel:!1}},props:{show:{type:Boolean,default:!0},form:Object,editPermission:{type:Array,default:function(){return[]}}},methods:{testConnection:function(){this.$emit("testConnection")},edit:function(){this.$emit("update:show",!1),this.showEdit=!1,this.showSave=!0,this.showCancel=!0},cancelEdit:function(){this.showEdit=!0,this.showCancel=!1,this.showSave=!1,this.$emit("update:show",!0),this.$emit("reloadPassInput"),this.init()},init:function(){this.$emit("init")},save:function(){this.$emit("save")},cancelIntegration:function(){this.$emit("cancelIntegration")}}},g=p,f=n("cba8"),m=Object(f["a"])(g,u,l,!1,null,"59b6e595",null),h=m.exports,d=n("495f"),v=n("4abd"),b={name:"TapdSetting.vue",components:{BugManageBtn:h},created:function(){this.init()},data:function(){return{show:!0,showInput:!0,form:{},rules:{account:{required:!0,message:this.$t("organization.integration.input_api_account"),trigger:["change","blur"]},password:{required:!0,message:this.$t("organization.integration.input_api_password"),trigger:["change","blur"]}}}},methods:{init:function(){var t=this,i=Object(d["h"])(),n=i.lastOrganizationId,e={};e.platform=v["D"],e.orgId=n,this.$parent.result=this.$post("service/integration/type",e,(function(i){var n=i.data;if(n.configuration){var e=JSON.parse(n.configuration);t.$set(t.form,"account",e.account),t.$set(t.form,"password",e.password)}else t.clear()}))},save:function(){var t=this;this.$refs["form"].validate((function(i){if(!i)return!1;var n={},e={account:t.form.account,password:t.form.password},a=Object(d["h"])(),o=a.lastOrganizationId;n.organizationId=o,n.platform=v["D"],n.configuration=JSON.stringify(e),t.$parent.result=t.$post("service/integration/save",n,(function(){t.show=!0,t.$refs.bugBtn.showEdit=!0,t.$refs.bugBtn.showSave=!1,t.$refs.bugBtn.showCancel=!1,t.reloadPassInput(),t.init(),t.$success(t.$t("commons.save_success"))}))}))},clear:function(){var t=this;this.$set(this.form,"account",""),this.$set(this.form,"password",""),this.$nextTick((function(){t.$refs.form&&t.$refs.form.clearValidate()}))},testConnection:function(){var t=this;if(!this.form.account||!this.form.password)return this.$warning(this.$t("organization.integration.not_integrated")),!1;this.$parent.result=this.$get("issues/auth/"+Object(d["f"])()+"/"+v["D"],(function(){t.$success(t.$t("organization.integration.verified"))}))},cancelIntegration:function(){var t=this;this.form.account&&this.form.password?this.$alert(this.$t("organization.integration.cancel_confirm")+v["D"]+"？","",{confirmButtonText:this.$t("commons.confirm"),callback:function(i){if("confirm"===i){var n=Object(d["h"])(),e=n.lastOrganizationId,a={};a.orgId=e,a.platform=v["D"],t.$parent.result=t.$post("service/integration/delete",a,(function(){t.$success(t.$t("organization.integration.successful_operation")),t.init("")}))}}}):this.$warning(this.$t("organization.integration.not_integrated"))},reloadPassInput:function(){this.showInput=!1,this.$nextTick((function(){this.showInput=!0}))}}},_=b,z=(n("61d2"),Object(f["a"])(_,s,c,!1,null,"41d66ca8",null)),$=z.exports,w=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[e("div",{staticStyle:{width:"500px"}},[e("div",{staticStyle:{"margin-top":"20px","margin-bottom":"10px"}},[t._v(t._s(t.$t("organization.integration.basic_auth_info")))]),e("el-form",{ref:"form",attrs:{model:t.form,"label-width":"100px",size:"small",disabled:t.show,rules:t.rules}},[e("el-form-item",{attrs:{label:t.$t("organization.integration.account"),prop:"account"}},[e("el-input",{attrs:{placeholder:t.$t("organization.integration.input_api_account")},model:{value:t.form.account,callback:function(i){t.$set(t.form,"account",i)},expression:"form.account"}})],1),e("el-form-item",{attrs:{label:t.$t("organization.integration.password"),prop:"password"}},[t.showInput?e("el-input",{attrs:{"auto-complete":"new-password",placeholder:t.$t("organization.integration.input_api_password"),"show-password":""},model:{value:t.form.password,callback:function(i){t.$set(t.form,"password",i)},expression:"form.password"}}):t._e()],1),e("el-form-item",{attrs:{label:t.$t("organization.integration.jira_url"),prop:"url"}},[e("el-input",{attrs:{placeholder:t.$t("organization.integration.input_jira_url")},model:{value:t.form.url,callback:function(i){t.$set(t.form,"url",i)},expression:"form.url"}})],1),e("el-form-item",{attrs:{label:t.$t("organization.integration.jira_issuetype"),prop:"issuetype"}},[e("el-input",{attrs:{placeholder:t.$t("organization.integration.input_jira_issuetype")},model:{value:t.form.issuetype,callback:function(i){t.$set(t.form,"issuetype",i)},expression:"form.issuetype"}}),e("ms-instructions-icon",{attrs:{effect:"light"}},[[e("img",{staticClass:"jira-image",attrs:{src:n("89a5")}})]],2)],1),e("el-form-item",{attrs:{label:t.$t("organization.integration.jira_storytype"),prop:"storytype"}},[e("el-input",{attrs:{placeholder:t.$t("organization.integration.input_jira_storytype")},model:{value:t.form.storytype,callback:function(i){t.$set(t.form,"storytype",i)},expression:"form.storytype"}}),e("ms-instructions-icon",{attrs:{effect:"light"}},[[e("img",{staticClass:"jira-image",attrs:{src:n("89a5")}})]],2)],1)],1)],1),e("bug-manage-btn",{ref:"bugBtn",attrs:{"edit-permission":["ORGANIZATION_SERVICE:READ+EDIT"],form:t.form,show:t.show},on:{save:t.save,init:t.init,testConnection:t.testConnection,cancelIntegration:t.cancelIntegration,reloadPassInput:t.reloadPassInput,"update:show":function(i){t.show=i}}}),e("div",{staticClass:"defect-tip"},[e("div",[t._v(t._s(t.$t("organization.integration.use_tip")))]),e("div",[t._v(" 1. "+t._s(t.$t("organization.integration.use_tip_jira"))+" ")]),e("div",[t._v(" 2. "+t._s(t.$t("organization.integration.use_tip_two"))+" "),e("router-link",{staticStyle:{"margin-left":"5px"},attrs:{to:"/setting/project/all"}},[t._v(" "+t._s(t.$t("organization.integration.link_the_project_now"))+" ")])],1),e("div",[t._v(" 3. "+t._s(t.$t("organization.integration.use_tip_three"))+" "),e("router-link",{staticStyle:{"margin-left":"5px"},attrs:{to:{name:"PersonSetting",params:{open:!0}}}},[t._v(" "+t._s(t.$t("organization.integration.link_the_info_now"))+" ")])],1)])],1)},I=[],y=(n("cfe5"),n("d1cf"),n("60e1")),x={name:"JiraSetting",components:{MsInstructionsIcon:y["a"],BugManageBtn:h},created:function(){this.init()},data:function(){return{show:!0,showInput:!0,form:{},rules:{account:{required:!0,message:this.$t("organization.integration.input_api_account"),trigger:["change","blur"]},password:{required:!0,message:this.$t("organization.integration.input_api_password"),trigger:["change","blur"]},url:{required:!0,message:this.$t("organization.integration.input_jira_url"),trigger:["change","blur"]},issuetype:{required:!0,message:this.$t("organization.integration.input_jira_issuetype"),trigger:["change","blur"]},storytype:{required:!0,message:this.$t("organization.integration.input_jira_storytype"),trigger:["change","blur"]}}}},methods:{init:function(){var t=this,i=Object(d["h"])(),n=i.lastOrganizationId,e={};e.platform=v["m"],e.orgId=n,this.$parent.result=this.$post("service/integration/type",e,(function(i){var n=i.data;if(n.configuration){var e=JSON.parse(n.configuration);t.$set(t.form,"account",e.account),t.$set(t.form,"password",e.password),t.$set(t.form,"url",e.url),t.$set(t.form,"issuetype",e.issuetype),t.$set(t.form,"storytype",e.storytype)}else t.clear()}))},save:function(){var t=this;this.$refs["form"].validate((function(i){if(!i)return!1;var n=t.form.url.trim();n.endsWith("/")||(n+="/");var e={},a={account:t.form.account,password:t.form.password,url:n,issuetype:t.form.issuetype,storytype:t.form.storytype},o=Object(d["h"])(),r=o.lastOrganizationId;e.organizationId=r,e.platform=v["m"],e.configuration=JSON.stringify(a),t.$parent.result=t.$post("service/integration/save",e,(function(){t.show=!0,t.$refs.bugBtn.showEdit=!0,t.$refs.bugBtn.showSave=!1,t.$refs.bugBtn.showCancel=!1,t.reloadPassInput(),t.init(),t.$success(t.$t("commons.save_success"))}))}))},clear:function(){var t=this;this.$set(this.form,"account",""),this.$set(this.form,"password",""),this.$set(this.form,"url",""),this.$set(this.form,"issuetype",""),this.$set(this.form,"storytype",""),this.$nextTick((function(){t.$refs.form&&t.$refs.form.clearValidate()}))},testConnection:function(){var t=this;if(!this.form.account||!this.form.password)return this.$warning(this.$t("organization.integration.not_integrated")),!1;this.$parent.result=this.$get("issues/auth/"+Object(d["f"])()+"/"+v["m"],(function(){t.$success(t.$t("organization.integration.verified"))}))},cancelIntegration:function(){var t=this;this.form.account&&this.form.password?this.$alert(this.$t("organization.integration.cancel_confirm")+v["m"]+"？","",{confirmButtonText:this.$t("commons.confirm"),callback:function(i){if("confirm"===i){var n=Object(d["h"])(),e=n.lastOrganizationId,a={};a.orgId=e,a.platform=v["m"],t.$parent.result=t.$post("service/integration/delete",a,(function(){t.$success(t.$t("organization.integration.successful_operation")),t.init("")}))}}}):this.$warning(this.$t("organization.integration.not_integrated"))},reloadPassInput:function(){this.showInput=!1,this.$nextTick((function(){this.showInput=!0}))}}},O=x,A=(n("62eb"),Object(f["a"])(O,w,I,!1,null,"05362eb3",null)),k=A.exports,E=function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("div",[n("div",{staticStyle:{width:"500px"}},[n("div",{staticStyle:{"margin-top":"20px","margin-bottom":"10px"}},[t._v(t._s(t.$t("organization.integration.basic_auth_info")))]),n("el-form",{ref:"form",attrs:{model:t.form,"label-width":"100px",size:"small",disabled:t.show,rules:t.rules}},[n("el-form-item",{attrs:{label:t.$t("organization.integration.account"),prop:"account"}},[n("el-input",{attrs:{placeholder:t.$t("organization.integration.input_api_account")},model:{value:t.form.account,callback:function(i){t.$set(t.form,"account",i)},expression:"form.account"}})],1),n("el-form-item",{attrs:{label:t.$t("organization.integration.password"),prop:"password"}},[t.showInput?n("el-input",{attrs:{"auto-complete":"new-password",placeholder:t.$t("organization.integration.input_api_password"),"show-password":""},model:{value:t.form.password,callback:function(i){t.$set(t.form,"password",i)},expression:"form.password"}}):t._e()],1),n("el-form-item",{attrs:{label:t.$t("organization.integration.zentao_url"),prop:"url"}},[n("el-input",{attrs:{placeholder:t.$t("organization.integration.input_zentao_url")},model:{value:t.form.url,callback:function(i){t.$set(t.form,"url",i)},expression:"form.url"}})],1),n("el-form-item",{attrs:{label:t.$t("organization.integration.zentao_request"),prop:"request"}},[n("el-radio",{attrs:{label:"PATH_INFO",size:"small",border:""},model:{value:t.form.request,callback:function(i){t.$set(t.form,"request",i)},expression:"form.request"}},[t._v(" PATH_INFO")]),n("el-radio",{attrs:{label:"GET",size:"small",border:""},model:{value:t.form.request,callback:function(i){t.$set(t.form,"request",i)},expression:"form.request"}},[t._v("GET")]),n("ms-instructions-icon",{staticStyle:{"margin-left":"-20px"},attrs:{effect:"light"}},[t._v(" 参考禅道配置文件中 $config->requestType 的值 "),n("br"),n("br"),t._v(" 配置文件参考路径：/opt/zbox/app/zentao/config/my.php ")])],1)],1)],1),n("bug-manage-btn",{ref:"bugBtn",attrs:{"edit-permission":["ORGANIZATION_SERVICE:READ+EDIT"],form:t.form,show:t.show},on:{save:t.save,init:t.init,testConnection:t.testConnection,cancelIntegration:t.cancelIntegration,reloadPassInput:t.reloadPassInput,"update:show":function(i){t.show=i}}}),n("div",{staticClass:"defect-tip"},[n("div",[t._v(t._s(t.$t("organization.integration.use_tip")))]),n("div",[t._v(" 1. "+t._s(t.$t("organization.integration.use_tip_zentao"))+" ")]),n("div",[t._v(" 2. "+t._s(t.$t("organization.integration.use_tip_two"))+" "),n("router-link",{staticStyle:{"margin-left":"5px"},attrs:{to:"/setting/project/all"}},[t._v(" "+t._s(t.$t("organization.integration.link_the_project_now"))+" ")])],1),n("div",[t._v(" 3. "+t._s(t.$t("organization.integration.use_tip_three"))+" "),n("router-link",{staticStyle:{"margin-left":"5px"},attrs:{to:{name:"PersonSetting",params:{open:!0}}}},[t._v(" "+t._s(t.$t("organization.integration.link_the_info_now"))+" ")])],1)])],1)},S=[],C={name:"ZentaoSetting",components:{MsInstructionsIcon:y["a"],BugManageBtn:h},created:function(){this.init()},data:function(){return{show:!0,showInput:!0,form:{},rules:{account:{required:!0,message:this.$t("organization.integration.input_api_account"),trigger:["change","blur"]},password:{required:!0,message:this.$t("organization.integration.input_api_password"),trigger:["change","blur"]},url:{required:!0,message:this.$t("organization.integration.input_zentao_url"),trigger:["change","blur"]},request:{required:!0,message:this.$t("organization.integration.input_zentao_request"),trigger:["change","blur"]}}}},methods:{save:function(){var t=this;this.$refs["form"].validate((function(i){if(!i)return!1;var n=t.form.url.trim();n.endsWith("/")||(n+="/");var e=Object(d["h"])(),a=e.lastOrganizationId,o={},r={account:t.form.account,password:t.form.password,url:n,request:t.form.request};o.organizationId=a,o.platform=v["O"],o.configuration=JSON.stringify(r),t.$parent.result=t.$post("service/integration/save",o,(function(){t.show=!0,t.$refs.bugBtn.showEdit=!0,t.$refs.bugBtn.showSave=!1,t.$refs.bugBtn.showCancel=!1,t.reloadPassInput(),t.init(),t.$success(t.$t("commons.save_success"))}))}))},init:function(){var t=this,i=Object(d["h"])(),n=i.lastOrganizationId,e={};e.platform=v["O"],e.orgId=n,this.$parent.result=this.$post("service/integration/type",e,(function(i){var n=i.data;if(n.configuration){var e=JSON.parse(n.configuration);t.$set(t.form,"account",e.account),t.$set(t.form,"password",e.password),t.$set(t.form,"url",e.url),t.$set(t.form,"request",e.request?e.request:"PATH_INFO")}else t.clear()}))},clear:function(){var t=this;this.$set(this.form,"account",""),this.$set(this.form,"password",""),this.$set(this.form,"url",""),this.$set(this.form,"request",""),this.$nextTick((function(){t.$refs.form&&t.$refs.form.clearValidate()}))},testConnection:function(){var t=this;this.$refs["form"].validate((function(i){return!!i&&(t.form.account&&t.form.password?void(t.$parent.result=t.$get("issues/auth/"+Object(d["f"])()+"/"+v["O"],(function(){t.$success(t.$t("organization.integration.verified"))}))):(t.$warning(t.$t("organization.integration.not_integrated")),!1))}))},cancelIntegration:function(){var t=this;this.form.account&&this.form.password?this.$alert(this.$t("organization.integration.cancel_confirm")+v["O"]+"？","",{confirmButtonText:this.$t("commons.confirm"),callback:function(i){if("confirm"===i){var n=Object(d["h"])(),e=n.lastOrganizationId,a={};a.orgId=e,a.platform=v["O"],t.$parent.result=t.$post("service/integration/delete",a,(function(){t.$success(t.$t("organization.integration.successful_operation")),t.init("")}))}}}):this.$warning(this.$t("organization.integration.not_integrated"))},reloadPassInput:function(){this.showInput=!1,this.$nextTick((function(){this.showInput=!0}))}}},P=C,j=(n("99af"),Object(f["a"])(P,E,S,!1,null,"a3fd9460",null)),B=j.exports,T=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[e("div",{staticStyle:{width:"500px"}},[e("div",{staticStyle:{"margin-top":"20px","margin-bottom":"10px"}},[t._v(t._s(t.$t("organization.integration.basic_auth_info")))]),e("el-form",{ref:"form",attrs:{model:t.form,"label-width":"155px",size:"small",disabled:t.show,rules:t.rules}},[e("el-form-item",{attrs:{label:t.$t("organization.integration.azure_pat"),prop:"pat"}},[t.showInput?e("el-input",{attrs:{"auto-complete":"new-password",placeholder:t.$t("organization.integration.input_azure_pat"),"show-password":""},model:{value:t.form.pat,callback:function(i){t.$set(t.form,"pat",i)},expression:"form.pat"}}):t._e()],1),e("el-form-item",{attrs:{label:t.$t("organization.integration.azure_devops_url"),prop:"url"}},[e("el-input",{attrs:{placeholder:t.$t("organization.integration.input_azure_url")},model:{value:t.form.url,callback:function(i){t.$set(t.form,"url",i)},expression:"form.url"}})],1),e("el-form-item",{attrs:{label:t.$t("organization.integration.azure_organization_id"),prop:"organization"}},[e("el-input",{attrs:{placeholder:t.$t("organization.integration.input_azure_organization_id")},model:{value:t.form.organization,callback:function(i){t.$set(t.form,"organization",i)},expression:"form.organization"}})],1),e("el-form-item",{attrs:{label:t.$t("organization.integration.azure_issuetype"),prop:"issuetype"}},[e("el-input",{attrs:{placeholder:t.$t("organization.integration.input_azure_issuetype")},model:{value:t.form.issuetype,callback:function(i){t.$set(t.form,"issuetype",i)},expression:"form.issuetype"}}),e("ms-instructions-icon",{attrs:{effect:"light"}},[[e("img",{staticClass:"jira-image",attrs:{src:n("b0d4")}})]],2)],1),e("el-form-item",{attrs:{label:t.$t("organization.integration.azure_storytype"),prop:"storytype"}},[e("el-input",{attrs:{placeholder:t.$t("organization.integration.input_azure_storytype")},model:{value:t.form.storytype,callback:function(i){t.$set(t.form,"storytype",i)},expression:"form.storytype"}}),e("ms-instructions-icon",{attrs:{effect:"light"}},[[e("img",{staticClass:"jira-image",attrs:{src:n("b0d4")}})]],2)],1)],1)],1),e("bug-manage-btn",{ref:"bugBtn",attrs:{"edit-permission":["ORGANIZATION_SERVICE:READ+EDIT"],form:t.form,show:t.show},on:{save:t.save,init:t.init,testConnection:t.testConnection,cancelIntegration:t.cancelIntegration,reloadPassInput:t.reloadPassInput,"update:show":function(i){t.show=i}}}),e("div",{staticClass:"defect-tip"},[e("div",[t._v(t._s(t.$t("organization.integration.use_tip")))]),e("div",[t._v(" 1. "+t._s(t.$t("organization.integration.use_tip_azure"))+" ")]),e("div",[t._v(" 2. "+t._s(t.$t("organization.integration.use_tip_two"))+" "),e("router-link",{staticStyle:{"margin-left":"5px"},attrs:{to:"/setting/project/all"}},[t._v(" "+t._s(t.$t("organization.integration.link_the_project_now"))+" ")])],1),e("div",[t._v(" 3. "+t._s(t.$t("organization.integration.use_tip_three"))+" "),e("router-link",{staticStyle:{"margin-left":"5px"},attrs:{to:{name:"PersonSetting",params:{open:!0}}}},[t._v(" "+t._s(t.$t("organization.integration.link_the_info_now"))+" ")])],1)])],1)},q=[],G={name:"AzureDevopsSetting",components:{MsInstructionsIcon:y["a"],BugManageBtn:h},created:function(){this.init()},data:function(){return{show:!0,showInput:!0,form:{},rules:{pat:{required:!0,message:this.$t("organization.integration.input_azure_pat"),trigger:["change","blur"]},url:{required:!0,message:this.$t("organization.integration.input_azure_url"),trigger:["change","blur"]},organization:{required:!0,message:this.$t("organization.integration.input_azure_organization_id"),trigger:["change","blur"]},issuetype:{required:!0,message:this.$t("organization.integration.input_azure_issuetype"),trigger:["change","blur"]},storytype:{required:!0,message:this.$t("organization.integration.input_azure_storytype"),trigger:["change","blur"]}}}},methods:{init:function(){var t=this,i=Object(d["h"])(),n=i.lastOrganizationId,e={};e.platform=v["d"],e.orgId=n,this.$parent.result=this.$post("service/integration/type",e,(function(i){var n=i.data;if(n.configuration){var e=JSON.parse(n.configuration);t.$set(t.form,"pat",e.pat),t.$set(t.form,"url",e.url),t.$set(t.form,"organization",e.organization),t.$set(t.form,"issuetype",e.issuetype),t.$set(t.form,"storytype",e.storytype)}else t.clear()}))},save:function(){var t=this;this.$refs["form"].validate((function(i){if(!i)return!1;var n=t.form.url.trim();n.endsWith("/")||(n+="/");var e={},a={pat:t.form.pat,url:n,organization:t.form.organization,issuetype:t.form.issuetype,storytype:t.form.storytype},o=Object(d["h"])(),r=o.lastOrganizationId;e.organizationId=r,e.platform=v["d"],e.configuration=JSON.stringify(a),t.$parent.result=t.$post("service/integration/save",e,(function(){t.show=!0,t.$refs.bugBtn.showEdit=!0,t.$refs.bugBtn.showSave=!1,t.$refs.bugBtn.showCancel=!1,t.reloadPassInput(),t.init(),t.$success(t.$t("commons.save_success"))}))}))},clear:function(){var t=this;this.$set(this.form,"pat",""),this.$set(this.form,"url",""),this.$set(this.form,"organization",""),this.$set(this.form,"issuetype",""),this.$set(this.form,"storytype",""),this.$nextTick((function(){t.$refs.form&&t.$refs.form.clearValidate()}))},testConnection:function(){var t=this;if(!this.form.pat)return this.$warning(this.$t("organization.integration.not_integrated")),!1;this.$parent.result=this.$get("issues/auth/"+Object(d["f"])()+"/"+v["d"],(function(){t.$success(t.$t("organization.integration.verified"))}))},cancelIntegration:function(){var t=this;this.form.url&&this.form.pat?this.$alert(this.$t("organization.integration.cancel_confirm")+v["d"]+"？","",{confirmButtonText:this.$t("commons.confirm"),callback:function(i){if("confirm"===i){var n=Object(d["h"])(),e=n.lastOrganizationId,a={};a.orgId=e,a.platform=v["d"],t.$parent.result=t.$post("service/integration/delete",a,(function(){t.$success(t.$t("organization.integration.successful_operation")),t.init("")}))}}}):this.$warning(this.$t("organization.integration.not_integrated"))},reloadPassInput:function(){this.showInput=!1,this.$nextTick((function(){this.showInput=!0}))}}},H=G,N=(n("13e9"),Object(f["a"])(H,T,q,!1,null,"81533e54",null)),M=N.exports,Y={name:"BugManagement",components:{TapdSetting:$,JiraSetting:k,ZentaoSetting:B,AzuredevopsSetting:M},data:function(){return{tapdEnable:!0,jiraEnable:!1,zentaoEnable:!1,azuredevopsEnable:!1,result:{},platform:v["D"]}},methods:{change:function(t){t===v["D"]?(this.tapdEnable=!0,this.jiraEnable=!1,this.zentaoEnable=!1,this.azuredevopsEnable=!1):t===v["m"]?(this.tapdEnable=!1,this.jiraEnable=!0,this.zentaoEnable=!1,this.azuredevopsEnable=!1):t===v["O"]?(this.tapdEnable=!1,this.jiraEnable=!1,this.zentaoEnable=!0,this.azuredevopsEnable=!1):t===v["d"]&&(this.tapdEnable=!1,this.jiraEnable=!1,this.zentaoEnable=!1,this.azuredevopsEnable=!0)}}},F=Y,R=(n("3f63"),Object(f["a"])(F,o,r,!1,null,"12b10bc1",null)),U=R.exports,D={name:"ServiceIntegration",components:{BugManagement:U},data:function(){return{activeName:"defect"}}},Q=D,J=Object(f["a"])(Q,e,a,!1,null,"229de52f",null);i["default"]=J.exports},"339e":function(t,i,n){},"3f63":function(t,i,n){"use strict";n("9459")},"570b":function(t,i,n){},"61d2":function(t,i,n){"use strict";n("1431")},"62eb":function(t,i,n){"use strict";n("339e")},"73e5":function(t,i,n){},"78aa":function(t,i,n){t.exports=n.p+"img/tapd.af78b3d0.png"},"89a5":function(t,i,n){t.exports=n.p+"img/jira-type.5ef6f47a.png"},"8f19":function(t,i,n){t.exports=n.p+"img/zentao.a03ff8d5.jpg"},9459:function(t,i,n){},"99af":function(t,i,n){"use strict";n("73e5")},ab98:function(t,i){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAATgAAACiCAMAAADiKyHJAAAAw1BMVEX///8AM2YAMGS+ytYAHVsALWPy9PYKQ3MAGFkcPmwAL2TY4egAEVcoS3bP2eL6+/sAKmENN2lJXYCotsYAJF7Y4ekAG1oAJ18AI16Sp7zs7/Ll6/AAO21XbY3n7PGSorY7WH9xi6ZLaIu1wM2Kmq+jssNheZd+kKgyT3hogZ4WS3pPcJTG0Ns2Vn2Dl65XaopffZxufpmZrMGktca2vMgAC1U9VXufqbl4kqwpRXBrhqNndpKWrcJqepVTZ4mCjqQAAFJkRBLpAAAO4klEQVR4nO1da2OiuhYtkaANVWKlwohVfGt9nGnn0XHmzpzz/3/VBRQFsgMBBNsp66NASBZJ9s5+eXOTD9Zu3Jak9nhn5WzoY8Fa9HUiOSB6f1FRJ4zWUkfSEUhftq7dn/eC2p5KAeB+7do9eh8Y7LEUAt4Prt2nd4G5IUVgzK/dp/eAWhtFiUPtarEmY8pMOGfKTa/dq7ePgY1Z4rBd7XJJUOvMSnXWal29dr/eCDRN41xR+xBxfR5x/Ib+Rqiv8/V61QGPBGmIszqr9Xr++mFm47BpUgeyPQMupiBuZstuO2ZzWHSP3wSU9eEY6mz55oi9PBgDwoHYwOwcmcd2iL5Wiu/3taFNz8Qgws45bQGpIwt2J+vg89Sku79/p7OCSxFvWTWjQ4AZ12FuC6ktqP/3m1BGepARGdjmHmmUN/qHvWvWDU3JVfE9vzKeQns/XbN3tPSIeED6hr1rHaIXPRXf8yvjLrwGoQEPaYg5RCGpGf4A0l3R/b46GmHi6tA9MxLYvzAgQW4+IHFhNQ2PwZtqTRkT5IpdLDdhy0hkqUpF9vlN4EdIOJgvnNsm4+WtJN0uxxPODR0z2I7+o6j+vhm0UGDKkSZfjbA2k8km5nIzoLYg9Pf7JbRFYKqYOQ5Lw4CibAIK8l8HbSUf5xzSgSOXOBa+2oLk1QfgzTmsjgyDEIJ1NM11xNSmSMdOQ4Yx+gBHVQ/qaLvf29PcxyRrau/329GHMStVqFAMFLXTUa+0/Vzz3XmxeTRls8HVYAtFbdwwZX0MGAfePjZNT9GiEmtLKxwdyTuQGfV36MgeNI+HSUJLl3oq9Y3zT+/PwDmRfbWelu6GH54MAPIVpntO/Dx1ns5L3qSV3+d3fy731RfAmTj82Cv31b1H/I6J+3E6g9Pnkk+S2vPpoxk/y331BbA52d0oz+ZWGGYn4vT3J1YVPz6QNkvXQ5XtkTmj7O31ElCbB9tF+wpa6KZ/sL803+f5f/dnubQXV4lss3b2cvlnd41XXwKDh4erKaDWw0MVjFihQoUKFSq4GLys/nGw+vSRRWOtPh/WVEtciVc2465JsQOqN8aTFA9arc3L/On9nbNgdO6o3q3bz8MvGyEOrBUNRNRQuhJSBpVNZ/hs17s6vXt/RjgY3rEVEUpJe2+PvqhKPH2bfiQkk/bjT22K0vsysvdth2M3xMngmbEUEFrcxdgnvadPDfCh8R8PvYXFYEz94BhsmI22Pd3w37bpM2HnOIY5bTO16w3TwH4wDx1ztkWN1gFsD+E6Kgau9f0gtCb0pIfxer3aTb9Oai3+Ztx64j7uvWXNt1eqoUmEsN5+5C0/tQnlcnFP69ZjW8fBkDvKT8L5hljg5pG4O+AivT8+eouBq4fnnX3YMExDav557nBmw0bmPX14yzbGFPGwDNOBjD1nB68zodMeHWDkpptMbYQjM/HygdcH7Q5oGB2Je2gAF/GJOCASPgLiEjgEV93MjH0SxdqPWmYkIhq3h9AH6nTh1uUvEBXDdmR6IjNmUccRp0LEkRTEeY0ZY2g6QJkbQRixW/hEisaS0zm7XJU/wEJ1gf+wH9Oa02ibJMb9XeyMOz7RBjowBxfRGSYY5HxmDkWTtAyJ+T4TDm/O12d6VJOiXxKhOEUk/YxLT5xEKNMFbZvwtLGIJe5mJkefQGgaWa5THWrZhR65VZsyHwJMNymZOInso1G1GgbS+kKvgSPIz1gwU9YRaqHlqkAZcH7robVqbaPL1Lkl/suVQ5xEt5HJoEDvDfWhnqAKajt2sdN6UIj3oPToY+v9oLbTAYQvTQgELl44HPsRCWxuceTdGY143pyu2+xKJNLoPN444upn4rSFxI5Et5O+WzkzjskRTdBGHDS4KtSp72t2oiBjexLHYsRtttFsL8nNCks6+pQhVT2YYfnA37dPDySHwlk2IJrPSUdCxM2iZ1kXFEoFTkHcBWdcdLP/nKCNOGJVwB3XY0+iroxYHVhR1nzhcMyC7q0wMAqMk+NTSptxkh6a/PfcMfmgIkmjG+gsKhn40P9XrpKtv3o3tDB0B2kKeL0vPuOowVE05ODS074nEncSQvHMtaFekLYni1p7zloltx41Q87DIqbLS0vV9mKx7kdPkh704NJTmwlqnPOepZCdckKglhAdu7vUijPlvNlsjVnlTUo4aOUhLnbGobZ6oymTPXApFFy2uU0kDjFKM4wZq/N7r2s60kjlyO6G6jDeBLdZhOLPegUS5/ISPYMHn3PRgQcUaqovGGG+g9nBZKfdLJiDmQt55KjPErxZmIIhIsUQpwBHePI9IKpmiVuc8yKxT+8wB6s2SN9uNMiWQB+1lg0oby6EU1UvLFWPxEHyjCwDutEwUY1zxiCaRamsOLoNlSbqkuklaqoTxHtCOHPwwsLBJ27GXgvuWYHw0HO70R+guioc5uac70CkxQ+2fMYP6IzlQX8Udh4WNOM67EJAt2ftKBCQfBqj3Y6+iOcnAUYx5unTFFqq3JvH4k7XYva4JOIs1hpHR7eRX+IyxaNQ7QSDsgionSLk8jrEAUW2zA6jrZIU41Ch0oTpgOP8Q2+FONaohFRG+eumqSnwAGhAqYCkVCUMChIOCcRNWLt3nZV/wmL10CZvxxcDkdIlJl5nxrHaCNlajKGbpsvHqMFHCDEIHrQEiStMqrJGJTxnzZJkm24sMyMzc4iKattCxF12xgUCDwCh+hxIO/KfICkHk2wd5cFIXWuvoBk3AxTcwMmBtTwZO5a41LWhtGGiQR6GnL7US0HCASj4HLSvfWOu4pebCTPqVGLVwzoTc2aSK/IixInMuB7g0cSPp5dabLukA4haOXUGfo93bI0DnWfI5Lw4cd56hGIPjHMFH5YiSdrcDJi36YImniBz49RHCEP8aFckca2eWptBptXA9HlhNnGX8B5DpyMxUsOCI7v4oPVMiU4X9znY99s+aOu6Ox+gd8ysILeuyyr6WGB1iwOMJeSDNLPVPLu4J58Q0AkQKvz5i5kUZOkQ98QcVu+zTIZWP8URgqQ7aOUhLpt7EOHzStX+YeNy11CMDMo2GyaQr5TTLZq1AkxZflUzENMxuGeNliOQuIz/9TFJdgX5L8hcOaekMK9QCYIW6xt0q1sC5bX1r9lG9ZIUC3XEXfYE/+KJQ4R2Q9FXNzXAGjdx47ZY4rIWbxyCLtMo8vwHS9HEtW+b3+eReExAy2u4qtRXRu03RhlrZWgjAaUE56lNWHR8XHv9P2bsr+y5yIty+crMOGxnHZr2OfHwZSaGcsW+oOil2l8+RzZgYEkeoq4mbEeeMpe14ftv/HGMc1V+KWGPo11SC/YR8FYfQnKBva+bvR7QIJ45mklHPKOkqPPgbqIA1jivFAogbbs5yoxYcUcIflqSIMrR45Cxjg3NPfieH1hG9U85xhbjv0FSYqBsAi4uHHTdgH4PuOV7bKuHOL8BG22Y0u0QGRs/CYXO85a2uvRSbb8MF7bMrpHAIQAIODcPii7r30/MdogdGz/tSTy8gtt4EfY4yDuMl35XO4CicGD1N5vzcZtnbOyHOPUmRbADp/FCLMAtYHdp+FOO9S2g45/FAlfaOcrsbWKEA81b3Ko80/mpah2bneC/j1XwXMtwVrD2vQBIP2dBiIKcNf/GOGtY2UmWR6ciu4iBv4ISHRmb7BUEzXqa85svxq/6CmQLfVd4z+H7w4Kssb6I7EVYmZTWSE9xvlrMRflV2aXq+1Ut9j92/bxb4EMZ/2Yc2CApCIdIuRZreZ58n7ga0OQvredAAdyGmavX/kz0duUrFVpiCMQxlBX4Uzu0f/TwC5inGY+UItHZ8D9NFUZc3jCvIbBnu3UjXPC7khLWUoS4fY7zavlhXpDOETe6TPoIkJAJgOY4l5ROHBRwHgc5C3EvUMcBdN+MzyGZOCDgPBZZ/AJqU9BwQ7Ibl0onTrXTRZwKZV+GAeX18FrP/O+96fW4nMKhFXcQgvqyTK3hv4IJXDC6Wf1opc+4TcoQZySlJe6B1bBjmu9ntGiWThwU4hWLu5SLSWH/wzcOVDwL6brEpY7TlVOGQXxKG+aVzToPFk4pkrjUIZPc//6EoSaV0GH6hTOp2GDhFLIsjjh+2R4O0h0pFaiihgedk6Eq4W0WY+kL5PD2zTwFHLm0lEI1bXThkPNdEBq+8hJISAbJqoBaFb4f8InLN+M0jmw41CkEh/U9xXignHYP+pS/vaL0ZmZrDn4gn7gCMmsAy5GL9gHQpVBmdQK0J86Eo4+a67zhLGP8JK7yqF8dTJlicz43hc04UBsh9qTmATIAoFtxsTrkzedDIdYWVJ3ChSl+rvv0TZZlXu5TgcSBeyr9dWwSrvElbOPmWsu7x5qYXzg1xFKkwH2KU6cKFA4/odVCfx+bVKEZQ18Fx9TjJfuezUe8QBxsi0rWeOKOgqyAGQfaRgy/ZoUKTRlht8OIV9Kgf9LUuBHpwn9AHUucv3QKII6Nm5YChbuAlHNxt0ONp8EFXYyA4f74FsHFGkucPi2KOIstAyIFYpIsyJBGbCF3FBCyc4ARiiCccwzQeCsmvGOJ69aKIg6ur3UqyjcYQ22K5QzxznIo7LMf8DRwwT8WjCPulGB7eXscEHQpBdK8BuCBTBYx0054AjMqlPmiV2ixxhF3CpK//Iz7Am4xDZ8ZBXRIiNhH4D1Acv/3LqLcarzFKqZpxxBH7/25fXni4BqCpzqiMHFG8llS4/mfyZ7RMwY8j4Qh8keafOLIuejAxYnjhPp9O3VrCF0XcDt0eBLVAIJ2ajwHpSHgoeYSRwLlUy9OHMeN8t/pjUCwjkg1iB6csejsOmDk5YKTA4FoshrMIY4YzcCGcvGTA7z5I+n0RjhyoZ00Gt62ZY7Bbcsac5gz5lmIQ1in9jSobF58xqlgZV7ydHoj8JyLhMFo4zsZBO+PfayV3IXuv0tOGvn0X/SZRn2824QF/0P0JhcN3z6GgXd39WOYV5e52MU150tA3W0EiDNBApJG06uBiFFjBvATyUvVij6iKRrDtgI27ssO+NUa3PyhV3CDtbPRn8NA4nAqVKhQoUKFChUqVKhQoUKFChUqVKhQoUKFChUqVKhQoUKFCiXi/3J6P/LB2q+3AAAAAElFTkSuQmCC"},b0d4:function(t,i,n){t.exports=n.p+"img/azureDevops-type.1f5797fb.png"},ffea:function(t,i,n){t.exports=n.p+"img/AzureDevops.df8ba3e2.png"}}]);