(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-26cd952e"],{"495a":function(e,t,s){"use strict";s.r(t);var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{directives:[{name:"loading",rawName:"v-loading",value:e.result.loading,expression:"result.loading"}]},[s("el-card",{staticClass:"table-card",scopedSlots:e._u([{key:"header",fn:function(){return[s("div",[s("el-row",{staticClass:"table-title",attrs:{type:"flex",justify:"space-between",align:"middle"}},[s("span",{staticClass:"title"},[e._v("API Keys")])]),s("el-row",{attrs:{type:"flex",justify:"space-between",align:"middle"}},[s("el-button",{attrs:{plain:"",type:"el-icon-question",icon:"el-icon-circle-plus-outline",size:"mini"},on:{click:function(t){return e.createApiKey()}}},[e._v(" "+e._s(e.$t("commons.create"))+" ")])],1)],1)]},proxy:!0}])},[s("el-table",{staticClass:"adjust-table",staticStyle:{width:"100%"},attrs:{border:"",data:e.tableData}},[s("el-table-column",{attrs:{prop:"accessKey",label:"Access Key"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("div",{staticClass:"variable-combine"},[s("div",{staticClass:"variable"},[e._v(e._s(t.row.accessKey))]),s("div",[s("el-tooltip",{attrs:{content:e.$t("api_test.copied"),manual:"",placement:"top","visible-arrow":!1},model:{value:t.row.visible,callback:function(s){e.$set(t.row,"visible",s)},expression:"scope.row.visible"}},[s("i",{staticClass:"el-icon-copy-document copy",on:{click:function(s){return e.copy(t.row,"accessKey","visible")}}})])],1)])]}}])}),s("el-table-column",{attrs:{prop:"secretKey",label:"Secret Key"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-link",{attrs:{type:"primary"},on:{click:function(s){return e.showSecretKey(t.row)}}},[e._v(e._s(e.$t("commons.show")))])]}}])}),s("el-table-column",{attrs:{prop:"status",label:e.$t("commons.status")},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-switch",{attrs:{"inactive-color":"#DCDFE6","active-value":"ACTIVE","inactive-value":"DISABLED"},on:{change:function(s){return e.changeSwitch(t.row)}},model:{value:t.row.status,callback:function(s){e.$set(t.row,"status",s)},expression:"scope.row.status"}})]}}])}),s("el-table-column",{attrs:{prop:"createTime",label:e.$t("commons.create_time")},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",[e._v(e._s(e._f("timestampFormatDate")(t.row.createTime)))])]}}])}),s("el-table-column",{attrs:{label:e.$t("commons.operating")},scopedSlots:e._u([{key:"default",fn:function(t){return[s("div",[s("ms-table-operator-button",{attrs:{tip:e.$t("commons.delete"),icon:"el-icon-delete",type:"danger"},on:{exec:function(s){return e.deleteApiKey(t.row)}}})],1)]}}])})],1)],1),s("el-dialog",{attrs:{title:"Secret Key",visible:e.apiKeysVisible},on:{"update:visible":function(t){e.apiKeysVisible=t}}},[s("div",{staticClass:"variable"},[e._v(" "+e._s(e.currentRow.secretKey)+" "),s("el-tooltip",{attrs:{content:e.$t("api_test.copied"),manual:"",placement:"top","visible-arrow":!1},model:{value:e.currentRow.visible2,callback:function(t){e.$set(e.currentRow,"visible2",t)},expression:"currentRow.visible2"}},[s("i",{staticClass:"el-icon-copy-document copy",on:{click:function(t){return e.copy(e.currentRow,"secretKey","visible2")}}})])],1)])],1)},c=[],i=(s("4c1e"),s("6df5"),s("89a8"),s("1a91"),s("15bc")),o=s("495f"),a=s("be8e"),r=s("10b9"),l={name:"MsApiKeys",components:{MsDialogFooter:i["a"],MsTableOperatorButton:a["a"],MsTableHeader:r["a"]},data:function(){return{result:{},updateVisible:!1,editPasswordVisible:!1,apiKeysVisible:!1,condition:{},tableData:[],currentRow:{}}},activated:function(){this.search()},methods:{currentUser:function(){return Object(o["h"])()},search:function(){var e=this;this.result=this.$get("/user/key/info",(function(t){e.tableData=t.data,e.tableData.forEach((function(e){return e.show=!1}))}))},deleteApiKey:function(e){var t=this;this.$confirm(this.$t("user.apikey_delete_confirm"),"",{confirmButtonText:this.$t("commons.confirm"),cancelButtonText:this.$t("commons.cancel"),type:"warning"}).then((function(){t.result=t.$get("/user/key/delete/"+e.id,(function(e){t.$success(t.$t("commons.delete_success")),t.search()}))})).catch((function(){t.$info(t.$t("commons.delete_cancel"))}))},createApiKey:function(){var e=this;this.result=this.$get("/user/key/generate",(function(t){e.$success(e.$t("commons.save_success")),e.search()}))},changeSwitch:function(e){var t=this;"ACTIVE"===e.status&&(this.result=this.$get("/user/key/active/"+e.id,(function(e){t.$success(t.$t("commons.save_success"))}))),"DISABLED"===e.status&&(this.result=this.$get("/user/key/disable/"+e.id,(function(e){t.$success(t.$t("commons.save_success"))})))},showSecretKey:function(e){this.apiKeysVisible=!0,this.currentRow=e},copy:function(e,t,s){var n=document.createElement("input");document.body.appendChild(n),n.value=e[t],n.select(),n.setSelectionRange&&n.setSelectionRange(0,n.value.length),document.execCommand("copy"),document.body.removeChild(n),e[s]=!0,setTimeout((function(){e[s]=!1}),1e3)}}},u=l,d=(s("7d17"),s("cba8")),p=Object(d["a"])(u,n,c,!1,null,"2cd30fee",null);t["default"]=p.exports},"66e9":function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},"6df5":function(e,t,s){"use strict";var n=s("e3f7"),c=s("9dd2"),i=s("25ef"),o=s("8e74"),a=s("66e9"),r=s("3ffc"),l=s("ecf4"),u=s("bacb");c("search",(function(e,t,s){return[function(t){var s=o(this),c=void 0==t?void 0:l(t,e);return c?n(c,t,s):new RegExp(t)[e](r(s))},function(e){var n=i(this),c=r(e),o=s(t,n,c);if(o.done)return o.value;var l=n.lastIndex;a(l,0)||(n.lastIndex=0);var d=u(n,c);return a(n.lastIndex,l)||(n.lastIndex=l),null===d?-1:d.index}]}))},"7d17":function(e,t,s){"use strict";s("cdb3")},cdb3:function(e,t,s){}}]);