(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6ac5a7f5"],{1093:function(t,e,o){},"2c28":function(t,e,o){"use strict";o.r(e);var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("ms-container",[o("ms-main-container",[o("el-card",{directives:[{name:"loading",rawName:"v-loading",value:t.result.loading,expression:"result.loading"}],staticClass:"table-card",scopedSlots:t._u([{key:"header",fn:function(){return[o("ms-table-header",{attrs:{condition:t.condition,title:t.$t("api_report.title"),"show-create":!1},on:{"update:condition":function(e){t.condition=e},search:t.search}})]},proxy:!0}])},[o("el-table",{staticClass:"adjust-table table-content",attrs:{border:"",data:t.tableData},on:{"sort-change":t.sort,"select-all":t.handleSelectAll,select:t.handleSelect,"filter-change":t.filter,"row-click":t.handleView}},[o("el-table-column",{attrs:{type:"selection"}}),o("el-table-column",{attrs:{width:"40",resizable:!1,align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("show-more-btn",{attrs:{"is-show":e.row.showMore,buttons:t.buttons,size:t.selectRows.size}})]}}])}),o("el-table-column",{attrs:{label:t.$t("commons.name"),width:"200","show-overflow-tooltip":"",prop:"name"}}),o("el-table-column",{attrs:{prop:"testName",label:t.$t("api_report.test_name"),width:"200","show-overflow-tooltip":""}}),o("el-table-column",{attrs:{prop:"projectName",label:t.$t("load_test.project_name"),width:"150","show-overflow-tooltip":""}}),o("el-table-column",{attrs:{prop:"userName",label:t.$t("api_test.creator"),width:"150","show-overflow-tooltip":""}}),o("el-table-column",{attrs:{prop:"createTime",width:"250",label:t.$t("commons.create_time"),sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[o("span",[t._v(t._s(t._f("timestampFormatDate")(e.row.createTime)))])]}}])}),o("el-table-column",{attrs:{prop:"triggerMode",width:"150",label:t.$t("commons.trigger_mode.name"),"column-key":"triggerMode",filters:t.triggerFilters},scopedSlots:t._u([{key:"default",fn:function(t){return[o("report-trigger-mode-item",{attrs:{"trigger-mode":t.row.triggerMode}})]}}])}),o("el-table-column",{attrs:{prop:"status",label:t.$t("commons.status"),"column-key":"status",filters:t.statusFilters},scopedSlots:t._u([{key:"default",fn:function(t){var e=t.row;return[o("ms-api-report-status",{attrs:{row:e}})]}}])}),o("el-table-column",{attrs:{width:"150",label:t.$t("commons.operating")},scopedSlots:t._u([{key:"default",fn:function(e){return[o("div",[o("ms-table-operator-button",{attrs:{tip:t.$t("api_report.detail"),icon:"el-icon-s-data",type:"primary"},on:{exec:function(o){return t.handleView(e.row)}}}),o("ms-table-operator-button",{attrs:{tip:t.$t("api_report.delete"),icon:"el-icon-delete",type:"danger"},on:{exec:function(o){return t.handleDelete(e.row)}}})],1)]}}])})],1),o("ms-table-pagination",{attrs:{change:t.search,"current-page":t.currentPage,"page-size":t.pageSize,total:t.total},on:{"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e},"update:pageSize":function(e){t.pageSize=e},"update:page-size":function(e){t.pageSize=e}}})],1)],1)],1)},n=[],s=(o("89a8"),o("d25d"),o("b110"),o("fe35"),o("10dd"),o("4c1e"),o("6df5"),o("1a91"),o("8ea3"),o("e766"),o("59d9")),r=o("10b9"),i=o("1b11"),c=o("489a"),l=o("c7ab"),u=o("be8e"),d=o("4191"),p=o("8852"),m=o("eab7"),h=o("e077"),f=o("495f"),g={components:{ReportTriggerModeItem:d["a"],MsTableOperatorButton:u["a"],MsApiReportStatus:l["a"],MsMainContainer:c["a"],MsContainer:i["a"],MsTableHeader:r["a"],MsTablePagination:s["a"],ShowMoreBtn:m["a"]},data:function(){return{result:{},condition:{components:p["f"]},tableData:[],multipleSelection:[],currentPage:1,pageSize:10,total:0,loading:!1,statusFilters:[{text:"Saved",value:"Saved"},{text:"Starting",value:"Starting"},{text:"Running",value:"Running"},{text:"Reporting",value:"Reporting"},{text:"Completed",value:"Completed"},{text:"Error",value:"Error"},{text:"Success",value:"Success"}],triggerFilters:[{text:this.$t("commons.trigger_mode.manual"),value:"MANUAL"},{text:this.$t("commons.trigger_mode.schedule"),value:"SCHEDULE"},{text:this.$t("commons.trigger_mode.api"),value:"API"}],buttons:[{name:this.$t("api_report.batch_delete"),handleClick:this.handleBatchDelete}],selectRows:new Set}},watch:{$route:"init"},methods:{search:function(){var t=this;"all"!==this.testId&&(this.condition.testId=this.testId),this.condition.projectId=Object(f["g"])();var e="/api/report/list/"+this.currentPage+"/"+this.pageSize;this.result=this.$post(e,this.condition,(function(e){var o=e.data;t.total=o.itemCount,t.tableData=o.listObject,t.selectRows.clear()}))},handleSelectionChange:function(t){this.multipleSelection=t},handleView:function(t){this.$router.push({path:"/api/report/view/"+t.id})},handleDelete:function(t){var e=this;this.$alert(this.$t("api_report.delete_confirm")+t.name+"？","",{confirmButtonText:this.$t("commons.confirm"),callback:function(o){"confirm"===o&&(e.result=e.$post("/api/report/delete",{id:t.id},(function(){e.$success(e.$t("commons.delete_success")),e.search()})))}})},init:function(){this.testId=this.$route.params.testId,this.search()},sort:function(t){Object(h["d"])(t,this.condition),this.init()},filter:function(t){Object(h["a"])(t,this.condition),this.init()},handleSelect:function(t,e){this.selectRows.has(e)?(this.$set(e,"showMore",!1),this.selectRows.delete(e)):(this.$set(e,"showMore",!0),this.selectRows.add(e))},handleSelectAll:function(t){var e=this;t.length>0?this.tableData.forEach((function(t){e.$set(t,"showMore",!0),e.selectRows.add(t)})):(this.selectRows.clear(),this.tableData.forEach((function(t){e.$set(t,"showMore",!1)})))},handleBatchDelete:function(){var t=this;this.$alert(this.$t("api_report.delete_batch_confirm")+"？","",{confirmButtonText:this.$t("commons.confirm"),callback:function(e){if("confirm"===e){var o=Array.from(t.selectRows).map((function(t){return t.id}));t.$post("/api/report/batch/delete",{ids:o},(function(){t.selectRows.clear(),t.$success(t.$t("commons.delete_success")),t.search()}))}}})}},created:function(){this.init()}},b=g,_=(o("f998"),o("cba8")),w=Object(_["a"])(b,a,n,!1,null,"08580a14",null);e["default"]=w.exports},"344e":function(t,e,o){},4191:function(t,e,o){"use strict";var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("span",["TEST_PLAN_API"===t.triggerMode?o("span",[t._v(t._s(t.$t("commons.trigger_mode.api")))]):t._e(),"MANUAL"===t.triggerMode?o("span",[t._v(t._s(t.$t("commons.trigger_mode.manual")))]):t._e(),"SCHEDULE"===t.triggerMode?o("span",[t._v(t._s(t.$t("commons.trigger_mode.schedule")))]):t._e(),"TEST_PLAN_SCHEDULE"===t.triggerMode?o("span",[t._v(t._s(t.$t("commons.trigger_mode.schedule")))]):t._e(),"API"===t.triggerMode?o("span",[t._v(t._s(t.$t("commons.trigger_mode.api")))]):t._e(),"BATCH"===t.triggerMode?o("span",[t._v(t._s(t.$t("api_test.automation.batch_execute")))]):t._e()])},n=[],s={name:"ReportTriggerModeItem",props:["triggerMode"]},r=s,i=o("cba8"),c=Object(i["a"])(r,a,n,!1,null,"43af7f24",null);e["a"]=c.exports},"66e9":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},"6df5":function(t,e,o){"use strict";var a=o("e3f7"),n=o("9dd2"),s=o("25ef"),r=o("8e74"),i=o("66e9"),c=o("3ffc"),l=o("ecf4"),u=o("bacb");n("search",(function(t,e,o){return[function(e){var o=r(this),n=void 0==e?void 0:l(e,t);return n?a(n,e,o):new RegExp(e)[t](c(o))},function(t){var a=s(this),n=c(t),r=o(e,a,n);if(r.done)return r.value;var l=a.lastIndex;i(l,0)||(a.lastIndex=0);var d=u(a,n);return i(a.lastIndex,l)||(a.lastIndex=l),null===d?-1:d.index}]}))},afcf:function(t,e,o){"use strict";o("b553")},b553:function(t,e,o){},c7ab:function(t,e,o){"use strict";var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",["Starting"===t.row.status?o("el-tag",{attrs:{size:"mini",type:"info"}},[t._v(" "+t._s(t.row.status)+" ")]):"Running"===t.row.status?o("el-tag",{attrs:{size:"mini",type:"primary",effect:"plain"}},[t._v(" "+t._s(t.row.status)+" ")]):"Success"===t.row.status?o("el-tag",{attrs:{size:"mini",type:"success"}},[t._v(" "+t._s(t.row.status)+" ")]):"Reporting"===t.row.status?o("el-tag",{attrs:{size:"mini",type:"warning"}},[t._v(" "+t._s(t.row.status)+" ")]):"Error"===t.row.status?o("el-tooltip",{attrs:{placement:"top",effect:"light"},scopedSlots:t._u([{key:"content",fn:function(){return[o("div",[t._v(t._s(t.row.description))])]},proxy:!0}])},[o("el-tag",{attrs:{size:"mini",type:"danger"}},[t._v(" "+t._s(t.row.status)+" ")])],1):o("el-tag",{attrs:{size:"mini",type:"info"}},[t._v(" "+t._s(t.row.status)+" ")])],1)},n=[],s={name:"MsApiReportStatus",props:{row:Object}},r=s,i=o("cba8"),c=Object(i["a"])(r,a,n,!1,null,"5d0d0b76",null);e["a"]=c.exports},ddf4:function(t,e,o){"use strict";o("344e")},eab7:function(t,e,o){"use strict";var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.isShow?o("div",[o("el-dropdown",{attrs:{placement:"bottom",trigger:"click",size:"medium"}},[o("div",{staticClass:"show-more-btn",on:{click:function(t){t.stopPropagation()}}},[o("el-tooltip",{attrs:{"popper-class":"batch-popper",value:!t.hasShowed,effect:"dark",content:t.$t("test_track.case.batch_operate"),placement:"top-start"}},[o("i",{staticClass:"el-icon-more ms-icon-more table-more-icon"})])],1),o("el-dropdown-menu",{staticClass:"dropdown-menu-class",attrs:{slot:"dropdown"},slot:"dropdown"},[o("div",{staticClass:"show-more-btn-title"},[t._v(t._s(t.$t("test_track.case.batch_handle",[t.size])))]),t._l(t.buttons,(function(e,a){return o("el-dropdown-item",{key:a,attrs:{disabled:t.isDisable(e)},nativeOn:{click:function(o){return o.stopPropagation(),t.click(e)}}},[t._v(" "+t._s(e.name)+" ")])}))],2)],1)],1):t._e()},n=[],s=o("045d"),r=(o("51b3"),o("993f"),o("495f")),i={name:"ShowMoreBtn",data:function(){return{disabled:!1}},props:{isShow:{type:Boolean,default:!1},buttons:Array,row:Object,size:Number,hasShowed:Boolean},created:function(){this.trashEnable&&this.buttons.splice(1,1)},methods:{click:function(t){t.handleClick instanceof Function&&t.handleClick()},isDisable:function(t){return!!(t.permissions&&t.permissions.length>0)&&!r["r"].apply(void 0,Object(s["a"])(t.permissions))}}},c=i,l=(o("afcf"),o("ddf4"),o("cba8")),u=Object(l["a"])(c,a,n,!1,null,"0c4d25dc",null);e["a"]=u.exports},f998:function(t,e,o){"use strict";o("1093")}}]);